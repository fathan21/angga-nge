(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["setting-mitra-5d731810"],{fc7d:function(e,t,a){"use strict";a.r(t);a("14d9");var o=a("7a23");const s={class:"col-md-12 col-sm-12"},l={class:"x_panel"},n={class:"x_title"},c=Object(o["createElementVNode"])("h2",null,"Mitra List",-1),r={class:"nav navbar-right panel_toolbox"},i=Object(o["createElementVNode"])("i",{class:"fa fa-plus"},null,-1),b=Object(o["createElementVNode"])("div",{class:"clearfix"},null,-1),d={class:"x_content"},p={class:"table-responsive"},m={class:"row"},u={class:"col-sm-6"},j={class:"item form-group"},O={class:"col-md-6 col-sm-6 ps-0"},h={class:"input-group"},g={class:"row"},E={class:"col-sm-12"},k={class:"table-responsive"},V={class:"table table-striped jambo_table bulk_action table-bordered"},N=["onClick"],f={scope:"row"},y=["onClick"],v=["onClick"],C=["onClick"],_=["onClick"],w=Object(o["createElementVNode"])("i",{class:"fa fa-pencil"},null,-1),D=[w],B=["title","onClick"],S={key:0,class:"fa fa-ban"},x={key:1,class:"fa fa-check"},$={key:0},q=Object(o["createElementVNode"])("td",{colspan:"7",class:"text-center"}," Data tidak ditemukan ",-1),U=[q];function P(e,t,a,w,q,P){const T=Object(o["resolveComponent"])("b-overlay"),z=Object(o["resolveComponent"])("paging-base");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",s,[Object(o["createElementVNode"])("div",l,[Object(o["createElementVNode"])("div",n,[c,Object(o["createElementVNode"])("ul",r,[Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("button",{class:"btn btn-sm btn-primary",type:"button",onClick:t[0]||(t[0]=t=>e.$router.push({name:"app.setting.mitra.form"}))},[i,Object(o["createTextVNode"])(" Tambah ")])])]),b]),Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("div",p,[Object(o["createElementVNode"])("div",m,[Object(o["createElementVNode"])("div",u,[Object(o["createElementVNode"])("div",j,[Object(o["createElementVNode"])("div",O,[Object(o["createElementVNode"])("div",h,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"cari...","onUpdate:modelValue":t[1]||(t[1]=e=>q.search.q=e),onKeyup:t[2]||(t[2]=Object(o["withKeys"])((...e)=>P.searchData&&P.searchData(...e),["enter"]))},null,544),[[o["vModelText"],q.search.q]]),Object(o["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[3]||(t[3]=(...e)=>P.searchData&&P.searchData(...e))}," Cari ")])])])])]),Object(o["createElementVNode"])("div",g,[Object(o["createElementVNode"])("div",E,[Object(o["createVNode"])(T,{show:q.loading,rounded:"sm"},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",k,[Object(o["createElementVNode"])("table",V,[Object(o["createElementVNode"])("thead",null,[Object(o["createElementVNode"])("tr",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(P.headers,(e,t)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("th",{key:t,class:Object(o["normalizeClass"])([e.sortable?" sortable ":"",e.field==q.options.sort&&"asc"==q.options.order?" asc ":e.field==q.options.sort&&"desc"==q.options.order?" desc ":"both"]),onClick:t=>e.sortable?P.sorter(e.field):null},Object(o["toDisplayString"])(e.label),11,N))),128))])]),Object(o["createElementVNode"])("tbody",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(q.data,(t,a)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{key:a},[Object(o["createElementVNode"])("td",f,Object(o["toDisplayString"])((q.options.current_page-1)*q.options.per_page+a+1),1),Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(t.name),1),Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(t.email),1),Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(t.phone),1),Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(t.mitra.username),1),Object(o["createElementVNode"])("td",null,[Object(o["createElementVNode"])("span",{class:Object(o["normalizeClass"])(["badge",1==t.status?"bg-primary":"bg-danger"])},Object(o["toDisplayString"])(1==t.status?"Aktif":"Suspen"),3)]),Object(o["createElementVNode"])("td",null,[Object(o["createElementVNode"])("span",{class:Object(o["normalizeClass"])(["badge","1"==t.mitra.is_prod?"bg-success":"bg-danger"])},Object(o["toDisplayString"])(1==t.mitra.is_prod?"Ya":"Tidak"),3)]),Object(o["createElementVNode"])("td",null,[Object(o["createElementVNode"])("button",{class:"btn btn-sm btn-info btn-action-list",type:"button","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Ubah",onClick:a=>e.$router.push({name:"app.setting.deposit.form",params:{id:t.mitra.code},query:{mitra:t.name}})}," Set Deposit ",8,y),Object(o["createElementVNode"])("button",{class:"btn btn-sm btn-warning btn-action-list",type:"button","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Ubah",onClick:a=>e.$router.push({name:"app.setting.mitra.sms-provider",params:{id:t.mitra.code},query:{mitra:t.name}})}," Set Sms Provider ",8,v),Object(o["createElementVNode"])("button",{class:"btn btn-sm btn-success btn-action-list",type:"button","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Ubah",onClick:a=>e.$router.push({name:"app.setting.mitra.suppliers",params:{id:t.id}})}," Set Suppliers ",8,C),Object(o["createElementVNode"])("button",{class:"btn btn-sm btn-primary btn-action-list",type:"button","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Ubah",onClick:e=>P.editItem(t)},D,8,_),Object(o["createElementVNode"])("button",{class:Object(o["normalizeClass"])(["btn btn-sm btn-action-list",1==t.status?"btn-warning":"btn-info"]),type:"button","data-bs-toggle":"tooltip","data-bs-placement":"top",title:1==t.status?"Suspend":"Aktif",onClick:e=>P.removeItem(t)},[1==t.status?(Object(o["openBlock"])(),Object(o["createElementBlock"])("i",S)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("i",x))],10,B)])]))),128)),q.data.length<=0&&!q.loading?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",$,U)):Object(o["createCommentVNode"])("",!0)])])])]),_:1},8,["show"])])]),q.data.length>0?(Object(o["openBlock"])(),Object(o["createBlock"])(z,{key:0,modelValue:q.options.current_page,"onUpdate:modelValue":t[4]||(t[4]=e=>q.options.current_page=e),options:q.options},null,8,["modelValue","options"])):Object(o["createCommentVNode"])("",!0)])])])])}var T={data(){return{data:[],options:{current_page:1,total_row:0,per_page:1,sort:"name",order:"asc"},search:{q:""},loading:!1}},mounted(){this.searchData()},computed:{headers(){return[{label:"#",sortable:!1},{label:"Name",field:"name",sortable:!0},{label:"Email",field:"email",sortable:!0},{label:"Phone",field:"phone",sortable:!0},{label:"Username",field:"usernam",sortable:!1},{label:"Status",field:"status",sortable:!0},{label:"Production",field:"is_prod",sortable:!0},{label:"Action",sortable:!1}]},moreParams(){return{page:this.options.current_page,q:this.search.q,sort:this.options.sort+"|"+this.options.order}}},watch:{"options.current_page":{handler:function(){this.loadData()}}},methods:{sorter(e){this.options.sort==e?this.options.order="asc"==this.options.order?"desc":"asc":(this.options.sort=e,this.options.order="asc"),this.loadData()},searchData(){this.options.current_page=1,this.loadData()},loadData(){this.loading=!0,this.$axios.get("mitra",{params:this.moreParams}).then(e=>{this.loading=!1,this.data=e.data.data,this.options.total_row=e.data.meta.total,this.options.per_page=e.data.meta.per_page}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})},removeItem(e){let t=1==e.status?"Suspend":"Aktif",a=1==e.status?0:1;this.$swal.fire({width:350,title:"Yakin?",showCancelButton:!0,confirmButtonText:t}).then(t=>{t.isConfirmed&&this._changeStatus(e,a)})},_changeStatus(e,t){let a=Object.assign({},e);a.status=t,this.$axios.put("users/"+e.id,a).then(e=>{this.$root.notif(e.message),this.loadData()}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{})},editItem(e){this.$router.push({name:"app.setting.mitra.form",params:{id:e.id}})}}},z=a("d959"),A=a.n(z);const I=A()(T,[["render",P]]);t["default"]=I}}]);