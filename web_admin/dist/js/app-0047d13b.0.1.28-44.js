(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app-0047d13b"],{"15cb":function(e,t,c){"use strict";var a=c("7a23");const l={class:"col-md-12 col-sm-12"},o={class:"x_panel"},n={class:"x_content"},r={class:"row"},s={class:"col-sm-12 col-md-4 col-lg-4"},d={class:"col-sm-12 col-md-3 col-lg-3"},i={class:"col-sm-12 col-md-2 col-lg-2"},b={class:"col-sm-12 col-md-3 col-lg-3"},O={class:"input-group"},j={class:"row"},m={class:"col-sm-12"},p={class:"table-responsive table-responsive-sticky"},u={class:"table table-striped jambo_table bulk_action table-bordered"},N=Object(a["createElementVNode"])("thead",{class:""},[Object(a["createElementVNode"])("tr",null,[Object(a["createElementVNode"])("th",{style:{"min-width":"150px"}},[Object(a["createTextVNode"])(" Tgl Transaksi "),Object(a["createElementVNode"])("br"),Object(a["createTextVNode"])(" Tgl Pembayaran ")]),Object(a["createElementVNode"])("th",null," ID Transaksi "),Object(a["createElementVNode"])("th",null,"Status"),Object(a["createElementVNode"])("th",null,"Mitra"),Object(a["createElementVNode"])("th",null,[Object(a["createTextVNode"])(" Rute "),Object(a["createElementVNode"])("br"),Object(a["createTextVNode"])(" Kereta Api ")]),Object(a["createElementVNode"])("th",null,[Object(a["createTextVNode"])(" Tgl "),Object(a["createElementVNode"])("br"),Object(a["createTextVNode"])(" Keberangkatan ")]),Object(a["createElementVNode"])("th",null,[Object(a["createTextVNode"])(" Kode "),Object(a["createElementVNode"])("br"),Object(a["createTextVNode"])(" Booking ")]),Object(a["createElementVNode"])("th",null," Penumpang "),Object(a["createElementVNode"])("th",{class:"text-end"},"Paxpaid"),Object(a["createElementVNode"])("th",{class:"text-end"},"NTA"),Object(a["createElementVNode"])("th",{class:"text-end"},"NRA"),Object(a["createElementVNode"])("th",{class:"text-end"},"Pajak"),Object(a["createElementVNode"])("th",{class:"text-end"},"Pusat"),Object(a["createElementVNode"])("th",{class:"text-end"},"Mitra"),Object(a["createElementVNode"])("th",null," # ")])],-1),V={key:0},h=Object(a["createElementVNode"])("td",{colspan:"15",class:"text-center"}," Data tidak ditemukan ",-1),x=[h],E={scope:"row"},g={class:"text-black-50"},y={style:{"min-width":"200px"}},k={class:"text-success"},_={class:"text-warning"},f={key:0,class:"text-info"},w={key:1,class:"text-danger"},D={style:{"min-width":"100px"}},v={class:"",style:{"min-width":"100px"}},C={class:"d-flex mb-2 align-items-center justify-content-between"},B={class:"d-flex"},S=Object(a["createElementVNode"])("div",{class:"px-3"},"-",-1),T={class:"text-black-50"},$={class:"text-center"},P={class:"text-danger"},K={class:"text-center"},M={key:0},A={key:1},F={key:2},q={class:"text-end"},L={class:"text-end"},R={class:"text-end"},U={class:"text-end"},I={class:"text-end"},z={class:"text-end"};function J(e,t,c,h,J,W){const G=Object(a["resolveComponent"])("input-date-picker-range-base"),H=Object(a["resolveComponent"])("select-mitra-base"),Q=Object(a["resolveComponent"])("select-base"),X=Object(a["resolveComponent"])("routerLink"),Y=Object(a["resolveComponent"])("statusbadge-base"),Z=Object(a["resolveComponent"])("mitra-link-base"),ee=Object(a["resolveComponent"])("NoteTooltipBase"),te=Object(a["resolveComponent"])("b-button"),ce=Object(a["resolveComponent"])("b-overlay"),ae=Object(a["resolveComponent"])("paging-base"),le=Object(a["resolveComponent"])("ChangeStatus"),oe=Object(a["resolveComponent"])("modal-base");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l,[Object(a["createElementVNode"])("div",o,[Object(a["createElementVNode"])("div",n,[Object(a["createElementVNode"])("div",r,[Object(a["createElementVNode"])("div",s,[Object(a["createVNode"])(G,{start_date:J.search.start_date,"onUpdate:start_date":t[0]||(t[0]=e=>J.search.start_date=e),end_date:J.search.end_date,"onUpdate:end_date":t[1]||(t[1]=e=>J.search.end_date=e),"max-date":new Date},null,8,["start_date","end_date","max-date"])]),Object(a["createElementVNode"])("div",d,[Object(a["createVNode"])(H,{onOnChange:W.setMitra},null,8,["onOnChange"])]),Object(a["createElementVNode"])("div",i,[Object(a["createVNode"])(Q,{options:J.status,placeholder:"Pilih status",onOnChange:W.setStatus},null,8,["options","onOnChange"])]),Object(a["createElementVNode"])("div",b,[Object(a["createElementVNode"])("div",O,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"cari...","onUpdate:modelValue":t[2]||(t[2]=e=>J.search.q=e),onKeyup:t[3]||(t[3]=Object(a["withKeys"])((...e)=>W.searchData&&W.searchData(...e),["enter"]))},null,544),[[a["vModelText"],J.search.q]]),Object(a["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[4]||(t[4]=(...e)=>W.searchData&&W.searchData(...e))}," Cari ")])])]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div",j,[Object(a["createElementVNode"])("div",m,[Object(a["createVNode"])(ce,{show:J.loading,rounded:"sm"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",p,[Object(a["createElementVNode"])("table",u,[N,Object(a["createElementVNode"])("tbody",null,[J.data.length<=0&&!J.loading?(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",V,x)):Object(a["createCommentVNode"])("",!0),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(J.data,(t,c)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{key:c},[Object(a["createElementVNode"])("td",E,[Object(a["createElementVNode"])("div",g,Object(a["toDisplayString"])(e.$filters.dateTime(t.created_at)),1),Object(a["createElementVNode"])("div",null,Object(a["toDisplayString"])(e.$filters.dateTime(t.issued_at)),1)]),Object(a["createElementVNode"])("td",y,[Object(a["createElementVNode"])("div",k,[Object(a["createVNode"])(X,{target:"_blank ",class:"text-decoration-underline text-success",to:{name:"app.kai.transaction",params:{id:t.trx_no}}},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.trx_no),1)]),_:2},1032,["to"])]),Object(a["createElementVNode"])("div",_,Object(a["toDisplayString"])(t.trx_no_ext),1),t.trx_no_mitra?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",f,Object(a["toDisplayString"])(t.trx_no_mitra),1)):Object(a["createCommentVNode"])("",!0),["BOOKED"].indexOf(t.status_label)>-1?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",w,Object(a["toDisplayString"])(e.$filters.dateTime(t.expired_at)),1)):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("td",null,[Object(a["createVNode"])(Y,{status:t.status_label,label:t.status_label},null,8,["status","label"])]),Object(a["createElementVNode"])("td",D,[Object(a["createVNode"])(Z,{mitra:t.mitra},null,8,["mitra"]),t.notes?(Object(a["openBlock"])(),Object(a["createBlock"])(ee,{key:0,notes:t.notes},null,8,["notes"])):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("td",v,[Object(a["createElementVNode"])("div",C,[Object(a["createElementVNode"])("div",B,[Object(a["createElementVNode"])("div",null,Object(a["toDisplayString"])(t.origin),1),S,Object(a["createElementVNode"])("div",null,Object(a["toDisplayString"])(t.destination),1)])]),Object(a["createElementVNode"])("div",T,Object(a["toDisplayString"])(t.trip_type),1)]),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(e.$filters.date(t.departure_date)),1),Object(a["createElementVNode"])("td",$,[Object(a["createElementVNode"])("div",P,[Object(a["createElementVNode"])("strong",null,Object(a["toDisplayString"])(t.pnr),1)])]),Object(a["createElementVNode"])("td",K,[t.adult?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",M,Object(a["toDisplayString"])(t.adult)+" Dewasa ",1)):Object(a["createCommentVNode"])("",!0),t.child?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",A,Object(a["toDisplayString"])(t.child)+" Anak ",1)):Object(a["createCommentVNode"])("",!0),t.infant?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",F,Object(a["toDisplayString"])(t.infant)+" Bayi ",1)):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("td",q,Object(a["toDisplayString"])(e.$filters.currency(t.paxpaid)),1),Object(a["createElementVNode"])("td",L,Object(a["toDisplayString"])(e.$filters.currency(t.nta)),1),Object(a["createElementVNode"])("td",R,Object(a["toDisplayString"])(e.$filters.currency(t.nra)),1),Object(a["createElementVNode"])("td",U,Object(a["toDisplayString"])(e.$filters.currency(t.tax)),1),Object(a["createElementVNode"])("td",I,Object(a["toDisplayString"])(e.$filters.currency(t.commission_pusat)),1),Object(a["createElementVNode"])("td",z,Object(a["toDisplayString"])(e.$filters.currency(t.commission_client)),1),Object(a["createElementVNode"])("td",null,[3==t.status?(Object(a["openBlock"])(),Object(a["createBlock"])(te,{key:0,size:"sm",variant:"success",title:"Status",onClick:e=>W.changeStatus(t)},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" Status ")]),_:2},1032,["onClick"])):Object(a["createCommentVNode"])("",!0),2==t.status?(Object(a["openBlock"])(),Object(a["createBlock"])(te,{key:1,size:"sm",variant:"danger",title:"Tiket",onClick:e=>W.downloadEticket(t)},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" Download ")]),_:2},1032,["onClick"])):Object(a["createCommentVNode"])("",!0)])]))),128))])])])]),_:1},8,["show"])])]),J.data.length>0?(Object(a["openBlock"])(),Object(a["createBlock"])(ae,{key:0,modelValue:J.options.current_page,"onUpdate:modelValue":t[5]||(t[5]=e=>J.options.current_page=e),options:J.options},null,8,["modelValue","options"])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(oe,{modelValue:J.modalStatus,"onUpdate:modelValue":t[8]||(t[8]=e=>J.modalStatus=e),size:"modal-lg"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(le,{data:J.modalData,onCancel:t[6]||(t[6]=()=>{J.modalStatus=!1}),onSave:t[7]||(t[7]=()=>{J.modalStatus=!1,this.searchData()})},null,8,["data"])]),_:1},8,["modelValue"])])])}var W=c("b166"),G=c("9444"),H={components:{ChangeStatus:G["a"]},props:{typeProduct:{type:String,default:"pascabayar"}},data(){return{modalOp:!1,modalStatus:!1,modalData:{},categories:[],airlines:[],status:[{code:1,name:"Booking"},{code:2,name:"Issued"},{code:9,name:"Cancelled"},{code:10,name:"Failed"}],data:[],users:[],options:{current_page:1,total_row:0,per_page:1},search:{q:"",start_date:Object(W["a"])(new Date,"yyyy-MM-dd"),end_date:Object(W["a"])(new Date,"yyyy-MM-dd"),user_id:"",status:"",airline:""},loading:!1}},mounted(){this.search.type=this.typeProduct,this.searchData(),this.loadUsers()},computed:{moreParams(){return{page:this.options.current_page,q:this.search.q,start_date:this.search.start_date,end_date:this.search.end_date,user_id:this.search.user_id,type:this.search.type,status:this.search.status}}},watch:{"options.current_page":{handler:function(){this.loadData()}}},methods:{changeStatus(e){this.modalData=e,this.modalStatus=!0},downloadEticket(e){let t=`https://api.atacorp.id/V1/app/transactions/kai/eticket/${e.trx_no}?token=${this.$store.getters["auth/accessToken"]}`;window.open(t,"_blank")},searchData(){this.options.current_page=1,this.loadData()},setMitra(e){this.search.user_id=e?e.id:""},setStatus(e){this.search.status=e?e.code:""},loadData(){this.loading=!0,this.$axios.get("/kai",{params:this.moreParams}).then(e=>{this.loading=!1,this.data=e.data.data,this.options.total_row=e.data.meta.total,this.options.per_page=e.data.meta.per_page}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})},loadUsers(){this.$axios.get("/users",{params:{role:"operator"}}).then(e=>{this.loading=!1,this.users=e.data.data}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{})}}},Q=c("d959"),X=c.n(Q);const Y=X()(H,[["render",J]]);t["a"]=Y},"69c5":function(e,t,c){"use strict";var a=c("7a23");const l={class:"col-md-12 col-sm-12"},o={class:"x_panel"},n={class:"x_content"},r={class:"row"},s={class:"col-sm-12 col-md-6 col-lg-4"},d={class:"input-group"},i={key:0,class:"table-responsive",style:{"min-height":"75vh"}},b={class:"row"},O={class:"col-sm-12"},j={class:"table-responsive"},m={class:"table table-striped jambo_table bulk_action table-bordered"},p=Object(a["createElementVNode"])("thead",{class:""},[Object(a["createElementVNode"])("tr",null,[Object(a["createElementVNode"])("th",{style:{"min-width":"150px"}},[Object(a["createTextVNode"])(" Tgl Transaksi "),Object(a["createElementVNode"])("br"),Object(a["createTextVNode"])(" Tgl Pembayaran ")]),Object(a["createElementVNode"])("th",null," ID Transaksi "),Object(a["createElementVNode"])("th",null,"Status"),Object(a["createElementVNode"])("th",null,"Mitra"),Object(a["createElementVNode"])("th",null,[Object(a["createTextVNode"])(" Rute "),Object(a["createElementVNode"])("br"),Object(a["createTextVNode"])(" Kereta Api ")]),Object(a["createElementVNode"])("th",null,[Object(a["createTextVNode"])(" Tgl "),Object(a["createElementVNode"])("br"),Object(a["createTextVNode"])(" Keberangkatan ")]),Object(a["createElementVNode"])("th",null,[Object(a["createTextVNode"])(" Kode "),Object(a["createElementVNode"])("br"),Object(a["createTextVNode"])(" Booking ")]),Object(a["createElementVNode"])("th",null," Penumpang "),Object(a["createElementVNode"])("th",{class:"text-end"},"Paxpaid"),Object(a["createElementVNode"])("th",{class:"text-end"},"NTA"),Object(a["createElementVNode"])("th",{class:"text-end"},"NRA"),Object(a["createElementVNode"])("th",{class:"text-end"},"Pajak"),Object(a["createElementVNode"])("th",{class:"text-end"},"Pusat"),Object(a["createElementVNode"])("th",{class:"text-end"},"Mitra"),Object(a["createElementVNode"])("th",null," # ")])],-1),u={key:0},N=Object(a["createElementVNode"])("td",{colspan:"15",class:"text-center"}," Data tidak ditemukan ",-1),V=[N],h={scope:"row"},x={class:"text-black-50"},E={style:{"min-width":"200px"}},g={class:"text-success"},y={class:"text-warning"},k={key:0,class:"text-info"},_={key:1,class:"text-danger"},f={style:{"min-width":"100px"}},w={class:"",style:{"min-width":"100px"}},D={class:"d-flex mb-2 align-items-center justify-content-between"},v={class:"d-flex"},C=Object(a["createElementVNode"])("div",{class:"px-3"},"-",-1),B={class:"text-black-50"},S={class:"text-center"},T={class:"text-danger"},$={class:"text-center"},P={key:0},K={key:1},M={key:2},A={class:"text-end"},F={class:"text-end"},q={class:"text-end"},L={class:"text-end"},R={class:"text-end"},U={class:"text-end"};function I(e,t,c,N,I,z){const J=Object(a["resolveComponent"])("routerLink"),W=Object(a["resolveComponent"])("statusbadge-base"),G=Object(a["resolveComponent"])("mitra-link-base"),H=Object(a["resolveComponent"])("NoteTooltipBase"),Q=Object(a["resolveComponent"])("b-button"),X=Object(a["resolveComponent"])("b-overlay"),Y=Object(a["resolveComponent"])("paging-base");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l,[Object(a["createElementVNode"])("div",o,[Object(a["createElementVNode"])("div",n,[Object(a["createElementVNode"])("div",r,[Object(a["createElementVNode"])("div",s,[Object(a["createElementVNode"])("div",d,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"cari...","onUpdate:modelValue":t[0]||(t[0]=e=>I.search.q=e),onKeyup:t[1]||(t[1]=Object(a["withKeys"])((...e)=>z.searchData&&z.searchData(...e),["enter"]))},null,544),[[a["vModelText"],I.search.q]]),Object(a["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[2]||(t[2]=(...e)=>z.searchData&&z.searchData(...e))}," Cari ")])])]),I.isSubmit?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",i,[Object(a["createElementVNode"])("div",b,[Object(a["createElementVNode"])("div",O,[Object(a["createVNode"])(X,{show:I.loading,rounded:"sm"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",j,[Object(a["createElementVNode"])("table",m,[p,Object(a["createElementVNode"])("tbody",null,[I.data.length<=0&&!I.loading?(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",u,V)):Object(a["createCommentVNode"])("",!0),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(I.data,(t,c)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{key:c},[Object(a["createElementVNode"])("td",h,[Object(a["createElementVNode"])("div",x,Object(a["toDisplayString"])(e.$filters.dateTime(t.created_at)),1),Object(a["createElementVNode"])("div",null,Object(a["toDisplayString"])(e.$filters.dateTime(t.issued_at)),1)]),Object(a["createElementVNode"])("td",E,[Object(a["createElementVNode"])("div",g,[Object(a["createVNode"])(J,{target:"_blank ",class:"text-decoration-underline text-success",to:{name:"app.kai.transaction",params:{id:t.trx_no}}},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.trx_no),1)]),_:2},1032,["to"])]),Object(a["createElementVNode"])("div",y,Object(a["toDisplayString"])(t.trx_no_ext),1),t.trx_no_mitra?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",k,Object(a["toDisplayString"])(t.trx_no_mitra),1)):Object(a["createCommentVNode"])("",!0),["BOOKED"].indexOf(t.status_label)>-1?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",_,Object(a["toDisplayString"])(e.$filters.dateTime(t.expired_at)),1)):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("td",null,[Object(a["createVNode"])(W,{status:t.status_label,label:t.status_label},null,8,["status","label"])]),Object(a["createElementVNode"])("td",f,[Object(a["createVNode"])(G,{mitra:t.mitra},null,8,["mitra"]),t.notes?(Object(a["openBlock"])(),Object(a["createBlock"])(H,{key:0,notes:t.notes},null,8,["notes"])):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("td",w,[Object(a["createElementVNode"])("div",D,[Object(a["createElementVNode"])("div",v,[Object(a["createElementVNode"])("div",null,Object(a["toDisplayString"])(t.origin),1),C,Object(a["createElementVNode"])("div",null,Object(a["toDisplayString"])(t.destination),1)])]),Object(a["createElementVNode"])("div",B,Object(a["toDisplayString"])(t.trip_type),1)]),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(e.$filters.date(t.departure_date)),1),Object(a["createElementVNode"])("td",S,[Object(a["createElementVNode"])("div",T,[Object(a["createElementVNode"])("strong",null,Object(a["toDisplayString"])(t.pnr),1)])]),Object(a["createElementVNode"])("td",$,[t.adult?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",P,Object(a["toDisplayString"])(t.adult)+" Dewasa ",1)):Object(a["createCommentVNode"])("",!0),t.child?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",K,Object(a["toDisplayString"])(t.child)+" Anak ",1)):Object(a["createCommentVNode"])("",!0),t.infant?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",M,Object(a["toDisplayString"])(t.infant)+" Bayi ",1)):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("td",A,Object(a["toDisplayString"])(e.$filters.currency(t.paxpaid)),1),Object(a["createElementVNode"])("td",F,Object(a["toDisplayString"])(e.$filters.currency(t.nta)),1),Object(a["createElementVNode"])("td",q,Object(a["toDisplayString"])(e.$filters.currency(t.nra)),1),Object(a["createElementVNode"])("td",L,Object(a["toDisplayString"])(e.$filters.currency(t.tax)),1),Object(a["createElementVNode"])("td",R,Object(a["toDisplayString"])(e.$filters.currency(t.commission_pusat)),1),Object(a["createElementVNode"])("td",U,Object(a["toDisplayString"])(e.$filters.currency(t.commission_client)),1),Object(a["createElementVNode"])("td",null,[2==t.status?(Object(a["openBlock"])(),Object(a["createBlock"])(Q,{key:0,size:"sm",variant:"danger",title:"Tiket",onClick:e=>z.downloadEticket(t)},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" Download ")]),_:2},1032,["onClick"])):Object(a["createCommentVNode"])("",!0)])]))),128))])])])]),_:1},8,["show"])])]),I.data.length>0?(Object(a["openBlock"])(),Object(a["createBlock"])(Y,{key:0,modelValue:I.options.current_page,"onUpdate:modelValue":t[3]||(t[3]=e=>I.options.current_page=e),options:I.options},null,8,["modelValue","options"])):Object(a["createCommentVNode"])("",!0)])):Object(a["createCommentVNode"])("",!0)])])])}var z={components:{},props:{typeProduct:{type:String,default:"pascabayar"}},data(){return{data:[],users:[],isSubmit:!1,options:{current_page:1,total_row:0,per_page:1},search:{q:""},loading:!1}},mounted(){},computed:{moreParams(){return{page:this.options.current_page,q:this.search.q}}},watch:{"options.current_page":{handler:function(){this.loadData()}}},methods:{downloadEticket(e){let t=`https://api.atacorp.id/V1/app/transactions/kai/eticket/${e.trx_no}?token=${this.$store.getters["auth/accessToken"]}`;window.open(t,"_blank")},searchData(){this.search.q?(this.options.current_page=1,this.loadData()):this.$root.notif("kata pencarian tidak boleh kosong",{type:"error",position:"top"})},loadData(){this.loading=!0,this.$axios.get("/kai",{params:this.moreParams}).then(e=>{this.loading=!1,this.data=e.data.data,this.options.total_row=e.data.meta.total,this.options.per_page=e.data.meta.per_page}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1,this.isSubmit=!0})}}},J=c("d959"),W=c.n(J);const G=W()(z,[["render",I]]);t["a"]=G},e409:function(e,t,c){"use strict";var a=c("7a23");const l={class:"pb-2"},o=Object(a["createElementVNode"])("h2",null,null,-1),n={class:"nav navbar-right panel_toolbox"},r=Object(a["createElementVNode"])("i",{class:"fa fa-arrow-left"},null,-1),s=Object(a["createElementVNode"])("span",{class:"text-lg text-blue h4 mb-0 text-capitalize"}," KAI ",-1),d={class:"text-pnr"},i=Object(a["createElementVNode"])("br",null,null,-1),b={class:"text-order-number"},O=Object(a["createElementVNode"])("hr",null,null,-1),j={class:"text-center mb-3"},m={class:"text-green fw-bold"},p=Object(a["createElementVNode"])("div",null,"PNR",-1),u={class:"text-pnr"},N={class:"text-blue"},V={class:"text-blue"},h={class:"text-primary"},x={class:"text-danger"},E={class:"text-orange"},g=Object(a["createElementVNode"])("h4",null,"Daftar Penumpang",-1),y={class:"table-responsive"},k={class:"table text-center table-striped table-md"},_=Object(a["createElementVNode"])("tr",null,[Object(a["createElementVNode"])("th",null,"Name"),Object(a["createElementVNode"])("th",null,[Object(a["createTextVNode"])(" Document "),Object(a["createElementVNode"])("br"),Object(a["createTextVNode"])(" Doc Number ")]),Object(a["createElementVNode"])("th",null,"Phone Number"),Object(a["createElementVNode"])("th",null,"No Ticket")],-1),f=Object(a["createElementVNode"])("br",null,null,-1),w={key:0},D=Object(a["createElementVNode"])("h4",null,"Detail Transaksi",-1),v={class:"table"},C=Object(a["createElementVNode"])("td",{style:{width:"140px"}},"PNR",-1),B={class:"text-bold text-pnr"},S=Object(a["createElementVNode"])("td",{style:{width:"140px"}},"Waktu Booking",-1),T={class:"text-bold text-time-booking"},$=Object(a["createElementVNode"])("td",{style:{width:"140px"}},"Booking By",-1),P={class:"text-bold"},K=Object(a["createElementVNode"])("td",{style:{width:"140px"}},"Timelimit",-1),M={class:"text-bold text-time-limit"},A=Object(a["createElementVNode"])("td",{style:{width:"140px"}},"Waktu Issued",-1),F={class:"text-bold"},q={key:0,class:"text-time-issued px-0"},L=Object(a["createElementVNode"])("td",{style:{width:"140px"}},"Issued By",-1),R={class:"text-bold"},U=Object(a["createElementVNode"])("td",{style:{width:"140px"}},"Tgl Cancel",-1),I={class:"text-bold"},z={key:0,class:"text-time-cancel px-0"},J=Object(a["createElementVNode"])("template",null,[Object(a["createTextVNode"])(" - ")],-1),W=Object(a["createElementVNode"])("td",null,"Cancel By",-1),G={class:"text-bold"},H=Object(a["createElementVNode"])("template",null,[Object(a["createTextVNode"])(" - ")],-1),Q=Object(a["createElementVNode"])("td",null,"Catatan:",-1),X={class:"text-bold"};function Y(e,t,c,Y,Z,ee){const te=Object(a["resolveComponent"])("b-skeleton"),ce=Object(a["resolveComponent"])("b-card"),ae=Object(a["resolveComponent"])("b-col"),le=Object(a["resolveComponent"])("b-row"),oe=Object(a["resolveComponent"])("StatusbadgeBase"),ne=Object(a["resolveComponent"])("b-card-header"),re=Object(a["resolveComponent"])("b-card-body");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l,[Z.loading?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[Object(a["createVNode"])(ce,{class:"mb-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(te,{width:"85%"}),Object(a["createVNode"])(te,{width:"55%"}),Object(a["createVNode"])(te,{width:"70%"})]),_:1}),Object(a["createVNode"])(ce,{class:"mb-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(te,{width:"85%"}),Object(a["createVNode"])(te,{width:"55%"}),Object(a["createVNode"])(te,{width:"70%"})]),_:1}),Object(a["createVNode"])(ce,{class:"mb-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(te,{width:"85%"}),Object(a["createVNode"])(te,{width:"55%"}),Object(a["createVNode"])(te,{width:"70%"})]),_:1})],64)):(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:1},[Object(a["createVNode"])(le,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(ae,null,{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",null,[o,Object(a["createElementVNode"])("ul",n,[Object(a["createElementVNode"])("li",null,[Object(a["createElementVNode"])("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:t[0]||(t[0]=t=>e.$window.close())},[r,Object(a["createTextVNode"])(" Kembali ")])])])])]),_:1})]),_:1}),Z.data&&Z.data.length>0?(Object(a["openBlock"])(),Object(a["createBlock"])(le,{key:0,class:"mt-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(ae,null,{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(Z.data[0].details,(t,c)=>(Object(a["openBlock"])(),Object(a["createBlock"])(ce,{class:"mb-3",key:c},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(ne,{class:"py-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(le,{class:""},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(ae,{class:"fw-bold d-flex flex-column justify-center"},{default:Object(a["withCtx"])(()=>[s,Object(a["createElementVNode"])("div",null,[Object(a["createTextVNode"])(" PNR : "),Object(a["createElementVNode"])("b",d,Object(a["toDisplayString"])(t.pnr),1)])]),_:2},1024),Object(a["createVNode"])(ae,{class:"text-center"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" Status:"),i,Object(a["createVNode"])(oe,{label:Z.data[0].status_label,class:"text-sm"},null,8,["label"])]),_:1}),Object(a["createVNode"])(ae,{class:"text-end d-flex flex-column justify-center"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" No Transaksi: "),Object(a["createElementVNode"])("strong",b,Object(a["toDisplayString"])(Z.data[0].trx_no),1)]),_:1})]),_:2},1024)]),_:2},1024),Object(a["createVNode"])(re,{class:"bg-gray py-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(le,{class:""},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(ae,{sm:"6",class:"fw-bold"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(0==c?"Keberangkatan":"Kepulangan"),1)]),_:2},1024),Object(a["createVNode"])(ae,{sm:"6",class:"text-end"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" Dewasa: "+Object(a["toDisplayString"])(Z.data[0].adult)+"    Anak: "+Object(a["toDisplayString"])(Z.data[0].infant),1)]),_:1})]),_:2},1024)]),_:2},1024),O,Object(a["createVNode"])(re,null,{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",j,[Object(a["createVNode"])(le,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(ae,{md:"3",class:"d-flex justify-between"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("b",m,Object(a["toDisplayString"])(t.train_info?t.train_info.name:"-"),1),Object(a["createElementVNode"])("div",null,"Class: "+Object(a["toDisplayString"])(t.train_info?t.train_info.class:"-"),1),Object(a["createElementVNode"])("div",null,"Sub Class: "+Object(a["toDisplayString"])(t.train_info?t.train_info.sub_class:"-"),1)])]),_:2},1024),Object(a["createVNode"])(ae,{md:"3"},{default:Object(a["withCtx"])(()=>[p,Object(a["createElementVNode"])("b",u,Object(a["toDisplayString"])(t.pnr),1)]),_:2},1024),Object(a["createVNode"])(ae,{md:"3"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("b",N,Object(a["toDisplayString"])(t.train_info?t.train_info.std:"-"),1),Object(a["createElementVNode"])("div",null,Object(a["toDisplayString"])(e.$filters.dateTime(t.train_info.etd))+" LT",1)]),_:2},1024),Object(a["createVNode"])(ae,{md:"3",class:""},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("b",V,Object(a["toDisplayString"])(t.train_info?t.train_info.sta:"-"),1),Object(a["createElementVNode"])("div",null,Object(a["toDisplayString"])(e.$filters.dateTime(t.train_info.eta))+" LT",1)]),_:2},1024)]),_:2},1024)])]),_:2},1024),Object(a["createVNode"])(re,{class:"border-top"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(le,{class:"text-center"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(ae,{class:""},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" Paxpaid: "),Object(a["createElementVNode"])("b",h,Object(a["toDisplayString"])(e.$filters.currency(t.paxpaid)),1),Object(a["createElementVNode"])("div",null,[Object(a["createTextVNode"])(" NTA: "),Object(a["createElementVNode"])("b",x,Object(a["toDisplayString"])(e.$filters.currency(t.nta)),1)])]),_:2},1024),Object(a["createVNode"])(ae,{class:""},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" NRA: "),Object(a["createElementVNode"])("b",null,Object(a["toDisplayString"])(e.$filters.currency(t.nra)),1)]),_:2},1024),Object(a["createVNode"])(ae,{class:""},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" Pajak: "),Object(a["createElementVNode"])("b",E,Object(a["toDisplayString"])(e.$filters.currency(t.tax)),1),Object(a["createElementVNode"])("div",null,[Object(a["createTextVNode"])(" Komisi : "),Object(a["createElementVNode"])("b",null,Object(a["toDisplayString"])(e.$filters.currency(t.commission)),1)])]),_:2},1024),Object(a["createVNode"])(ae,{class:""},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" Pusat: "),Object(a["createElementVNode"])("b",null,Object(a["toDisplayString"])(e.$filters.currency(t.commission_pusat)),1),Object(a["createElementVNode"])("div",null,[Object(a["createTextVNode"])(" Mitra : "),Object(a["createElementVNode"])("b",null,Object(a["toDisplayString"])(e.$filters.currency(t.commission_client)),1)])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):Object(a["createCommentVNode"])("",!0),Z.data&&Z.data.length>0?(Object(a["openBlock"])(),Object(a["createBlock"])(le,{key:1,class:"mt-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(ae,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(ce,{class:"mb-2"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(ne,{class:""},{default:Object(a["withCtx"])(()=>[g]),_:1}),Object(a["createVNode"])(re,null,{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",y,[Object(a["createElementVNode"])("table",k,[_,Object(a["createElementVNode"])("tbody",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(Z.data[0].passengers,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{key:t},[Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(e.first_name)+" "+Object(a["toDisplayString"])(e.last_name)+" ("+Object(a["toDisplayString"])(e.passanger_type)+") ",1),Object(a["createElementVNode"])("td",null,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.document?e.document.number:"-")+" ",1),f,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(e.document?e.document.type:"-"),1)]),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(e.phone_number),1),Object(a["createElementVNode"])("td",null,[Object(a["createTextVNode"])(" Dep: "+Object(a["toDisplayString"])(e.ticket_no_dep?e.ticket_no_dep:"-")+" ",1),e.ticket_no_ret?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",w," Ret: "+Object(a["toDisplayString"])(e.ticket_no_ret),1)):Object(a["createCommentVNode"])("",!0)])]))),128))])])])]),_:1})]),_:1}),Object(a["createVNode"])(ce,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(ne,{class:""},{default:Object(a["withCtx"])(()=>[D]),_:1}),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(Z.data,(t,c)=>(Object(a["openBlock"])(),Object(a["createBlock"])(re,{key:c},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("b",null,Object(a["toDisplayString"])(0==c?"Keberangkatan":"Kepulangan"),1),Object(a["createElementVNode"])("table",v,[Object(a["createElementVNode"])("tr",null,[C,Object(a["createElementVNode"])("td",B," : "+Object(a["toDisplayString"])(t.pnr),1)]),Object(a["createElementVNode"])("tr",null,[S,Object(a["createElementVNode"])("td",T," :"+Object(a["toDisplayString"])(e.$filters.dateTime(t.created_at)),1)]),Object(a["createElementVNode"])("tr",null,[$,Object(a["createElementVNode"])("td",P," : "+Object(a["toDisplayString"])(t.mmid),1)]),Object(a["createElementVNode"])("tr",null,[K,Object(a["createElementVNode"])("td",M," : "+Object(a["toDisplayString"])(e.$filters.dateTime(t.expired_at)),1)]),Object(a["createElementVNode"])("tr",null,[A,Object(a["createElementVNode"])("td",F,[Object(a["createTextVNode"])(" : "),t.issued_at?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",q,Object(a["toDisplayString"])(e.$filters.dateTime(t.issued_at)),1)):(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:1},[Object(a["createTextVNode"])(" - ")],64))])]),Object(a["createElementVNode"])("tr",null,[L,Object(a["createElementVNode"])("td",R,[Object(a["createTextVNode"])(" : "),t.issued_at?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.issued_by?t.issued_by.name:t.mmid),1)],64)):(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:1},[Object(a["createTextVNode"])(" - ")],64))])]),Object(a["createElementVNode"])("tr",null,[U,Object(a["createElementVNode"])("td",I,[Object(a["createTextVNode"])(" : "),t.cancel_at?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",z,Object(a["toDisplayString"])(e.$filters.dateTime(t.cancel_at)),1)):Object(a["createCommentVNode"])("",!0),J])]),Object(a["createElementVNode"])("tr",null,[W,Object(a["createElementVNode"])("td",G,[Object(a["createTextVNode"])(" : "),t.cancel_at?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.cancel_by?t.cancel_by.name:t.mmid),1)],64)):Object(a["createCommentVNode"])("",!0),H])]),Object(a["createElementVNode"])("tr",null,[Q,Object(a["createElementVNode"])("td",X," : "+Object(a["toDisplayString"])(t.notes||"-"),1)])])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):Object(a["createCommentVNode"])("",!0)],64))])}var Z={components:{},data(){return{modalOp:!1,modalData:{},id:"",data:[],loading:!1,old:{}}},computed:{},methods:{reset(){},loadData(){this.loading=!0,this.$axios.get("/kai/"+this.id).then(e=>{let t=e.data;this.old=t,this.data=t.data}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})}},mounted(){this.$route.params.id&&(this.id=this.$route.params.id,this.loadData())}},ee=c("d959"),te=c.n(ee);const ce=te()(Z,[["render",Y]]);t["a"]=ce}}]);