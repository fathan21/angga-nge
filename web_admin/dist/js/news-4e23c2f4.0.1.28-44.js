(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["news-4e23c2f4"],{"3db2":function(e,t,a){"use strict";a.r(t);a("14d9");var c=a("7a23");const n={class:"col-md-12 col-sm-12"},o={class:"x_panel"},l={class:"x_title"},s={class:"nav navbar-right panel_toolbox"},r=Object(c["createElementVNode"])("i",{class:"fa fa-plus"},null,-1),i=Object(c["createElementVNode"])("div",{class:"clearfix"},null,-1),d={class:"x_content"},b={class:"table-responsive"},m={class:"row"},p={class:"col-sm-6"},u={class:"item form-group"},h={class:"col-md-6 col-sm-6 ps-0"},j={class:"input-group"},O={class:"row"},V={class:"col-sm-12"},g={class:"table-responsive"},N={class:"table table-striped table-bordered"},E=Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",null,"#"),Object(c["createElementVNode"])("th",null,"Judul"),Object(c["createElementVNode"])("th",null,"Gambar"),Object(c["createElementVNode"])("th",null,"Status"),Object(c["createElementVNode"])("th",null,"Created By"),Object(c["createElementVNode"])("th",null,"Created At"),Object(c["createElementVNode"])("th",null,"Publish At"),Object(c["createElementVNode"])("th",null,"Action")])],-1),f={scope:"row"},k={class:"text-center"},w={class:"text-left"},y=["onClick"],v=Object(c["createElementVNode"])("i",{class:"fa fa-pencil"},null,-1),_=[v],C=["onClick"],D=Object(c["createElementVNode"])("i",{class:"fa fa-trash"},null,-1),x=[D],B=["onClick"],$={key:0},S=Object(c["createElementVNode"])("td",{colspan:"8",class:"text-center"}," Data tidak ditemukan ",-1),T=[S];function P(e,t,a,v,D,S){const P=Object(c["resolveComponent"])("b-img"),q=Object(c["resolveComponent"])("b-overlay"),I=Object(c["resolveComponent"])("paging-base");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",n,[Object(c["createElementVNode"])("div",o,[Object(c["createElementVNode"])("div",l,[Object(c["createElementVNode"])("ul",s,[Object(c["createElementVNode"])("li",null,[Object(c["createElementVNode"])("button",{class:"btn btn-sm btn-primary",type:"button",onClick:t[0]||(t[0]=t=>e.$router.push({name:"app.news.form"}))},[r,Object(c["createTextVNode"])(" Tambah ")])])]),i]),Object(c["createElementVNode"])("div",d,[Object(c["createElementVNode"])("div",b,[Object(c["createElementVNode"])("div",m,[Object(c["createElementVNode"])("div",p,[Object(c["createElementVNode"])("div",u,[Object(c["createElementVNode"])("div",h,[Object(c["createElementVNode"])("div",j,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"cari...","onUpdate:modelValue":t[1]||(t[1]=e=>D.search.q=e),onKeyup:t[2]||(t[2]=Object(c["withKeys"])((...e)=>S.searchData&&S.searchData(...e),["enter"]))},null,544),[[c["vModelText"],D.search.q]]),Object(c["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[3]||(t[3]=(...e)=>S.searchData&&S.searchData(...e))}," Cari ")])])])])]),Object(c["createElementVNode"])("div",O,[Object(c["createElementVNode"])("div",V,[Object(c["createVNode"])(q,{show:D.loading,rounded:"sm"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",g,[Object(c["createElementVNode"])("table",N,[E,Object(c["createElementVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(D.data,(t,a)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:a},[Object(c["createElementVNode"])("td",f,Object(c["toDisplayString"])((D.options.current_page-1)*D.options.per_page+a+1),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.title),1),Object(c["createElementVNode"])("td",k,[t.image?(Object(c["openBlock"])(),Object(c["createBlock"])(P,{key:0,src:t.image,width:"80"},null,8,["src"])):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("span",{class:Object(c["normalizeClass"])(["badge",1==t.status?"bg-success":"bg-primary"])},Object(c["toDisplayString"])(1==t.status?"Publish":"Pending"),3)]),Object(c["createElementVNode"])("td",w,Object(c["toDisplayString"])(t.created_by),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.$filters.dateTime(t.created_at)),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.published_at?e.$filters.dateTime(t.published_at):"-"),1),Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("button",{class:"btn btn-sm btn-primary btn-action-list",type:"button","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Ubah",onClick:e=>S.editItem(t)},_,8,y),Object(c["createElementVNode"])("button",{class:"btn btn-sm btn-action-list btn-danger",type:"button",onClick:e=>S.removeItem(t)},x,8,C),Object(c["createElementVNode"])("button",{class:Object(c["normalizeClass"])(["btn btn-sm btn-action-list",1==t.status?"btn-warning":"btn-success"]),type:"button",onClick:e=>S.changeStatus(t)},[Object(c["createElementVNode"])("i",{class:Object(c["normalizeClass"])(["fa",1==t.status?"fa-undo":"fa-check"])},null,2)],10,B)])]))),128)),D.data.length<=0&&!D.loading?(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",$,T)):Object(c["createCommentVNode"])("",!0)])])])]),_:1},8,["show"])])]),D.data.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])(I,{key:0,modelValue:D.options.current_page,"onUpdate:modelValue":t[4]||(t[4]=e=>D.options.current_page=e),options:D.options},null,8,["modelValue","options"])):Object(c["createCommentVNode"])("",!0)])])])])}var q={data(){return{data:[],options:{current_page:1,total_row:0,per_page:1},search:{q:""},loading:!1}},mounted(){this.searchData()},computed:{moreParams(){return{page:this.options.current_page,q:this.search.q}}},watch:{"options.current_page":{handler:function(){this.loadData()}}},methods:{searchData(){this.options.current_page=1,this.loadData()},loadData(){this.loading=!0,this.$axios.get("news",{params:this.moreParams}).then(e=>{this.loading=!1,this.data=e.data.data,this.options.total_row=e.data.meta.total,this.options.per_page=e.data.meta.per_page}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})},removeItem(e){let t="Hapus",a=1==e.status?0:1;this.$swal.fire({width:350,title:"Yakin?",showCancelButton:!0,confirmButtonText:t}).then(t=>{t.isConfirmed&&this._remove(e,a)})},_remove(e,t){let a=Object.assign(e,{});a.status=t,this.$axios.delete("news/"+e.id,a).then(e=>{this.$root.notif(e.message),this.loadData()}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{})},changeStatus(e){let t=1==e.status?"Unpublish":"Publish",a=1==e.status?0:1;this.$swal.fire({width:350,title:"Yakin?",showCancelButton:!0,confirmButtonText:t}).then(t=>{t.isConfirmed&&this._changeStatus(e,a)})},_changeStatus(e,t){let a=Object.assign(e,{});a.status=t,this.$axios.put("news/"+e.id,a).then(e=>{this.$root.notif(e.message),this.loadData()}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{})},editItem(e){this.$router.push({name:"app.news.form",params:{id:e.id}})}}},I=a("d959"),U=a.n(I);const z=U()(q,[["render",P]]);t["default"]=z}}]);