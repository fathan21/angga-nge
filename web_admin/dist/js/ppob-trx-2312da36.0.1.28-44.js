(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ppob-trx-2312da36"],{"95c9":function(e,t,a){"use strict";a.r(t);var c=a("7a23");const o={class:"col-md-12 col-sm-12"},l={class:"x_panel"},n={class:"x_content"},r={class:"table-responsive",style:{"min-height":"75vh"}},s={class:"row"},d={class:"col-sm-12 col-md-6 col-lg-6"},i={class:"col-sm-12 col-md-6 col-lg-6"},b={class:"col-sm-12 col-md-6 col-lg-3"},m={class:"col-sm-12 col-md-6 col-lg-3"},p={class:"col-sm-12 col-md-6 col-lg-3"},O={class:"input-group"},j={class:"row"},u={class:"col-sm-12"},h={class:"table-responsive table-responsive-sticky"},g={class:"table table-striped jambo_table bulk_action table-bordered"},V=Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",null,"#"),Object(c["createElementVNode"])("th",null,[Object(c["createElementVNode"])("div",null,"Trx No"),Object(c["createElementVNode"])("div",null,"Trx No Mitra"),Object(c["createElementVNode"])("div",null,"Trx No Ext")]),Object(c["createElementVNode"])("th",null,"User"),Object(c["createElementVNode"])("th",null,"Product"),Object(c["createElementVNode"])("th",null,"Customer ID"),Object(c["createElementVNode"])("th",null,"Price"),Object(c["createElementVNode"])("th",null,"Status"),Object(c["createElementVNode"])("th",null,"Created At")])],-1),N={key:0},y=Object(c["createElementVNode"])("td",{colspan:"9",class:"text-center"}," Data tidak ditemukan ",-1),E=[y],_={scope:"row"},x=["textContent"],v=["textContent"],C=["textContent"],D={class:"text-grey-light text-11"},k=Object(c["createElementVNode"])("br",null,null,-1),f={class:"text-11"},w=["textContent"],S=["textContent"],A={class:"text-11"},B={class:"table table-sm"},P=Object(c["createElementVNode"])("td",null,"nominal",-1),T={class:"text-end"},$=Object(c["createElementVNode"])("td",null,"nta",-1),M={class:"text-end"},R=Object(c["createElementVNode"])("td",null,"markup",-1),q={class:"text-end"},U=Object(c["createElementVNode"])("td",null,"total",-1),Y={class:"text-end"};function J(e,t,a,y,J,K){const F=Object(c["resolveComponent"])("input-date-picker-range-base"),I=Object(c["resolveComponent"])("select-mitra-base"),L=Object(c["resolveComponent"])("select-base"),z=Object(c["resolveComponent"])("statusbadge-base"),G=Object(c["resolveComponent"])("b-overlay"),H=Object(c["resolveComponent"])("paging-base");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",o,[Object(c["createElementVNode"])("div",l,[Object(c["createElementVNode"])("div",n,[Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("div",s,[Object(c["createElementVNode"])("div",d,[Object(c["createVNode"])(F,{start_date:J.search.start_date,"onUpdate:start_date":t[0]||(t[0]=e=>J.search.start_date=e),end_date:J.search.end_date,"onUpdate:end_date":t[1]||(t[1]=e=>J.search.end_date=e),"max-date":new Date},null,8,["start_date","end_date","max-date"])]),Object(c["createElementVNode"])("div",i,[Object(c["createVNode"])(I,{onOnChange:K.setMitra},null,8,["onOnChange"])]),Object(c["createElementVNode"])("div",b,[Object(c["createVNode"])(L,{options:J.types,placeholder:"Pilih tipe",onOnChange:K.setType},null,8,["options","onOnChange"])]),Object(c["createElementVNode"])("div",m,[Object(c["createVNode"])(L,{options:K.categoryOptions,placeholder:"Pilih kategori",onOnChange:K.setCategory},null,8,["options","onOnChange"])]),Object(c["createElementVNode"])("div",p,[Object(c["createElementVNode"])("div",O,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"cari...","onUpdate:modelValue":t[2]||(t[2]=e=>J.search.q=e),onKeyup:t[3]||(t[3]=Object(c["withKeys"])((...e)=>K.searchData&&K.searchData(...e),["enter"]))},null,544),[[c["vModelText"],J.search.q]]),Object(c["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[4]||(t[4]=(...e)=>K.searchData&&K.searchData(...e))}," Cari ")])])]),Object(c["createElementVNode"])("div",j,[Object(c["createElementVNode"])("div",u,[Object(c["createVNode"])(G,{show:J.loading,rounded:"sm"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",h,[Object(c["createElementVNode"])("table",g,[V,Object(c["createElementVNode"])("tbody",null,[J.data.length<=0&&!J.loading?(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",N,E)):Object(c["createCommentVNode"])("",!0),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(J.data,(t,a)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:a},[Object(c["createElementVNode"])("td",_,Object(c["toDisplayString"])((J.options.current_page-1)*J.options.per_page+a+1),1),Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("div",{class:"text-primary",textContent:Object(c["toDisplayString"])(t.ref_2)},null,8,x),Object(c["createElementVNode"])("div",{class:"text-11",textContent:Object(c["toDisplayString"])(t.ref_1)},null,8,v),Object(c["createElementVNode"])("div",{class:"text-grey-light text-11",textContent:Object(c["toDisplayString"])(t.ref_3)},null,8,C)]),Object(c["createElementVNode"])("td",null,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.user?t.user.name:"")+" ",1),Object(c["createElementVNode"])("div",D,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.user?t.user.phone:"")+" ",1),k,Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(t.user?t.user.email:""),1)])]),Object(c["createElementVNode"])("td",f,[Object(c["createElementVNode"])("div",{textContent:Object(c["toDisplayString"])(t.product_code)},null,8,w),Object(c["createElementVNode"])("div",{class:"text-grey-light",textContent:Object(c["toDisplayString"])(t.category)},null,8,S)]),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.customer_id),1),Object(c["createElementVNode"])("td",A,[Object(c["createElementVNode"])("table",B,[Object(c["createElementVNode"])("tr",null,[P,Object(c["createElementVNode"])("td",T,Object(c["toDisplayString"])(e.$filters.currency(t.nominal)),1)]),Object(c["createElementVNode"])("tr",null,[$,Object(c["createElementVNode"])("td",M,Object(c["toDisplayString"])(e.$filters.currency(t.nta)),1)]),Object(c["createElementVNode"])("tr",null,[R,Object(c["createElementVNode"])("td",q,Object(c["toDisplayString"])(e.$filters.currency(t.markup)),1)]),Object(c["createElementVNode"])("tr",null,[U,Object(c["createElementVNode"])("td",Y,Object(c["toDisplayString"])(e.$filters.currency(t.total_price)),1)])])]),Object(c["createElementVNode"])("td",null,[Object(c["createVNode"])(z,{status:t.status,label:t.status_label},null,8,["status","label"])]),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.$filters.dateTime(t.created_at)),1)]))),128))])])])]),_:1},8,["show"])])]),J.data.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])(H,{key:0,modelValue:J.options.current_page,"onUpdate:modelValue":t[5]||(t[5]=e=>J.options.current_page=e),options:J.options},null,8,["modelValue","options"])):Object(c["createCommentVNode"])("",!0)])])])])}var K=a("b166"),F={data(){return{categories:[],types:[{code:"PASCABAYAR",name:"PASCABAYAR"},{code:"PRABAYAR",name:"PRABAYAR"}],loadingCategories:!1,data:[],options:{current_page:1,total_row:0,per_page:1},search:{q:"",start_date:Object(K["a"])(new Date,"yyyy-MM-dd"),end_date:Object(K["a"])(new Date,"yyyy-MM-dd"),user_id:"",type:"",category:""},loading:!1}},mounted(){this.loadCategories(),this.loadData()},computed:{moreParams(){return{page:this.options.current_page,q:this.search.q,start_date:this.search.start_date,end_date:this.search.end_date,user_id:this.search.user_id,type:this.search.type,category:this.search.category}},categoryOptions(){if(this.search.type){let e=this.categories.filter(e=>e.type==this.search.type);return e}return this.categories}},watch:{"options.current_page":{handler:function(){this.loadData()}}},methods:{searchData(){this.options.current_page=1,this.loadData()},loadCategories(){this.loadingCategories=!0,this.$axios.get("/ppob/product-categories",{params:this.moreParams}).then(e=>{this.categories=e.data}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loadingCategories=!1})},setMitra(e){this.search.user_id=e?e.id:""},setType(e){this.search.type=e?e.code:""},setCategory(e){this.search.category=e?e.code:""},loadData(){this.loading=!0,this.$axios.get("/ppob/history",{params:this.moreParams}).then(e=>{this.loading=!1,this.data=e.data.data,this.options.total_row=e.data.meta.total,this.options.per_page=e.data.meta.per_page}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})}}},I=a("d959"),L=a.n(I);const z=L()(F,[["render",J]]);t["default"]=z}}]);