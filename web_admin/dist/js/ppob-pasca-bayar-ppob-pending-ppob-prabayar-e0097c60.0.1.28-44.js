(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ppob-pasca-bayar-ppob-pending-ppob-prabayar-e0097c60"],{"8e4a":function(e,t,a){"use strict";var l=a("7a23");const c={class:"item form-group"},o=Object(l["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(l["createTextVNode"])("No Trx "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),s={class:"col-md-6 col-sm-6"},r=["value"],m={class:"item form-group"},n=Object(l["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(l["createTextVNode"])("No Trx Mitra "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),d={class:"col-md-6 col-sm-6"},i=["value"],b={class:"item form-group"},p=Object(l["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(l["createTextVNode"])("No Customer "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),u={class:"col-md-6 col-sm-6"},j=["value"],O={class:"item form-group"},f=Object(l["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(l["createTextVNode"])("Product "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),V={class:"col-md-6 col-sm-6"},N=["value"],E={class:"item form-group"},h=Object(l["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(l["createTextVNode"])("Status Sekarang "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),v={class:"col-md-6 col-sm-6"},g=["value"],y={class:"item form-group"},w=Object(l["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(l["createTextVNode"])("Status Baru "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),k={class:"col-md-6 col-sm-6"},x=Object(l["createElementVNode"])("option",{value:""},"Pilih Status",-1),C=["value"],_={key:0,class:"p-error"},S={class:"item form-group"},T=Object(l["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},"Ref ",-1),B={class:"col-md-6 col-sm-6"},$={class:"item form-group"},q=Object(l["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},"SN / Token ",-1),D={class:"col-md-6 col-sm-6"},M={class:"item form-group"},F=Object(l["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},"Catatan ",-1),U={class:"col-md-6 col-sm-6"},P={class:"item form-group"},z=Object(l["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},"Password ",-1),H={class:"col-md-6 col-sm-6"},J={key:0,class:"p-error"},L=Object(l["createElementVNode"])("div",{class:"ln_solid"},null,-1),R={class:"item form-group"},A={class:"col-md-6 col-sm-6 offset-md-3"},G=Object(l["createElementVNode"])("button",{type:"submit",class:"btn btn-primary"},"Submit",-1);function I(e,t,a,I,K,Q){const W=Object(l["resolveComponent"])("Field"),X=Object(l["resolveComponent"])("Form"),Y=Object(l["resolveComponent"])("b-overlay");return Object(l["openBlock"])(),Object(l["createBlock"])(Y,{show:e.$store.state.loading,rounded:"sm"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(X,{onSubmit:Q.onSubmit,"validation-schema":K.schema,class:"pt-5"},{default:Object(l["withCtx"])(({errors:I})=>[Object(l["createElementVNode"])("div",c,[o,Object(l["createElementVNode"])("div",s,[Object(l["createElementVNode"])("input",{class:"form-control",type:"text",disabled:"disabled",value:a.data.ref_2},null,8,r)])]),Object(l["createElementVNode"])("div",m,[n,Object(l["createElementVNode"])("div",d,[Object(l["createElementVNode"])("input",{class:"form-control",type:"text",disabled:"disabled",value:a.data.ref_1},null,8,i)])]),Object(l["createElementVNode"])("div",b,[p,Object(l["createElementVNode"])("div",u,[Object(l["createElementVNode"])("input",{class:"form-control",type:"text",disabled:"disabled",value:a.data.customer_id},null,8,j)])]),Object(l["createElementVNode"])("div",O,[f,Object(l["createElementVNode"])("div",V,[Object(l["createElementVNode"])("input",{class:"form-control",type:"text",disabled:"disabled",value:a.data.product_name},null,8,N)])]),Object(l["createElementVNode"])("div",E,[h,Object(l["createElementVNode"])("div",v,[Object(l["createElementVNode"])("input",{class:"form-control",type:"text",disabled:"disabled",value:a.data.status_label},null,8,g)])]),Object(l["createElementVNode"])("div",y,[w,Object(l["createElementVNode"])("div",k,[Object(l["createVNode"])(W,{name:"status",class:Object(l["normalizeClass"])(["form-control",[{"p-error":K.form.status}]]),modelValue:K.form.status,"onUpdate:modelValue":t[0]||(t[0]=e=>K.form.status=e),as:"select"},{default:Object(l["withCtx"])(()=>[x,(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(K.status,e=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{value:e.id,key:e.id},Object(l["toDisplayString"])(e.name),9,C))),128))]),_:1},8,["modelValue","class"]),I.status?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",_," *"+Object(l["toDisplayString"])(I.status),1)):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",S,[T,Object(l["createElementVNode"])("div",B,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>K.form.reference=e),class:"form-control",name:"reference"},null,512),[[l["vModelText"],K.form.reference]])])]),Object(l["createElementVNode"])("div",$,[q,Object(l["createElementVNode"])("div",D,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>K.form.sn=e),class:"form-control",name:"sn"},null,512),[[l["vModelText"],K.form.sn]])])]),Object(l["createElementVNode"])("div",M,[F,Object(l["createElementVNode"])("div",U,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>K.form.note=e),class:"form-control",name:"note"},null,512),[[l["vModelText"],K.form.note]])])]),Object(l["createElementVNode"])("div",P,[z,Object(l["createElementVNode"])("div",H,[Object(l["createVNode"])(W,{name:"password",class:Object(l["normalizeClass"])(["form-control",[{"p-error":I.password}]]),placeholder:"Masukan password",modelValue:K.form.password,"onUpdate:modelValue":t[4]||(t[4]=e=>K.form.password=e),type:"password"},null,8,["modelValue","class"]),I.password?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",J," *"+Object(l["toDisplayString"])(I.password),1)):Object(l["createCommentVNode"])("",!0)])]),L,Object(l["createElementVNode"])("div",R,[Object(l["createElementVNode"])("div",A,[Object(l["createElementVNode"])("button",{class:"btn btn-outline-primary me-2",type:"button",onClick:t[5]||(t[5]=t=>e.$emit("cancel"))}," Cancel "),G])])]),_:1},8,["onSubmit","validation-schema"])]),_:1},8,["show"])}var K=a("7bb1"),Q=a("506a"),W=a("b166"),X={components:{Form:K["b"],Field:K["a"]},props:{data:Object},data(){const e=Q["a"]({status:Q["b"]().required(),password:Q["b"]().required()});return{id:"",form:{status:"",trx_no:"",issued_date:Object(W["a"])(new Date,"yyyy-MM-dd"),issued_time:Object(W["a"])(new Date,"HH:mm")},captcha:{key:"",img:""},status:[{id:1,name:"success"},{id:2,name:"process"},{id:11,name:"failed"},{id:12,name:"cancelled"}],old:{},schema:e}},watch:{data:{deep:!0,handler:function(){this.getCaptcha()}}},methods:{onSubmit(e){let t=Object.assign({},e);t.captcha_key=this.captcha.key,t.captcha_api=e.captcha,t={...t,...this.form};let a=()=>this.$axios.put(`/ppob/history/${this.data.ref_2}/status`,t);this.$store.dispatch("loading",!0),a().then(e=>{this.$root.notif(e.message),this.$emit("save"),this.form={}}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"}),this.getCaptcha()}).finally(()=>{this.$store.dispatch("loading",!1)})},getCaptcha(){this.$axios.get("/refresh-captcha").then(e=>{this.captcha.img=e.img,this.captcha.key=e.key})}},mounted(){}},Y=a("d959"),Z=a.n(Y);const ee=Z()(X,[["render",I]]);t["a"]=ee}}]);