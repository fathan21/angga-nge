(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["logs-core-82a65da5"],{"5d44":function(e,t,l){"use strict";l.r(t);var a=l("7a23");const o={class:"col-md-12 col-sm-12"},c={class:"x_panel"},s=Object(a["createElementVNode"])("div",{class:"x_title"},[Object(a["createElementVNode"])("h2"),Object(a["createElementVNode"])("ul",{class:"nav navbar-right panel_toolbox"}),Object(a["createElementVNode"])("div",{class:"clearfix"})],-1),r={class:"x_content"},d={class:"row"},n={class:"col-12 col-sm-6 col-md-3"},i=Object(a["createElementVNode"])("div",null,null,-1),m={class:"row"},b={class:"col-7",style:{"padding-right":"0px"}},p={class:"col-4",style:{padding:"0px"}},u={class:"col-12 col-sm-6 col-md-3"},O=Object(a["createElementVNode"])("div",null,null,-1),j={class:"row"},h={class:"col-7",style:{"padding-right":"0px"}},V={class:"col-4",style:{padding:"0px"}},N={class:"col-12 col-sm-3 col-md-2 col-lg-2"},E={class:"col-12 col-sm-6 col-md-2 col-lg-2"},v={class:"input-group"},g={key:0,class:"row"},f={class:"col-sm-12"},_={class:"table-responsive"},y={class:"table table-striped jambo_table bulk_action table-bordered"},w=["onClick"],x=["onClick"],D={scope:"row"},k={style:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis",width:"150px"}},C={style:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis",width:"150px"}},B={key:0},S=Object(a["createElementVNode"])("td",{colspan:"10",class:"text-center"}," Data tidak ditemukan ",-1),M=[S],U=Object(a["createElementVNode"])("div",{class:"item form-group mb-0 pt-2"},[Object(a["createElementVNode"])("div",{class:"col-md-6 col-sm-6 offset-md-3"},[Object(a["createElementVNode"])("div",{class:"h4 mb-0"}," Log Detail ")])],-1),q=Object(a["createElementVNode"])("div",{class:"ln_solid"},null,-1),T={class:""},L={class:"item form-group"},P=Object(a["createElementVNode"])("label",{class:"col-form-label col-12 col-md-3 col-sm-3 label-align",for:"first-name"},[Object(a["createTextVNode"])("URL "),Object(a["createElementVNode"])("span",{class:"required"},"*")],-1),$={class:"col-12 col-md-9"},A=["value"],F={class:"item form-group"},J=Object(a["createElementVNode"])("label",{class:"col-form-label col-12 col-md-3 col-sm-3 label-align",for:"first-name"},[Object(a["createTextVNode"])("Created At "),Object(a["createElementVNode"])("span",{class:"required"},"*")],-1),K={class:"col-12 col-md-9"},R=["value"],z={class:"item form-group"},I=Object(a["createElementVNode"])("label",{class:"col-form-label col-12 col-md-3 col-sm-3 label-align",for:"first-name"},[Object(a["createTextVNode"])("Params "),Object(a["createElementVNode"])("span",{class:"required"},"*")],-1),G={class:"col-md-9"},H=["value"],Q={class:"item form-group"},W=Object(a["createElementVNode"])("label",{class:"col-form-label col-12 col-md-3 col-sm-3 label-align",for:"first-name"},"Response ",-1),X={class:"col-12 col-md-9"},Y=["value"],Z=Object(a["createElementVNode"])("div",{class:"ln_solid"},null,-1),ee={class:"item form-group"},te={class:"col-md-6 col-sm-6 offset-md-3"};function le(e,t,l,S,le,ae){const oe=Object(a["resolveComponent"])("select-base"),ce=Object(a["resolveComponent"])("b-overlay"),se=Object(a["resolveComponent"])("paging-base"),re=Object(a["resolveComponent"])("modal-base");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",o,[Object(a["createElementVNode"])("div",c,[s,Object(a["createElementVNode"])("div",r,[Object(a["createElementVNode"])("div",d,[Object(a["createElementVNode"])("div",n,[i,Object(a["createElementVNode"])("div",m,[Object(a["createElementVNode"])("div",b,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=e=>le.search.start_date=e),class:"form-control"},null,512),[[a["vModelText"],le.search.start_date]])]),Object(a["createElementVNode"])("div",p,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"time","onUpdate:modelValue":t[1]||(t[1]=e=>le.search.start_time=e),class:"form-control"},null,512),[[a["vModelText"],le.search.start_time]])])])]),Object(a["createElementVNode"])("div",u,[O,Object(a["createElementVNode"])("div",j,[Object(a["createElementVNode"])("div",h,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=e=>le.search.end_date=e),class:"form-control"},null,512),[[a["vModelText"],le.search.end_date]])]),Object(a["createElementVNode"])("div",V,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"time","onUpdate:modelValue":t[3]||(t[3]=e=>le.search.end_time=e),class:"form-control"},null,512),[[a["vModelText"],le.search.end_time]])])])]),Object(a["createElementVNode"])("div",N,[Object(a["createVNode"])(oe,{options:le.headers.map(e=>({id:e.field,name:e.label})),placeholder:"Semua Kolom",modelValue:le.search.field,"onUpdate:modelValue":t[4]||(t[4]=e=>le.search.field=e)},null,8,["options","modelValue"])]),Object(a["createElementVNode"])("div",E,[Object(a["createElementVNode"])("div",v,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"cari...","onUpdate:modelValue":t[5]||(t[5]=e=>le.search.q=e),onKeyup:t[6]||(t[6]=Object(a["withKeys"])((...e)=>ae.searchData&&ae.searchData(...e),["enter"]))},null,544),[[a["vModelText"],le.search.q]]),Object(a["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[7]||(t[7]=(...e)=>ae.searchData&&ae.searchData(...e))},"Lihat")])])]),le.isSubmited?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",g,[Object(a["createElementVNode"])("div",f,[Object(a["createVNode"])(ce,{show:le.loading,rounded:"sm"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",_,[Object(a["createElementVNode"])("table",y,[Object(a["createElementVNode"])("thead",null,[Object(a["createElementVNode"])("tr",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(le.headers,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("th",{key:t,class:Object(a["normalizeClass"])([e.sortable?" sortable ":"",e.field==le.options.sort&&"asc"==le.options.order?" asc ":e.field==le.options.sort&&"desc"==le.options.order?" desc ":"both"]),onClick:t=>e.sortable?ae.sorter(e.field):null},Object(a["toDisplayString"])(e.label),11,w))),128))])]),Object(a["createElementVNode"])("tbody",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(le.data,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{key:t,class:"cursor-pointer",onClick:t=>ae.openModal(e)},[Object(a["createElementVNode"])("td",D,Object(a["toDisplayString"])((le.options.current_page-1)*le.options.per_page+t+1),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(e.product),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(e.function),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(e.url),1),Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("div",k,Object(a["toDisplayString"])(e.params),1)]),Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("div",C,Object(a["toDisplayString"])(e.response),1)]),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(e.created_at),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(e.params?JSON.parse(e.params).mmid:e.mmid),1)],8,x))),128)),le.data.length<=0&&!le.loading?(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",B,M)):Object(a["createCommentVNode"])("",!0)])])])]),_:1},8,["show"])])])):Object(a["createCommentVNode"])("",!0),le.data.length>0?(Object(a["openBlock"])(),Object(a["createBlock"])(se,{key:1,modelValue:le.options.current_page,"onUpdate:modelValue":t[8]||(t[8]=e=>le.options.current_page=e),options:le.options},null,8,["modelValue","options"])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])(re,{modelValue:le.modal,"onUpdate:modelValue":t[10]||(t[10]=e=>le.modal=e),size:"modal-lg"},{default:Object(a["withCtx"])(()=>[U,q,Object(a["createElementVNode"])("div",T,[Object(a["createElementVNode"])("div",L,[P,Object(a["createElementVNode"])("div",$,[Object(a["createElementVNode"])("input",{class:"form-control",type:"text",value:le.modalData.url},null,8,A)])]),Object(a["createElementVNode"])("div",F,[J,Object(a["createElementVNode"])("div",K,[Object(a["createElementVNode"])("input",{class:"form-control",type:"text",value:le.modalData.created_at},null,8,R)])]),Object(a["createElementVNode"])("div",z,[I,Object(a["createElementVNode"])("div",G,[Object(a["createElementVNode"])("textarea",{class:"form-control",type:"text",value:le.modalData.params,rows:"5"},null,8,H)])]),Object(a["createElementVNode"])("div",Q,[W,Object(a["createElementVNode"])("div",X,[Object(a["createElementVNode"])("textarea",{class:"form-control",type:"text",value:le.modalData.response,rows:"10"},null,8,Y)])]),Z,Object(a["createElementVNode"])("div",ee,[Object(a["createElementVNode"])("div",te,[Object(a["createElementVNode"])("button",{class:"btn btn-outline-primary me-2",type:"button",onClick:t[9]||(t[9]=e=>le.modal=!1)}," Cancel ")])])])]),_:1},8,["modelValue"])])])}l("14d9");var ae=l("b166"),oe={data(){return{modalData:{},modal:!1,fungsi:[],suppliers:[],headers:[{label:"#",sortable:!1},{label:"Product",field:"product",sortable:!1},{label:"Action",field:"function",sortable:!1},{label:"Url",field:"url",sortable:!0},{label:"Params",field:"params",sortable:!0},{label:"Response",field:"response",sortable:!0},{label:"created At",field:"created_at",sortable:!0},{label:"MMID",field:"mmid",sortable:!0}],data:[],options:{current_page:1,total_row:0,per_page:100,sort:"created_at",order:"desc"},search:{q:"",fungsi:"",supplier:"",per_page:100,start_date:Object(ae["a"])(new Date,"yyyy-MM-dd"),end_date:Object(ae["a"])(new Date,"yyyy-MM-dd"),start_time:"",end_time:""},unit:[],level:[],loading:!1,isSubmited:!1}},mounted(){},computed:{moreParams(){return{field:this.search.field?this.search.field.id:"",page:this.options.current_page,q:this.search.q,sort:this.options.sort+"|"+this.options.order,per_page:this.options.per_page,start_date:this.search.start_date+" "+this.search.start_time,end_date:this.search.end_date+" "+this.search.end_time}}},watch:{"options.current_page":{handler:function(){this.loadData()}}},methods:{openModal(e){this.modalData=e,this.modal=!0},canEdit(e){return!(["admin","mitra"].indexOf(e.name)>-1)},sorter(e){this.options.sort==e?this.options.order="asc"==this.options.order?"desc":"asc":(this.options.sort=e,this.options.order="asc"),this.loadData()},searchData(){this.options.current_page=1,this.loadData(),this.isSubmited=!0},loadData(){this.loading=!0,this.$axios.get("/logs/core",{params:this.moreParams}).then(e=>{this.loading=!1,this.data=e.data.data,this.options.total_row=e.data.meta.total,this.options.per_page=e.data.meta.per_page}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})},loadSuppliers(){this.$axios.get("/logs/external-suppliers",{}).then(e=>{this.suppliers=e.data})},loadFungsi(){this.$axios.get("/logs/external-fungsi",{}).then(e=>{this.fungsi=e.data})},editItem(e){this.$router.push({name:"app.acl.form",params:{id:e.id}})}}},ce=l("d959"),se=l.n(ce);const re=se()(oe,[["render",le]]);t["default"]=re}}]);