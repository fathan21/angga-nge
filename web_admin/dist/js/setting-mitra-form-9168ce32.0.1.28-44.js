(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["setting-mitra-form-9168ce32"],{"7ca8":function(e,t,l){"use strict";l.r(t);var o=l("7a23");const a={class:"col-md-12 col-sm-12"},c={class:"x_panel"},r={class:"x_title"},s={class:"nav navbar-right panel_toolbox"},n=Object(o["createElementVNode"])("i",{class:"fa fa-arrow-left"},null,-1),i=Object(o["createElementVNode"])("div",{class:"clearfix"},null,-1),m={class:"x_content"},d=Object(o["createElementVNode"])("br",null,null,-1),b={class:"row"},p={class:"col-12 col-md-6"},u={class:"item form-group"},O=Object(o["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(o["createTextVNode"])("Nama "),Object(o["createElementVNode"])("span",{class:"required"},"*")],-1),j={class:"col-md-9 col-sm-9"},f={key:0,class:"p-error"},V={class:"item form-group"},h=Object(o["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(o["createTextVNode"])("Email "),Object(o["createElementVNode"])("span",{class:"required"},"*")],-1),_={class:"col-md-9 col-sm-9"},N={key:0,class:"p-error"},k={class:"item form-group"},E=Object(o["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(o["createTextVNode"])("Phone "),Object(o["createElementVNode"])("span",{class:"required"},"*")],-1),y={class:"col-md-9 col-sm-9"},g={key:0,class:"p-error"},w={class:"item form-group"},v=Object(o["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(o["createTextVNode"])("Password "),Object(o["createElementVNode"])("span",{class:"required"},"*")],-1),C={class:"col-md-9 col-sm-9"},x={key:0,class:"p-error"},B={class:"item form-group"},q=Object(o["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},"Google 2fa code ",-1),U={class:"col-md-9 col-sm-9"},D={class:"input-group"},S={class:"col-12 col-md-6"},T={class:"item form-group"},$=Object(o["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(o["createTextVNode"])("Mitra Code "),Object(o["createElementVNode"])("span",{class:"required"},"*")],-1),I={class:"col-md-9 col-sm-9"},z={class:"input-group mb-3"},M=["onChange","onInput"],P={key:0,class:"p-error"},A={class:"item form-group"},F=Object(o["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(o["createTextVNode"])("Username "),Object(o["createElementVNode"])("span",{class:"required"},"*")],-1),G={class:"col-md-9 col-sm-9"},W={class:"input-group mb-3"},J=["onChange","onInput"],K={key:0,class:"p-error"},L={class:"item form-group"},R=Object(o["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(o["createTextVNode"])("API Key "),Object(o["createElementVNode"])("span",{class:"required"},"*")],-1),Y={class:"col-md-9 col-sm-9"},H={class:"input-group"},Q=["onChange","onInput"],X={key:0,class:"p-error"},Z={class:"item form-group"},ee=Object(o["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},"Production ",-1),te={class:"col-md-9 col-sm-9"},le=Object(o["createElementVNode"])("option",{value:"0"},"Tidak",-1),oe=Object(o["createElementVNode"])("option",{value:"1"},"Ya",-1),ae={class:"item form-group"},ce=Object(o["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},"Callback URL ",-1),re={class:"col-md-9 col-sm-9"},se={key:0,class:"p-error"},ne={class:"item form-group"},ie=Object(o["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},"Callback URL Maskapai ",-1),me={class:"col-md-9 col-sm-9"},de={class:"item form-group"},be=Object(o["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(o["createTextVNode"])("IP Whitelist "),Object(o["createElementVNode"])("span",{class:"required"},"*")],-1),pe={class:"col-md-9 col-sm-9"},ue={key:0,class:"p-error"},Oe=Object(o["createElementVNode"])("br",null,null,-1),je={key:0,class:"p-error"},fe=Object(o["createElementVNode"])("br",null,null,-1),Ve={key:0,class:"p-error"},he=Object(o["createElementVNode"])("div",{class:"ln_solid"},null,-1),_e={class:"item form-group"},Ne={class:"col-md-9 col-sm-9 offset-md-3"},ke=Object(o["createElementVNode"])("button",{type:"submit",class:"btn btn-primary"}," Submit ",-1);function Ee(e,t,l,Ee,ye,ge){const we=Object(o["resolveComponent"])("Field"),ve=Object(o["resolveComponent"])("b-card"),Ce=Object(o["resolveComponent"])("Form",!0);return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",a,[Object(o["createElementVNode"])("div",c,[Object(o["createElementVNode"])("div",r,[Object(o["createElementVNode"])("h2",null,Object(o["toDisplayString"])(ge.title),1),Object(o["createElementVNode"])("ul",s,[Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:t[0]||(t[0]=t=>e.$router.back())},[n,Object(o["createTextVNode"])(" Kembali ")])])]),i]),Object(o["createVNode"])(Ce,{onSubmit:ge.onSubmit,"validation-schema":ye.schema,class:"signin-form"},{default:Object(o["withCtx"])(({errors:l})=>[Object(o["createElementVNode"])("div",m,[d,Object(o["createElementVNode"])("div",b,[Object(o["createElementVNode"])("div",p,[Object(o["createVNode"])(ve,{header:"Data Mitra"},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",u,[O,Object(o["createElementVNode"])("div",j,[Object(o["createVNode"])(we,{autocomplete:"off",name:"name",class:Object(o["normalizeClass"])(["form-control",[{"p-error":l.name}]]),modelValue:ye.form.name,"onUpdate:modelValue":t[1]||(t[1]=e=>ye.form.name=e),type:"text"},null,8,["modelValue","class"]),l.name?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",f," *"+Object(o["toDisplayString"])(l.name),1)):Object(o["createCommentVNode"])("",!0)])]),Object(o["createElementVNode"])("div",V,[h,Object(o["createElementVNode"])("div",_,[Object(o["createVNode"])(we,{autocomplete:"off",name:"email",class:Object(o["normalizeClass"])(["form-control",[{"p-error":l.email}]]),modelValue:ye.form.email,"onUpdate:modelValue":t[2]||(t[2]=e=>ye.form.email=e),type:"text"},null,8,["modelValue","class"]),l.email?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",N," *"+Object(o["toDisplayString"])(l.email),1)):Object(o["createCommentVNode"])("",!0)])]),Object(o["createElementVNode"])("div",k,[E,Object(o["createElementVNode"])("div",y,[Object(o["createVNode"])(we,{autocomplete:"off",name:"phone",class:Object(o["normalizeClass"])(["form-control",[{"p-error":l.phone}]]),modelValue:ye.form.phone,"onUpdate:modelValue":t[3]||(t[3]=e=>ye.form.phone=e),type:"text"},null,8,["modelValue","class"]),l.phone?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",g," *"+Object(o["toDisplayString"])(l.phone),1)):Object(o["createCommentVNode"])("",!0)])]),Object(o["createElementVNode"])("div",w,[v,Object(o["createElementVNode"])("div",C,[Object(o["createVNode"])(we,{name:"password",autocomplete:"off",class:Object(o["normalizeClass"])(["form-control",[{"p-error":l.password}]]),modelValue:ye.form.password,"onUpdate:modelValue":t[4]||(t[4]=e=>ye.form.password=e),type:"password"},null,8,["modelValue","class"]),l.password?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",x," *"+Object(o["toDisplayString"])(l.password),1)):Object(o["createCommentVNode"])("",!0)])]),Object(o["createElementVNode"])("div",B,[q,Object(o["createElementVNode"])("div",U,[Object(o["createElementVNode"])("div",D,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"",autocomplete:"off","aria-label":"Example text with button addon","aria-describedby":"button-addon1","onUpdate:modelValue":t[5]||(t[5]=t=>e.g_code=t),disabled:""},null,512),[[o["vModelText"],e.g_code]]),Object(o["createElementVNode"])("button",{class:"btn btn-outline-success",type:"button",id:"button-addon1",onClick:t[6]||(t[6]=t=>ge.copy(e.g_code))}," Copy ")])])])]),_:2},1024)]),Object(o["createElementVNode"])("div",S,[Object(o["createVNode"])(ve,{header:"Akses API"},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",T,[$,Object(o["createElementVNode"])("div",I,[Object(o["createVNode"])(we,{name:"code",modelValue:ye.form.code,"onUpdate:modelValue":t[10]||(t[10]=e=>ye.form.code=e)},{default:Object(o["withCtx"])(({handleChange:e})=>[Object(o["createElementVNode"])("div",z,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{autocomplete:"off",type:"text",class:Object(o["normalizeClass"])(["form-control",[{"p-error":l.code}]]),placeholder:"","aria-label":"Example text with button addon","aria-describedby":"button-addon1",onChange:e,onInput:e,"onUpdate:modelValue":t[7]||(t[7]=e=>ye.form.code=e)},null,42,M),[[o["vModelText"],ye.form.code]]),ye.form.code?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:1,class:"btn btn-outline-success",type:"button",id:"button-addon1",onClick:t[9]||(t[9]=e=>ge.copy(ye.form.code))}," Copy ")):(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:0,class:"btn btn-outline-success",type:"button",id:"button-addon1",onClick:t[8]||(t[8]=e=>ge.generate("code"))}," Generate "))])]),_:2},1032,["modelValue"]),l.code?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",P," *"+Object(o["toDisplayString"])(l.code),1)):Object(o["createCommentVNode"])("",!0)])]),Object(o["createElementVNode"])("div",A,[F,Object(o["createElementVNode"])("div",G,[Object(o["createVNode"])(we,{name:"username",modelValue:ye.form.username,"onUpdate:modelValue":t[14]||(t[14]=e=>ye.form.username=e)},{default:Object(o["withCtx"])(({handleChange:e})=>[Object(o["createElementVNode"])("div",W,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{autocomplete:"off",type:"text",class:Object(o["normalizeClass"])(["form-control",[{"p-error":l.username}]]),placeholder:"","aria-label":"Example text with button addon","aria-describedby":"button-addon1",onChange:e,onInput:e,"onUpdate:modelValue":t[11]||(t[11]=e=>ye.form.username=e)},null,42,J),[[o["vModelText"],ye.form.username]]),ye.form.username?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:1,class:"btn btn-outline-success",type:"button",id:"button-addon1",onClick:t[13]||(t[13]=e=>ge.copy(ye.form.username))}," Copy ")):(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:0,class:"btn btn-outline-success",type:"button",id:"button-addon1",onClick:t[12]||(t[12]=e=>ge.generate("username"))}," Generate "))])]),_:2},1032,["modelValue"]),l.username?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",K," *"+Object(o["toDisplayString"])(l.username),1)):Object(o["createCommentVNode"])("",!0)])]),Object(o["createElementVNode"])("div",L,[R,Object(o["createElementVNode"])("div",Y,[Object(o["createVNode"])(we,{name:"api_key",modelValue:ye.form.api_key,"onUpdate:modelValue":t[18]||(t[18]=e=>ye.form.api_key=e)},{default:Object(o["withCtx"])(({handleChange:e})=>[Object(o["createElementVNode"])("div",H,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{autocomplete:"off",type:"text",class:Object(o["normalizeClass"])(["form-control",[{"p-error":l.api_key}]]),placeholder:"","aria-label":"Example text with button addon","aria-describedby":"button-addon1",onChange:e,onInput:e,"onUpdate:modelValue":t[15]||(t[15]=e=>ye.form.api_key=e)},null,42,Q),[[o["vModelText"],ye.form.api_key]]),ye.form.api_key?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:1,class:"btn btn-outline-success",type:"button",id:"button-addon1",onClick:t[17]||(t[17]=e=>ge.copy(ye.form.api_key))}," Copy ")):(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:0,class:"btn btn-outline-success",type:"button",id:"button-addon1",onClick:t[16]||(t[16]=e=>ge.generate("api_key"))}," Generate "))])]),_:2},1032,["modelValue"]),l.api_key?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",X," *"+Object(o["toDisplayString"])(l.api_key),1)):Object(o["createCommentVNode"])("",!0)])]),Object(o["createElementVNode"])("div",Z,[ee,Object(o["createElementVNode"])("div",te,[Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(we,{name:"is_prod",class:Object(o["normalizeClass"])(["form-control",[{"p-error":l.is_prod}]]),modelValue:ye.form.is_prod,"onUpdate:modelValue":t[19]||(t[19]=e=>ye.form.is_prod=e),as:"select"},{default:Object(o["withCtx"])(()=>[le,oe]),_:2},1032,["modelValue","class"])])])]),Object(o["createElementVNode"])("div",ae,[ce,Object(o["createElementVNode"])("div",re,[Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(we,{autocomplete:"off",name:"callback_url",class:Object(o["normalizeClass"])(["form-control",[{"p-error":l.callback_url}]]),modelValue:ye.form.callback_url,"onUpdate:modelValue":t[20]||(t[20]=e=>ye.form.callback_url=e),type:"text"},null,8,["modelValue","class"]),l.callback_url?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",se," *"+Object(o["toDisplayString"])(l.callback_url),1)):Object(o["createCommentVNode"])("",!0)])])]),Object(o["createElementVNode"])("div",ne,[ie,Object(o["createElementVNode"])("div",me,[Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(we,{autocomplete:"off",name:"callback_url_air",class:"form-control",modelValue:ye.form.callback_url_air,"onUpdate:modelValue":t[21]||(t[21]=e=>ye.form.callback_url_air=e),type:"text"},null,8,["modelValue"])])])]),Object(o["createElementVNode"])("div",de,[be,Object(o["createElementVNode"])("div",pe,[Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(we,{name:"ip_whitelist_1",class:Object(o["normalizeClass"])(["form-control",[{"p-error":l.ip_whitelist_1}]]),autocomplete:"off",placeholder:"IP Whitelist 1",modelValue:ye.form.ip_whitelist_1,"onUpdate:modelValue":t[22]||(t[22]=e=>ye.form.ip_whitelist_1=e),type:"text"},null,8,["modelValue","class"]),l.ip_whitelist_1?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",ue," *"+Object(o["toDisplayString"])(l.ip_whitelist_1),1)):Object(o["createCommentVNode"])("",!0)]),Oe,Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(we,{autocomplete:"off",name:"ip_whitelist_2",class:Object(o["normalizeClass"])(["form-control",[{"p-error":l.ip_whitelist_2}]]),placeholder:"IP Whitelist 2",modelValue:ye.form.ip_whitelist_2,"onUpdate:modelValue":t[23]||(t[23]=e=>ye.form.ip_whitelist_2=e),type:"text"},null,8,["modelValue","class"]),l.ip_whitelist_2?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",je," *"+Object(o["toDisplayString"])(l.ip_whitelist_2),1)):Object(o["createCommentVNode"])("",!0)]),fe,Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(we,{autocomplete:"off",name:"ip_whitelist_3",class:Object(o["normalizeClass"])(["form-control",[{"p-error":l.ip_whitelist_3}]]),placeholder:"IP Whitelist 3",modelValue:ye.form.ip_whitelist_3,"onUpdate:modelValue":t[24]||(t[24]=e=>ye.form.ip_whitelist_3=e),type:"text"},null,8,["modelValue","class"]),l.ip_whitelist_3?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",Ve," *"+Object(o["toDisplayString"])(l.ip_whitelist_3),1)):Object(o["createCommentVNode"])("",!0)])])])]),_:2},1024)])]),he,Object(o["createElementVNode"])("div",_e,[Object(o["createElementVNode"])("div",Ne,[Object(o["createElementVNode"])("button",{class:"btn btn-outline-primary me-2",type:"button",onClick:t[25]||(t[25]=t=>e.$router.back())}," Cancel "),ke])])])]),_:1},8,["onSubmit","validation-schema"])])])}l("14d9");var ye=l("7bb1"),ge=l("506a"),we={components:{Form:ye["b"],Field:ye["a"]},data(){const e=ge["a"]({name:ge["b"]().required(),email:ge["b"]().required(),phone:ge["b"]().required(),api_key:ge["b"]().required(),rqid:ge["b"](),username:ge["b"]().required(),code:ge["b"]().required(),ip_whitelist_1:ge["b"]().required(),ip_whitelist_2:ge["b"](),ip_whitelist_3:ge["b"](),callback_url:ge["b"]().nullable(),password:this.$route.params.id?ge["b"]():ge["b"]().required().min(6)});return{id:"",g_qr:"",q_code:"",form:{code:"",name:"",email:"",phone:"",password:"",api_key:"",rqid:"",username:"",callback_url:"",callback_url_air:"",ip_whitelist_1:"",ip_whitelist_2:""},old:{},schema:e}},computed:{title(){return this.id?"Ubah":"Tambah"}},methods:{copy(e){let t="behasil di copy";const l=document.createElement("textarea");l.value=e,document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l),this.$root.notif(t)},generate(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",l=50;switch(e){case"api_key":t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",l=10;break;case"rqid":t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",l=15;break;case"username":t="0123456789",l=5;break;case"code":t="0123456789",l=2;break}for(var o="",a=0;a<l;a++)o+=t.charAt(Math.floor(Math.random()*t.length));switch(e){case"api_key":this.form.api_key=o;break;case"rqid":this.form.rqid=o;break;case"username":this.form.username="C"+o;break;case"code":this.form.code="A"+o;break}},reset(){this.form={name:"",email:"",phone:"",password:"",api_key:"",rqid:"",username:"",ip_whitelist_1:"",ip_whitelist_2:"",code:"",is_prod:0,callback_url:""}},loadData(){this.$axios.get(`/mitra/${this.id}?with_q_qr=1`).then(e=>{let t=Object.assign({},e.data);this.old=t,this.form.name=t.name,this.form.email=t.email,this.form.phone=t.phone,this.form.code=t.mitra.code,this.form.is_prod=t.mitra.is_prod,this.form.api_key=t.mitra.api_key,this.form.rqid=t.mitra.rqid,this.form.callback_url=t.mitra.callback_url,this.form.callback_url_air=t.mitra.callback_url_air,this.form.username=t.mitra.username,this.form.ip_whitelist_1=t.mitra.ip_whitelist[0]||"",this.form.ip_whitelist_2=t.mitra.ip_whitelist[1]||"",this.form.ip_whitelist_3=t.mitra.ip_whitelist[2]||"",t.g_qr&&(this.g_qr=t.g_qr),t.g_code&&(this.g_code=t.g_code)}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{})},onSubmit(e){this.$store.dispatch("loading",!0),e.role="mitra";let t=[e.ip_whitelist_1];e.ip_whitelist_2&&t.push(e.ip_whitelist_2),e.ip_whitelist_3&&t.push(e.ip_whitelist_3),e.ip_whitelist=t;let l=()=>this.$axios.post("/mitra",e);this.id&&(l=()=>this.$axios.put("/mitra/"+this.id,e)),l().then(e=>{this.$router.push({name:"app.setting.mitra"}),this.$root.notif(e.message)}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.$store.dispatch("loading",!1)})}},mounted(){this.$route.params.id&&(this.id=this.$route.params.id,this.loadData())}},ve=l("d959"),Ce=l.n(ve);const xe=Ce()(we,[["render",Ee]]);t["default"]=xe}}]);