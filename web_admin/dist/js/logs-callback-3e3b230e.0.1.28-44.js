(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["logs-callback-3e3b230e"],{"47d3":function(e,t,l){"use strict";l.r(t);var a=l("7a23");const o={class:"col-md-12 col-sm-12"},c={class:"x_panel"},s=Object(a["createElementVNode"])("div",{class:"x_title"},[Object(a["createElementVNode"])("h2"),Object(a["createElementVNode"])("ul",{class:"nav navbar-right panel_toolbox"}),Object(a["createElementVNode"])("div",{class:"clearfix"})],-1),r={class:"x_content"},d={class:"row"},n={class:"col-12 col-sm-6 col-md-3"},i=Object(a["createElementVNode"])("div",null,null,-1),m={class:"row"},b={class:"col-7",style:{"padding-right":"0px"}},p={class:"col-4",style:{padding:"0px"}},u={class:"col-12 col-sm-6 col-md-3"},j=Object(a["createElementVNode"])("div",null,null,-1),O={class:"row"},h={class:"col-7",style:{"padding-right":"0px"}},V={class:"col-4",style:{padding:"0px"}},N={class:"col-12 col-sm-3 col-md-2 col-lg-2"},E={class:"col-12 col-sm-6 col-md-2 col-lg-2"},g={class:"input-group"},v={key:0,class:"row"},f={class:"col-sm-12"},_={class:"table-responsive"},y={class:"table table-striped jambo_table bulk_action table-bordered"},w=["onClick"],x=["onClick"],k={scope:"row"},D={style:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis",width:"150px"}},C={style:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis",width:"150px"}},B={style:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis",width:"150px"}},S={key:0},M=Object(a["createElementVNode"])("td",{colspan:"10",class:"text-center"}," Data tidak ditemukan ",-1),U=[M],q=Object(a["createElementVNode"])("div",{class:"item form-group mb-0 pt-2"},[Object(a["createElementVNode"])("div",{class:"col-md-6 col-sm-6 offset-md-3"},[Object(a["createElementVNode"])("div",{class:"h4 mb-0"}," Log Detail ")])],-1),T=Object(a["createElementVNode"])("div",{class:"ln_solid"},null,-1),P={class:""},$={class:"item form-group"},L=Object(a["createElementVNode"])("label",{class:"col-form-label col-12 col-md-3 col-sm-3 label-align",for:"first-name"},[Object(a["createTextVNode"])("URL "),Object(a["createElementVNode"])("span",{class:"required"},"*")],-1),F={class:"col-md-9 col-12"},K=["value"],R={class:"item form-group"},z=Object(a["createElementVNode"])("label",{class:"col-form-label col-12 col-md-3 col-sm-3 label-align",for:"first-name"},[Object(a["createTextVNode"])("Created At "),Object(a["createElementVNode"])("span",{class:"required"},"*")],-1),A={class:"col-md-9 col-12"},I=["value"],J={class:"item form-group"},G=Object(a["createElementVNode"])("label",{class:"col-form-label col-12 col-md-3 col-sm-3 label-align",for:"first-name"},[Object(a["createTextVNode"])("Params "),Object(a["createElementVNode"])("span",{class:"required"},"*")],-1),H={class:"col-md-9 col-12"},Q=["value"],W={class:"item form-group"},X=Object(a["createElementVNode"])("label",{class:"col-form-label col-12 col-md-3 col-sm-3 label-align",for:"first-name"},"Response ",-1),Y={class:"col-md-9 col-12"},Z=["value"],ee=Object(a["createElementVNode"])("div",{class:"ln_solid"},null,-1),te={class:"item form-group"},le={class:"col-md-6 col-sm-6 offset-md-3"};function ae(e,t,l,M,ae,oe){const ce=Object(a["resolveComponent"])("select-base"),se=Object(a["resolveComponent"])("b-overlay"),re=Object(a["resolveComponent"])("paging-base"),de=Object(a["resolveComponent"])("modal-base");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",o,[Object(a["createElementVNode"])("div",c,[s,Object(a["createElementVNode"])("div",r,[Object(a["createElementVNode"])("div",d,[Object(a["createElementVNode"])("div",n,[i,Object(a["createElementVNode"])("div",m,[Object(a["createElementVNode"])("div",b,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=e=>ae.search.start_date=e),class:"form-control"},null,512),[[a["vModelText"],ae.search.start_date]])]),Object(a["createElementVNode"])("div",p,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"time","onUpdate:modelValue":t[1]||(t[1]=e=>ae.search.start_time=e),class:"form-control"},null,512),[[a["vModelText"],ae.search.start_time]])])])]),Object(a["createElementVNode"])("div",u,[j,Object(a["createElementVNode"])("div",O,[Object(a["createElementVNode"])("div",h,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=e=>ae.search.end_date=e),class:"form-control"},null,512),[[a["vModelText"],ae.search.end_date]])]),Object(a["createElementVNode"])("div",V,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"time","onUpdate:modelValue":t[3]||(t[3]=e=>ae.search.end_time=e),class:"form-control"},null,512),[[a["vModelText"],ae.search.end_time]])])])]),Object(a["createElementVNode"])("div",N,[Object(a["createVNode"])(ce,{options:ae.headers.map(e=>({id:e.field,name:e.label})),placeholder:"Semua Kolom",modelValue:ae.search.field,"onUpdate:modelValue":t[4]||(t[4]=e=>ae.search.field=e)},null,8,["options","modelValue"])]),Object(a["createElementVNode"])("div",E,[Object(a["createElementVNode"])("div",g,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"cari...","onUpdate:modelValue":t[5]||(t[5]=e=>ae.search.q=e),onKeyup:t[6]||(t[6]=Object(a["withKeys"])((...e)=>oe.searchData&&oe.searchData(...e),["enter"]))},null,544),[[a["vModelText"],ae.search.q]]),Object(a["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[7]||(t[7]=(...e)=>oe.searchData&&oe.searchData(...e))},"Lihat")])])]),ae.isSubmited?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",v,[Object(a["createElementVNode"])("div",f,[Object(a["createVNode"])(se,{show:ae.loading,rounded:"sm"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",_,[Object(a["createElementVNode"])("table",y,[Object(a["createElementVNode"])("thead",null,[Object(a["createElementVNode"])("tr",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(ae.headers,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("th",{key:t,class:Object(a["normalizeClass"])([e.sortable?" sortable ":"",e.field==ae.options.sort&&"asc"==ae.options.order?" asc ":e.field==ae.options.sort&&"desc"==ae.options.order?" desc ":"both"]),onClick:t=>e.sortable?oe.sorter(e.field):null},Object(a["toDisplayString"])(e.label),11,w))),128))])]),Object(a["createElementVNode"])("tbody",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(ae.data,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{key:t,class:"cursor-pointer",onClick:t=>oe.openModal(e)},[Object(a["createElementVNode"])("td",k,Object(a["toDisplayString"])((ae.options.current_page-1)*ae.options.per_page+t+1),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(e.url),1),Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("div",D,Object(a["toDisplayString"])(e.params),1)]),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(e.product),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(e.sub_product),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(e.function),1),Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("div",C,Object(a["toDisplayString"])(e.response),1)]),Object(a["createElementVNode"])("td",B,Object(a["toDisplayString"])(e.created_at),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(e.mitra?e.mitra.mmid:""),1)],8,x))),128)),ae.data.length<=0&&!ae.loading?(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",S,U)):Object(a["createCommentVNode"])("",!0)])])])]),_:1},8,["show"])])])):Object(a["createCommentVNode"])("",!0),ae.data.length>0?(Object(a["openBlock"])(),Object(a["createBlock"])(re,{key:1,modelValue:ae.options.current_page,"onUpdate:modelValue":t[8]||(t[8]=e=>ae.options.current_page=e),options:ae.options},null,8,["modelValue","options"])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])(de,{modelValue:ae.modal,"onUpdate:modelValue":t[10]||(t[10]=e=>ae.modal=e),size:"modal-lg"},{default:Object(a["withCtx"])(()=>[q,T,Object(a["createElementVNode"])("div",P,[Object(a["createElementVNode"])("div",$,[L,Object(a["createElementVNode"])("div",F,[Object(a["createElementVNode"])("input",{class:"form-control",type:"text",value:ae.modalData.url},null,8,K)])]),Object(a["createElementVNode"])("div",R,[z,Object(a["createElementVNode"])("div",A,[Object(a["createElementVNode"])("input",{class:"form-control",type:"text",value:ae.modalData.created_at},null,8,I)])]),Object(a["createElementVNode"])("div",J,[G,Object(a["createElementVNode"])("div",H,[Object(a["createElementVNode"])("textarea",{class:"form-control",type:"text",value:ae.modalData.params,rows:"5"},null,8,Q)])]),Object(a["createElementVNode"])("div",W,[X,Object(a["createElementVNode"])("div",Y,[Object(a["createElementVNode"])("textarea",{class:"form-control",type:"text",value:ae.modalData.response,rows:"10"},null,8,Z)])]),ee,Object(a["createElementVNode"])("div",te,[Object(a["createElementVNode"])("div",le,[Object(a["createElementVNode"])("button",{class:"btn btn-outline-primary me-2",type:"button",onClick:t[9]||(t[9]=e=>ae.modal=!1)}," Cancel ")])])])]),_:1},8,["modelValue"])])])}l("14d9");var oe=l("b166"),ce={data(){return{modalData:{},modal:!1,isSubmited:!1,fungsi:[],suppliers:[],headers:[{label:"#",sortable:!1},{label:"Url",field:"url",sortable:!0},{label:"Params",field:"params",sortable:!0},{label:"Product",field:"product",sortable:!0},{label:"Sub Product",field:"sub_product",sortable:!0},{label:"Function",field:"function",sortable:!0},{label:"Response",field:"response",sortable:!0},{label:"created At",field:"created_at",sortable:!0},{label:"MMID",field:"mmid",sortable:!1}],data:[],options:{current_page:1,total_row:0,per_page:100,sort:"created_at",order:"desc"},search:{q:"",fungsi:"",supplier:"",per_page:100,start_date:Object(oe["a"])(new Date,"yyyy-MM-dd"),end_date:Object(oe["a"])(new Date,"yyyy-MM-dd"),start_time:"",end_time:""},mitras:[],loading:!1}},mounted(){this.loadMitra().then(e=>{this.mitras=e.data}).finally(()=>{})},computed:{moreParams(){return{field:this.search.field?this.search.field.id:"",page:this.options.current_page,q:this.search.q,sort:this.options.sort+"|"+this.options.order,per_page:this.options.per_page,start_date:this.search.start_date+" "+this.search.start_time,end_date:this.search.end_date+" "+this.search.end_time}}},watch:{"options.current_page":{handler:function(){this.loadData()}}},methods:{loadMitra(){return this.loading=!0,this.$axios.get("/logs/mitra",{})},openModal(e){this.modalData=e,this.modal=!0},canEdit(e){return!(["admin","mitra"].indexOf(e.name)>-1)},sorter(e){this.options.sort==e?this.options.order="asc"==this.options.order?"desc":"asc":(this.options.sort=e,this.options.order="asc"),this.loadData()},searchData(){this.options.current_page=1,this.loadData()},loadData(){this.isSubmited=!0,this.loading=!0,this.$axios.get("/logs/callback",{params:this.moreParams}).then(e=>{this.loading=!1,this.data=e.data.data.map(e=>(e.mitra=this.mitras.find(t=>t.id==e.user_id),e)),this.options.total_row=e.data.meta.total,this.options.per_page=e.data.meta.per_page}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})},loadSuppliers(){this.$axios.get("/logs/callback",{}).then(e=>{this.suppliers=e.data})},loadFungsi(){this.$axios.get("/logs/callback-fungsi",{}).then(e=>{this.fungsi=e.data})},editItem(e){this.$router.push({name:"app.acl.form",params:{id:e.id}})}}},se=l("d959"),re=l.n(se);const de=re()(ce,[["render",ae]]);t["default"]=de}}]);