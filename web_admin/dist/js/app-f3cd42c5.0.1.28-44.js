(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app-f3cd42c5"],{1478:function(e,t,a){"use strict";var c=a("7a23");const l={class:"col-md-12 col-sm-12"},o={class:"x_panel"},n={class:"x_content"},s={class:"table-responsive",style:{"min-height":"75vh"}},r={class:"row"},d={class:"col-sm-12"},i={class:"table-responsive"},b={class:"table table-striped jambo_table bulk_action table-bordered"},m=Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",null,"Action"),Object(c["createElementVNode"])("th",null,"Status"),Object(c["createElementVNode"])("th",null,[Object(c["createTextVNode"])("Mitra ID"),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])("No Trx")]),Object(c["createElementVNode"])("th",null,[Object(c["createTextVNode"])("Waktu Booking"),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])("Timelimit")]),Object(c["createElementVNode"])("th",null,"PNR"),Object(c["createElementVNode"])("th",null,"Rute"),Object(c["createElementVNode"])("th",null,"Penumpang")])],-1),j={key:0},O=Object(c["createElementVNode"])("td",{colspan:"11",class:"text-center"}," Data tidak ditemukan ",-1),p=[O],u={class:"px-0 text-center"},V=Object(c["createElementVNode"])("i",{class:"fa fa-times"},null,-1),h={style:{"min-width":"100px"}},N={class:""},E={class:"text-danger"},g={style:{"min-width":"110px"}},y={class:"",style:{"min-width":"150px"}},x={class:""},_={class:"d-flex"},k=Object(c["createElementVNode"])("div",{class:"px-3"},"-",-1),f={class:"pe-2"},v={class:""};function C(e,t,a,O,C,w){const D=Object(c["resolveComponent"])("b-button"),B=Object(c["resolveComponent"])("statusbadge-base"),S=Object(c["resolveComponent"])("b-overlay"),T=Object(c["resolveComponent"])("paging-base");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",l,[Object(c["createElementVNode"])("div",o,[Object(c["createElementVNode"])("div",n,[Object(c["createElementVNode"])("div",s,[Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("div",d,[Object(c["createVNode"])(S,{show:C.loading,rounded:"sm"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",i,[Object(c["createElementVNode"])("table",b,[m,Object(c["createElementVNode"])("tbody",null,[C.data.length<=0&&!C.loading?(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",j,p)):Object(c["createCommentVNode"])("",!0),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(C.data,(t,a)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:a},[Object(c["createElementVNode"])("td",u,[Object(c["createVNode"])(D,{size:"sm",title:"cancel",variant:"danger",onClick:e=>w.cancel(t)},{default:Object(c["withCtx"])(()=>[V]),_:2},1032,["onClick"])]),Object(c["createElementVNode"])("td",null,[Object(c["createVNode"])(B,{status:t.status_label,label:t.status_label},null,8,["status","label"])]),Object(c["createElementVNode"])("td",h,[Object(c["createElementVNode"])("strong",null,Object(c["toDisplayString"])(t.mmid),1),Object(c["createElementVNode"])("div",N,Object(c["toDisplayString"])(t.trx_no),1)]),Object(c["createElementVNode"])("td",null,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$filters.dateTime(t.created_at))+" ",1),Object(c["createElementVNode"])("div",E,Object(c["toDisplayString"])(e.$filters.dateTime(t.expired_at)),1)]),Object(c["createElementVNode"])("td",g,Object(c["toDisplayString"])(t.pnr),1),Object(c["createElementVNode"])("td",y,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(t.details,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"d-flex mb-2 align-items-center justify-content-between",key:t},[Object(c["createElementVNode"])("div",x,Object(c["toDisplayString"])(e.trip),1),Object(c["createElementVNode"])("div",_,[Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(e.train_info?e.train_info.std:""),1),k,Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(e.train_info?e.train_info.sta:""),1)])]))),128))]),Object(c["createElementVNode"])("td",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(t.passengers,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"d-flex mb-2 align-items-center justify-content-start",key:t},[Object(c["createElementVNode"])("div",f,Object(c["toDisplayString"])(t+1)+". ",1),Object(c["createElementVNode"])("div",v,Object(c["toDisplayString"])(e.title)+" "+Object(c["toDisplayString"])(e.first_name)+" "+Object(c["toDisplayString"])(e.last_name)+" ("+Object(c["toDisplayString"])(e.passanger_type)+") ",1)]))),128))])]))),128))])])])]),_:1},8,["show"])])]),C.data.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])(T,{key:0,modelValue:C.options.current_page,"onUpdate:modelValue":t[0]||(t[0]=e=>C.options.current_page=e),options:C.options},null,8,["modelValue","options"])):Object(c["createCommentVNode"])("",!0)])])])])}var w=a("b166"),D={components:{},props:{typeProduct:{type:String,default:"pascabayar"}},data(){return{data:[],options:{current_page:1,total_row:0,per_page:200},search:{q:"",start_date:Object(w["a"])(new Date,"yyyy-MM-dd"),end_date:Object(w["a"])(new Date,"yyyy-MM-dd"),user_id:"",status:""},loading:!1}},mounted(){this.searchData()},computed:{moreParams(){return{page:this.options.current_page,per_page:this.options.per_page,status:1}}},watch:{"options.current_page":{handler:function(){this.loadData()}}},methods:{cancel(e){let t="Yes, Cancel";this.$swal.fire({width:350,title:"Yakin?",showCancelButton:!0,confirmButtonText:t}).then(t=>{if(t.isConfirmed){let t={cancel_type:1};this.$axios.post(`/kai/${e.id}/cancel`,t).then(e=>{this.$root.notif(e.message),this.loadData()}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{})}})},searchData(){this.options.current_page=1,this.loadData()},loadData(){this.loading=!0,this.$axios.get("/kai",{params:this.moreParams}).then(e=>{this.loading=!1,this.data=e.data.data,this.options.total_row=e.data.meta.total,this.options.per_page=e.data.meta.per_page}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})}}},B=a("d959"),S=a.n(B);const T=S()(D,[["render",C]]);t["a"]=T},5594:function(e,t,a){"use strict";var c=a("7a23");const l={class:"col-md-12 col-sm-12"},o={class:"x_panel"},n={class:"x_content"},s={class:"table-responsive",style:{"min-height":"75vh"}},r={class:"row"},d={class:"col-sm-12 col-md-4 col-lg-4"},i={class:"col-sm-12 col-md-2 col-lg-2"},b={class:"col-sm-12 col-md-3 col-lg-3"},m=Object(c["createElementVNode"])("option",{value:""},"Pilih Supplier",-1),j=["value"],O={class:"col-sm-12 col-md-2 col-lg-2"},p={class:"col-sm-12 col-md-1 col-lg-1"},u={class:"row"},V={class:"col-sm-12"},h={class:"table-responsive table-responsive-sticky"},N={class:"table table-striped jambo_table bulk_action table-bordered"},E=Object(c["createElementVNode"])("thead",{class:""},[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",{style:{"min-width":"150px"}},[Object(c["createTextVNode"])(" Tgl Transaksi "),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])(" Tgl Pembayaran ")]),Object(c["createElementVNode"])("th",null," ID Transaksi "),Object(c["createElementVNode"])("th",null,"Status"),Object(c["createElementVNode"])("th",null,"Mitra"),Object(c["createElementVNode"])("th",null," Hotel "),Object(c["createElementVNode"])("th",null," Kamar "),Object(c["createElementVNode"])("th",null,[Object(c["createTextVNode"])(" Checkin"),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])(" Checkout ")]),Object(c["createElementVNode"])("th",null," Tamu "),Object(c["createElementVNode"])("th",null," Room Night "),Object(c["createElementVNode"])("th",null," Voucher "),Object(c["createElementVNode"])("th",{class:"text-end"},"Paxpaid"),Object(c["createElementVNode"])("th",{class:"text-end"},"NTA"),Object(c["createElementVNode"])("th",{class:"text-end"},"NRA"),Object(c["createElementVNode"])("th",{class:"text-end"},"Pajak"),Object(c["createElementVNode"])("th",{class:"text-end"},"Pusat"),Object(c["createElementVNode"])("th",{class:"text-end"},"Mitra"),Object(c["createElementVNode"])("th",null," # ")])],-1),g={key:0},y=Object(c["createElementVNode"])("td",{colspan:"20",class:"text-center"}," Data tidak ditemukan ",-1),x=[y],_={scope:"row"},k={class:"text-black-50"},f={style:{"min-width":"200px"}},v={class:"text-success"},C={class:"text-warning"},w={key:0,class:"text-info"},D={key:1,class:"text-danger"},B={style:{"min-width":"100px"}},S={class:"",style:{"min-width":"200px"}},T={class:"",style:{"min-width":"200px"}},$={class:"text-center"},P=Object(c["createElementVNode"])("br",null,null,-1),M={class:"text-center",style:{"min-width":"100px"}},F={key:0},q={key:1},U={key:2},L={class:"text-end"},R={class:"text-end"},A={class:"text-end"},z={class:"text-end"},K={class:"text-end"},I={class:"text-end"};function H(e,t,a,y,H,W){const Y=Object(c["resolveComponent"])("input-date-picker-range-base"),J=Object(c["resolveComponent"])("select-mitra-base"),G=Object(c["resolveComponent"])("select-base"),Q=Object(c["resolveComponent"])("routerLink"),X=Object(c["resolveComponent"])("statusbadge-base"),Z=Object(c["resolveComponent"])("mitra-link-base"),ee=Object(c["resolveComponent"])("NoteTooltipBase"),te=Object(c["resolveComponent"])("b-button"),ae=Object(c["resolveComponent"])("b-overlay"),ce=Object(c["resolveComponent"])("paging-base"),le=Object(c["resolveComponent"])("ChangeStatus"),oe=Object(c["resolveComponent"])("modal-base");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",l,[Object(c["createElementVNode"])("div",o,[Object(c["createElementVNode"])("div",n,[Object(c["createElementVNode"])("div",s,[Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("div",d,[Object(c["createVNode"])(Y,{start_date:H.search.start_date,"onUpdate:start_date":t[0]||(t[0]=e=>H.search.start_date=e),end_date:H.search.end_date,"onUpdate:end_date":t[1]||(t[1]=e=>H.search.end_date=e),"max-date":new Date},null,8,["start_date","end_date","max-date"])]),Object(c["createElementVNode"])("div",i,[Object(c["createVNode"])(J,{onOnChange:W.setMitra},null,8,["onOnChange"])]),Object(c["createElementVNode"])("div",b,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>H.search.supplier_code_ext=e)},[m,(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(H.suppliers,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("option",{value:e,key:t},Object(c["toDisplayString"])(e),9,j))),128))],512),[[c["vModelSelect"],H.search.supplier_code_ext]])]),Object(c["createElementVNode"])("div",O,[Object(c["createVNode"])(G,{options:H.status,placeholder:"Pilih status",onOnChange:W.setStatus},null,8,["options","onOnChange"])]),Object(c["createElementVNode"])("div",p,[Object(c["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[3]||(t[3]=(...e)=>W.searchData&&W.searchData(...e))}," Cari ")])]),Object(c["createElementVNode"])("div",u,[Object(c["createElementVNode"])("div",V,[Object(c["createVNode"])(ae,{show:H.loading,rounded:"sm"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",h,[Object(c["createElementVNode"])("table",N,[E,Object(c["createElementVNode"])("tbody",null,[H.data.length<=0&&!H.loading?(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",g,x)):Object(c["createCommentVNode"])("",!0),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(H.data,(t,a)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:a},[Object(c["createElementVNode"])("td",_,[Object(c["createElementVNode"])("div",k,Object(c["toDisplayString"])(e.$filters.dateTime(t.created_at)),1),Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(e.$filters.dateTime(t.issued_at)),1)]),Object(c["createElementVNode"])("td",f,[Object(c["createElementVNode"])("div",v,[Object(c["createVNode"])(Q,{target:"_blank ",class:"text-decoration-underline text-success",to:{name:"app.hotel.transaction",params:{id:t.trx_no}}},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.trx_no),1)]),_:2},1032,["to"])]),Object(c["createElementVNode"])("div",C,Object(c["toDisplayString"])(t.trx_no_ext),1),t.trx_no_mitra?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",w,Object(c["toDisplayString"])(t.trx_no_mitra),1)):Object(c["createCommentVNode"])("",!0),["BOOKED"].indexOf(t.status_label)>-1?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",D,Object(c["toDisplayString"])(e.$filters.dateTime(t.expired_at)),1)):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("td",null,[Object(c["createVNode"])(X,{status:t.status_label,label:t.status_label},null,8,["status","label"])]),Object(c["createElementVNode"])("td",B,[Object(c["createVNode"])(Z,{mitra:t.mitra},null,8,["mitra"]),t.notes?(Object(c["openBlock"])(),Object(c["createBlock"])(ee,{key:0,notes:t.notes},null,8,["notes"])):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("td",S,Object(c["toDisplayString"])(t.hotel_info?t.hotel_info.h_name:"-"),1),Object(c["createElementVNode"])("td",T,Object(c["toDisplayString"])(t.room_info?t.room_info.room:"-"),1),Object(c["createElementVNode"])("td",$,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$filters.date(t.checkin_date)),1),P,Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(e.$filters.date(t.checkout_date)),1)]),Object(c["createElementVNode"])("td",M,[t.adult?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",F,Object(c["toDisplayString"])(t.adult)+" Dewasa ",1)):Object(c["createCommentVNode"])("",!0),t.child?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",q,Object(c["toDisplayString"])(t.child)+" Anak ",1)):Object(c["createCommentVNode"])("",!0),t.infant?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",U,Object(c["toDisplayString"])(t.infant)+" Bayi ",1)):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.night?t.night:"-"),1),Object(c["createElementVNode"])("td",null,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.voucher_no)+" ",1),Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(t.supplier_code_ext),1)]),Object(c["createElementVNode"])("td",L,Object(c["toDisplayString"])(e.$filters.currency(t.paxpaid)),1),Object(c["createElementVNode"])("td",R,Object(c["toDisplayString"])(e.$filters.currency(t.nta)),1),Object(c["createElementVNode"])("td",A,Object(c["toDisplayString"])(e.$filters.currency(t.nra)),1),Object(c["createElementVNode"])("td",z,Object(c["toDisplayString"])(e.$filters.currency(t.tax)),1),Object(c["createElementVNode"])("td",K,Object(c["toDisplayString"])(e.$filters.currency(t.commission_pusat)),1),Object(c["createElementVNode"])("td",I,Object(c["toDisplayString"])(e.$filters.currency(t.commission_client)),1),Object(c["createElementVNode"])("td",null,[1==t.status?(Object(c["openBlock"])(),Object(c["createBlock"])(te,{key:0,size:"sm",variant:"success",title:"Status",onClick:e=>W.changeStatus(t)},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Status ")]),_:2},1032,["onClick"])):Object(c["createCommentVNode"])("",!0),2==t.status?(Object(c["openBlock"])(),Object(c["createBlock"])(te,{key:1,size:"sm",variant:"danger",title:"Tiket",onClick:e=>W.downloadEticket(t)},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Download ")]),_:2},1032,["onClick"])):Object(c["createCommentVNode"])("",!0)])]))),128))])])])]),_:1},8,["show"])])]),H.data.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])(ce,{key:0,modelValue:H.options.current_page,"onUpdate:modelValue":t[4]||(t[4]=e=>H.options.current_page=e),options:H.options},null,8,["modelValue","options"])):Object(c["createCommentVNode"])("",!0)])])]),Object(c["createVNode"])(oe,{modelValue:H.modalStatus,"onUpdate:modelValue":t[7]||(t[7]=e=>H.modalStatus=e),size:"modal-lg"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(le,{data:H.modalData,onCancel:t[5]||(t[5]=()=>{H.modalStatus=!1}),onSave:t[6]||(t[6]=()=>{H.modalStatus=!1,this.searchData()})},null,8,["data"])]),_:1},8,["modelValue"])])}var W=a("b166");const Y={class:"item form-group"},J=Object(c["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(c["createTextVNode"])("No Trx "),Object(c["createElementVNode"])("span",{class:"required"},"*")],-1),G={class:"col-md-6 col-sm-6"},Q=["value"],X={class:"item form-group"},Z=Object(c["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(c["createTextVNode"])("Status Baru "),Object(c["createElementVNode"])("span",{class:"required"},"*")],-1),ee={class:"col-md-6 col-sm-6"},te=Object(c["createElementVNode"])("option",{value:""},"Pilih Status",-1),ae=["value"],ce={key:0,class:"p-error"},le={key:0,class:"item form-group"},oe=Object(c["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(c["createTextVNode"])(" Voucher No "),Object(c["createElementVNode"])("span",{class:"required"},"*")],-1),ne={class:"col-md-6 col-sm-6"},se={key:1,class:"item form-group"},re=Object(c["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(c["createTextVNode"])(" Res No "),Object(c["createElementVNode"])("span",{class:"required"},"*")],-1),de={class:"col-md-6 col-sm-6"},ie={key:2,class:"item form-group"},be=Object(c["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(c["createTextVNode"])(" OS Ref No "),Object(c["createElementVNode"])("span",{class:"required"},"*")],-1),me={class:"col-md-6 col-sm-6"},je={class:"item form-group"},Oe=Object(c["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},"Catatan ",-1),pe={class:"col-md-6 col-sm-6"},ue={class:"item form-group"},Ve=Object(c["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(c["createTextVNode"])("Capthca "),Object(c["createElementVNode"])("span",{class:"required"},"*")],-1),he={class:"col-md-6 col-sm-6"},Ne={class:"d-flex align-items-center border"},Ee={class:"w-75 text-center"},ge=["src"],ye={class:"w-25 text-center"},xe={key:0,class:"p-error"},_e=Object(c["createElementVNode"])("div",{class:"ln_solid"},null,-1),ke={class:"item form-group"},fe={class:"col-md-6 col-sm-6 offset-md-3"},ve=Object(c["createElementVNode"])("button",{type:"submit",class:"btn btn-primary"},"Submit",-1);function Ce(e,t,a,l,o,n){const s=Object(c["resolveComponent"])("Field"),r=Object(c["resolveComponent"])("Form"),d=Object(c["resolveComponent"])("b-overlay");return Object(c["openBlock"])(),Object(c["createBlock"])(d,{show:e.$store.state.loading,rounded:"sm"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(r,{onSubmit:n.onSubmit,"validation-schema":o.schema,class:"pt-5"},{default:Object(c["withCtx"])(({errors:l})=>[Object(c["createElementVNode"])("div",Y,[J,Object(c["createElementVNode"])("div",G,[Object(c["createElementVNode"])("input",{class:"form-control",type:"text",disabled:"disabled",value:a.data.trx_no},null,8,Q)])]),Object(c["createElementVNode"])("div",X,[Z,Object(c["createElementVNode"])("div",ee,[Object(c["createVNode"])(s,{name:"status",class:Object(c["normalizeClass"])(["form-control",[{"p-error":o.form.status}]]),modelValue:o.form.status,"onUpdate:modelValue":t[0]||(t[0]=e=>o.form.status=e),as:"select"},{default:Object(c["withCtx"])(()=>[te,(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(o.status,e=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("option",{value:e.id,key:e.id},Object(c["toDisplayString"])(e.name),9,ae))),128))]),_:1},8,["modelValue","class"]),l.status?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",ce," *"+Object(c["toDisplayString"])(l.status),1)):Object(c["createCommentVNode"])("",!0)])]),2==o.form.status?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",le,[oe,Object(c["createElementVNode"])("div",ne,[Object(c["createVNode"])(s,{name:"voucher_no",class:"form-control",modelValue:o.form.voucher_no,"onUpdate:modelValue":t[1]||(t[1]=e=>o.form.voucher_no=e)},null,8,["modelValue"])])])):Object(c["createCommentVNode"])("",!0),2==o.form.status?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",se,[re,Object(c["createElementVNode"])("div",de,[Object(c["createVNode"])(s,{name:"res_no",class:"form-control",modelValue:o.form.res_no,"onUpdate:modelValue":t[2]||(t[2]=e=>o.form.res_no=e)},null,8,["modelValue"])])])):Object(c["createCommentVNode"])("",!0),2==o.form.status?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",ie,[be,Object(c["createElementVNode"])("div",me,[Object(c["createVNode"])(s,{name:"os_ref_no",class:"form-control",modelValue:o.form.os_ref_no,"onUpdate:modelValue":t[3]||(t[3]=e=>o.form.os_ref_no=e)},null,8,["modelValue"])])])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",je,[Oe,Object(c["createElementVNode"])("div",pe,[Object(c["createVNode"])(s,{name:"notes",class:"form-control",modelValue:o.form.notes,"onUpdate:modelValue":t[4]||(t[4]=e=>o.form.notes=e)},null,8,["modelValue"])])]),Object(c["createElementVNode"])("div",ue,[Ve,Object(c["createElementVNode"])("div",he,[Object(c["createElementVNode"])("div",Ne,[Object(c["createElementVNode"])("div",Ee,[Object(c["createElementVNode"])("img",{src:o.captcha.img,class:"mx-auto"},null,8,ge)]),Object(c["createElementVNode"])("div",ye,[Object(c["createElementVNode"])("button",{class:"btn btn-info btn-block",type:"button",onClick:t[5]||(t[5]=(...e)=>n.getCaptcha&&n.getCaptcha(...e))}," Refresh ")])]),Object(c["createVNode"])(s,{name:"captcha",class:Object(c["normalizeClass"])(["form-control",[{"p-error":o.form.captcha}]]),placeholder:"Masukan kode di atas",modelValue:o.form.captcha,"onUpdate:modelValue":t[6]||(t[6]=e=>o.form.captcha=e)},null,8,["modelValue","class"]),l.captcha?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",xe," *"+Object(c["toDisplayString"])(l.captcha),1)):Object(c["createCommentVNode"])("",!0)])]),_e,Object(c["createElementVNode"])("div",ke,[Object(c["createElementVNode"])("div",fe,[Object(c["createElementVNode"])("button",{class:"btn btn-outline-primary me-2",type:"button",onClick:t[7]||(t[7]=t=>e.$emit("cancel"))}," Cancel "),ve])])]),_:1},8,["onSubmit","validation-schema"])]),_:1},8,["show"])}var we=a("7bb1"),De=a("506a"),Be={components:{Form:we["b"],Field:we["a"]},props:{data:Object},data(){const e=De["a"]({status:De["b"]().required(),captcha:De["b"]().required()});return{id:"",form:{status:"",trx_no:"",notes:"",voucher_no:"",os_ref_no:"",res_no:"",issued_date:Object(W["a"])(new Date,"yyyy-MM-dd"),issued_time:Object(W["a"])(new Date,"HH:mm")},captcha:{key:"",img:""},status:[{id:2,name:"issued"},{id:10,name:"failed"}],old:{},schema:e}},watch:{data:{deep:!0,handler:function(){this.getCaptcha()}}},methods:{onSubmit(e){let t=Object.assign({},e);t.captcha_key=this.captcha.key,2==t.status&&(t.issued_at=this.form.issued_date+" "+this.form.issued_time);let a=()=>this.$axios.post(`/hotel/${this.data.id}/status`,t);this.$store.dispatch("loading",!0),a().then(e=>{this.$root.notif(e.message),this.$emit("save"),this.form={}}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"}),this.getCaptcha()}).finally(()=>{this.$store.dispatch("loading",!1)})},getCaptcha(){this.$axios.get("/refresh-captcha").then(e=>{this.captcha.img=e.img,this.captcha.key=e.key})}},mounted(){}},Se=a("d959"),Te=a.n(Se);const $e=Te()(Be,[["render",Ce]]);var Pe=$e,Me={components:{ChangeStatus:Pe},props:{},data(){return{modalData:{},modalStatus:!1,suppliers:[],status:[{code:1,name:"Process Issued"},{code:2,name:"Issued"},{code:9,name:"Cancelled"},{code:10,name:"Failed"}],data:[],options:{current_page:1,total_row:0,per_page:1},search:{q:"",start_date:Object(W["a"])(new Date,"yyyy-MM-dd"),end_date:Object(W["a"])(new Date,"yyyy-MM-dd"),user_id:"",status:"",supplier_code_ext:""},loading:!1}},mounted(){this.search.type=this.typeProduct,this.searchData(),this.loadSuppliers()},computed:{moreParams(){return{page:this.options.current_page,q:this.search.q,start_date:this.search.start_date,end_date:this.search.end_date,user_id:this.search.user_id,type:this.search.type,status:this.search.status,supplier_code_ext:this.search.supplier_code_ext}}},watch:{"options.current_page":{handler:function(){this.loadData()}}},methods:{changeStatus(e){this.modalData=e,this.modalStatus=!0},downloadEticket(e){let t=`https://api.atacorp.id/V1/app/transactions/hotel/eticket/${e.trx_no}?token=${this.$store.getters["auth/accessToken"]}`;window.open(t,"_blank")},searchData(){this.options.current_page=1,this.loadData()},setMitra(e){this.search.user_id=e?e.id:""},setStatus(e){this.search.status=e?e.code:""},loadData(){this.loading=!0,this.$axios.get("/hotel",{params:this.moreParams}).then(e=>{this.loading=!1,this.data=e.data.data,this.options.total_row=e.data.meta.total,this.options.per_page=e.data.meta.per_page}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})},loadSuppliers(){this.loading=!0,this.$axios.get("/hotel/supliers",{params:this.moreParams}).then(e=>{this.loading=!1,this.suppliers=e.data.data}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})}}};const Fe=Te()(Me,[["render",H]]);t["a"]=Fe},"94d1":function(e,t,a){"use strict";var c=a("7a23");const l={class:"col-md-12 col-sm-12"},o={class:"x_panel"},n={class:"x_content"},s={class:"table-responsive",style:{"min-height":"75vh"}},r={class:"row"},d={class:"col-sm-12"},i={class:"table-responsive"},b={class:"table table-striped jambo_table bulk_action table-bordered"},m=Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",null,"Action"),Object(c["createElementVNode"])("th",null,"Status"),Object(c["createElementVNode"])("th",null,[Object(c["createTextVNode"])("Mitra ID"),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])("No Trx")]),Object(c["createElementVNode"])("th",null,[Object(c["createTextVNode"])("Waktu Booking"),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])("Timelimit")]),Object(c["createElementVNode"])("th",null,"PNR"),Object(c["createElementVNode"])("th",null,"Rute"),Object(c["createElementVNode"])("th",null,"Penumpang")])],-1),j={key:0},O=Object(c["createElementVNode"])("td",{colspan:"11",class:"text-center"}," Data tidak ditemukan ",-1),p=[O],u={class:"px-0 text-center"},V=Object(c["createElementVNode"])("i",{class:"fa fa-times"},null,-1),h={style:{"min-width":"100px"}},N={class:""},E={class:"text-danger"},g={style:{"min-width":"110px"}},y={class:"",style:{"min-width":"150px"}},x={class:""},_={class:"d-flex"},k=Object(c["createElementVNode"])("div",{class:"px-3"},"-",-1),f={class:"pe-2"},v={class:""};function C(e,t,a,O,C,w){const D=Object(c["resolveComponent"])("b-button"),B=Object(c["resolveComponent"])("statusbadge-base"),S=Object(c["resolveComponent"])("b-overlay"),T=Object(c["resolveComponent"])("paging-base");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",l,[Object(c["createElementVNode"])("div",o,[Object(c["createElementVNode"])("div",n,[Object(c["createElementVNode"])("div",s,[Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("div",d,[Object(c["createVNode"])(S,{show:C.loading,rounded:"sm"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",i,[Object(c["createElementVNode"])("table",b,[m,Object(c["createElementVNode"])("tbody",null,[C.data.length<=0&&!C.loading?(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",j,p)):Object(c["createCommentVNode"])("",!0),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(C.data,(t,a)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:a},[Object(c["createElementVNode"])("td",u,[Object(c["createVNode"])(D,{size:"sm",title:"cancel",variant:"danger",onClick:e=>w.cancel(t)},{default:Object(c["withCtx"])(()=>[V]),_:2},1032,["onClick"])]),Object(c["createElementVNode"])("td",null,[Object(c["createVNode"])(B,{status:t.status_label,label:t.status_label},null,8,["status","label"])]),Object(c["createElementVNode"])("td",h,[Object(c["createElementVNode"])("strong",null,Object(c["toDisplayString"])(t.mmid),1),Object(c["createElementVNode"])("div",N,Object(c["toDisplayString"])(t.trx_no),1)]),Object(c["createElementVNode"])("td",null,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$filters.dateTime(t.created_at))+" ",1),Object(c["createElementVNode"])("div",E,Object(c["toDisplayString"])(e.$filters.dateTime(t.expired_at)),1)]),Object(c["createElementVNode"])("td",g,Object(c["toDisplayString"])(t.pnr),1),Object(c["createElementVNode"])("td",y,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(t.details,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"d-flex mb-2 align-items-center justify-content-between",key:t},[Object(c["createElementVNode"])("div",x,Object(c["toDisplayString"])(e.trip),1),Object(c["createElementVNode"])("div",_,[Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(e.train_info?e.train_info.std:""),1),k,Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(e.train_info?e.train_info.sta:""),1)])]))),128))]),Object(c["createElementVNode"])("td",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(t.passengers,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"d-flex mb-2 align-items-center justify-content-start",key:t},[Object(c["createElementVNode"])("div",f,Object(c["toDisplayString"])(t+1)+". ",1),Object(c["createElementVNode"])("div",v,Object(c["toDisplayString"])(e.title)+" "+Object(c["toDisplayString"])(e.first_name)+" "+Object(c["toDisplayString"])(e.last_name)+" ("+Object(c["toDisplayString"])(e.passanger_type)+") ",1)]))),128))])]))),128))])])])]),_:1},8,["show"])])]),C.data.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])(T,{key:0,modelValue:C.options.current_page,"onUpdate:modelValue":t[0]||(t[0]=e=>C.options.current_page=e),options:C.options},null,8,["modelValue","options"])):Object(c["createCommentVNode"])("",!0)])])])])}var w=a("b166"),D={components:{},props:{typeProduct:{type:String,default:"pascabayar"}},data(){return{data:[],options:{current_page:1,total_row:0,per_page:200},search:{q:"",start_date:Object(w["a"])(new Date,"yyyy-MM-dd"),end_date:Object(w["a"])(new Date,"yyyy-MM-dd"),user_id:"",status:""},loading:!1}},mounted(){this.searchData()},computed:{moreParams(){return{page:this.options.current_page,per_page:this.options.per_page,status:1}}},watch:{"options.current_page":{handler:function(){this.loadData()}}},methods:{cancel(e){let t="Yes, Cancel";this.$swal.fire({width:350,title:"Yakin?",showCancelButton:!0,confirmButtonText:t}).then(t=>{if(t.isConfirmed){let t={cancel_type:2};this.$axios.post(`/kai/${e.id}/cancel`,t).then(e=>{this.$root.notif(e.message),this.loadData()}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{})}})},searchData(){this.options.current_page=1,this.loadData()},loadData(){this.loading=!0,this.$axios.get("/kai",{params:this.moreParams}).then(e=>{this.loading=!1,this.data=e.data.data,this.options.total_row=e.data.meta.total,this.options.per_page=e.data.meta.per_page}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})}}},B=a("d959"),S=a.n(B);const T=S()(D,[["render",C]]);t["a"]=T},aa95:function(e,t,a){"use strict";var c=a("7a23");const l={class:"pb-2"},o=Object(c["createElementVNode"])("h2",null,null,-1),n={class:"nav navbar-right panel_toolbox"},s=Object(c["createElementVNode"])("i",{class:"fa fa-arrow-left"},null,-1),r=Object(c["createElementVNode"])("span",{class:"text-lg text-blue text-capitalize"}," Hotel ",-1),d=Object(c["createElementVNode"])("br",null,null,-1),i={class:"text-order-number"},b=Object(c["createElementVNode"])("hr",null,null,-1),m={class:"text-center mb-3"},j={class:"text-start"},O={class:"text-green fw-bold"},p=Object(c["createElementVNode"])("div",null,"Voucher No",-1),u={class:"text-pnr"},V=Object(c["createElementVNode"])("div",null,"Checkin",-1),h={class:"text-pnr"},N=Object(c["createElementVNode"])("div",null,"Checkout",-1),E={class:"text-pnr"},g={class:"text-primary"},y={class:"text-danger"},x={class:"text-orange"},_=Object(c["createElementVNode"])("h4",null,"Data Pemesan",-1),k={class:"table"},f=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Nama",-1),v={class:"text-bold text-pnr"},C=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"No Hp",-1),w={class:"text-bold text-time-booking"},D=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Catatan Khusus",-1),B={class:"text-bold text-time-booking"},S=Object(c["createElementVNode"])("h4",null,"Detail Transaksi",-1),T={class:"table"},$=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Voucher No",-1),P={class:"text-bold text-pnr"},M=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Waktu Booking",-1),F={class:"text-bold text-time-booking"},q=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Booking By",-1),U={class:"text-bold"},L=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Waktu Issued",-1),R={class:"text-bold"},A={key:0,class:"text-time-issued"},z=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Issued By",-1),K={class:"text-bold"},I=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Tgl Cancel",-1),H={class:"text-bold"},W={key:0,class:"text-time-cancel px-0"},Y=Object(c["createElementVNode"])("template",null,[Object(c["createTextVNode"])(" - ")],-1),J=Object(c["createElementVNode"])("td",null,"Cancel By",-1),G={class:"text-bold"},Q=Object(c["createElementVNode"])("template",null,[Object(c["createTextVNode"])(" - ")],-1),X=Object(c["createElementVNode"])("td",null,"Catatan:",-1),Z={class:"text-bold"};function ee(e,t,a,ee,te,ae){const ce=Object(c["resolveComponent"])("b-skeleton"),le=Object(c["resolveComponent"])("b-card"),oe=Object(c["resolveComponent"])("b-col"),ne=Object(c["resolveComponent"])("b-row"),se=Object(c["resolveComponent"])("StatusbadgeBase"),re=Object(c["resolveComponent"])("b-card-header"),de=Object(c["resolveComponent"])("b-card-body");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",l,[te.loading?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createVNode"])(le,{class:"mb-2"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ce,{width:"85%"}),Object(c["createVNode"])(ce,{width:"55%"}),Object(c["createVNode"])(ce,{width:"70%"})]),_:1}),Object(c["createVNode"])(le,{class:"mb-2"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ce,{width:"85%"}),Object(c["createVNode"])(ce,{width:"55%"}),Object(c["createVNode"])(ce,{width:"70%"})]),_:1}),Object(c["createVNode"])(le,{class:"mb-2"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ce,{width:"85%"}),Object(c["createVNode"])(ce,{width:"55%"}),Object(c["createVNode"])(ce,{width:"70%"})]),_:1})],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createVNode"])(ne,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(oe,null,{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",null,[o,Object(c["createElementVNode"])("ul",n,[Object(c["createElementVNode"])("li",null,[Object(c["createElementVNode"])("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:t[0]||(t[0]=t=>e.$window.close())},[s,Object(c["createTextVNode"])(" Kembali ")])])])])]),_:1})]),_:1}),Object(c["createVNode"])(ne,{class:"mt-2"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(oe,null,{default:Object(c["withCtx"])(()=>[te.data&&te.data.trx_no?(Object(c["openBlock"])(),Object(c["createBlock"])(le,{key:0},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(re,{class:"py-2"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ne,{class:""},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(oe,{class:"fw-bold d-flex flex-column justify-center"},{default:Object(c["withCtx"])(()=>[r]),_:1}),Object(c["createVNode"])(oe,{class:"text-center"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Status:"),d,Object(c["createVNode"])(se,{label:te.data.status_label,class:"text-sm"},null,8,["label"])]),_:1}),Object(c["createVNode"])(oe,{class:"text-end d-flex flex-column justify-center"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" No Transaksi: "),Object(c["createElementVNode"])("strong",i,Object(c["toDisplayString"])(te.data.trx_no),1)]),_:1})]),_:1})]),_:1}),Object(c["createVNode"])(de,{class:"bg-gray py-2"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ne,{class:""},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(oe,{sm:"6",class:"fw-bold"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Supplier Code: "+Object(c["toDisplayString"])(te.data.supplier_code_ext)+"    ",1)]),_:1}),Object(c["createVNode"])(oe,{sm:"6",class:"text-end"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Dewasa: "+Object(c["toDisplayString"])(te.data.adult)+"    Anak: "+Object(c["toDisplayString"])(te.data.child),1)]),_:1})]),_:1})]),_:1}),b,Object(c["createVNode"])(de,null,{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",m,[Object(c["createVNode"])(ne,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(oe,{md:"3",class:"d-flex justify-between"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",j,[Object(c["createElementVNode"])("b",O,Object(c["toDisplayString"])(te.data.hotel_info.h_name),1),Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(te.data.hotel_info.h_id),1),Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(te.data.hotel_info.h_prov),1)])]),_:1}),Object(c["createVNode"])(oe,{md:"3"},{default:Object(c["withCtx"])(()=>[p,Object(c["createElementVNode"])("b",u,Object(c["toDisplayString"])(te.data.voucher_no?te.data.voucher_no:"-"),1)]),_:1}),Object(c["createVNode"])(oe,{md:"3"},{default:Object(c["withCtx"])(()=>[V,Object(c["createElementVNode"])("b",h,Object(c["toDisplayString"])(te.data.checkin_date?e.$filters.date(te.data.checkin_date):"-"),1)]),_:1}),Object(c["createVNode"])(oe,{md:"3"},{default:Object(c["withCtx"])(()=>[N,Object(c["createElementVNode"])("b",E,Object(c["toDisplayString"])(te.data.checkin_date?e.$filters.date(te.data.checkout_date):"-"),1)]),_:1})]),_:1})])]),_:1}),Object(c["createVNode"])(de,{class:"border-top"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ne,{class:"text-center"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(oe,{class:""},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Paxpaid: "),Object(c["createElementVNode"])("b",g,Object(c["toDisplayString"])(e.$filters.currency(te.data.paxpaid)),1),Object(c["createElementVNode"])("div",null,[Object(c["createTextVNode"])(" NTA: "),Object(c["createElementVNode"])("b",y,Object(c["toDisplayString"])(e.$filters.currency(te.data.nta)),1)])]),_:1}),Object(c["createVNode"])(oe,{class:""},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" NRA: "),Object(c["createElementVNode"])("b",null,Object(c["toDisplayString"])(e.$filters.currency(te.data.nra)),1)]),_:1}),Object(c["createVNode"])(oe,{class:""},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Pajak: "),Object(c["createElementVNode"])("b",x,Object(c["toDisplayString"])(e.$filters.currency(te.data.tax)),1),Object(c["createElementVNode"])("div",null,[Object(c["createTextVNode"])(" Komisi : "),Object(c["createElementVNode"])("b",null,Object(c["toDisplayString"])(e.$filters.currency(te.data.commission)),1)])]),_:1}),Object(c["createVNode"])(oe,{class:""},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Pusat: "),Object(c["createElementVNode"])("b",null,Object(c["toDisplayString"])(e.$filters.currency(te.data.commission_pusat)),1),Object(c["createElementVNode"])("div",null,[Object(c["createTextVNode"])(" Mitra : "),Object(c["createElementVNode"])("b",null,Object(c["toDisplayString"])(e.$filters.currency(te.data.commission_client)),1)])]),_:1})]),_:1})]),_:1})]),_:1})):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(le,{class:"mt-3"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(re,{class:""},{default:Object(c["withCtx"])(()=>[_]),_:1}),Object(c["createVNode"])(de,null,{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("table",k,[Object(c["createElementVNode"])("tr",null,[f,Object(c["createElementVNode"])("td",v,Object(c["toDisplayString"])(te.data.cp_info?te.data.cp_info.title:"")+": "+Object(c["toDisplayString"])(te.data.cp_info?te.data.cp_info.name:"-"),1)]),Object(c["createElementVNode"])("tr",null,[C,Object(c["createElementVNode"])("td",w," : "+Object(c["toDisplayString"])(te.data.cp_info?te.data.cp_info.hp:"-"),1)]),Object(c["createElementVNode"])("tr",null,[D,Object(c["createElementVNode"])("td",B," : "+Object(c["toDisplayString"])(te.data.guest_note?te.data.guest_note:"-"),1)])])]),_:1})]),_:1}),Object(c["createVNode"])(le,{class:"mt-3"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(re,{class:""},{default:Object(c["withCtx"])(()=>[S]),_:1}),Object(c["createVNode"])(de,null,{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("table",T,[Object(c["createElementVNode"])("tr",null,[$,Object(c["createElementVNode"])("td",P," : "+Object(c["toDisplayString"])(te.data.voucher_no),1)]),Object(c["createElementVNode"])("tr",null,[M,Object(c["createElementVNode"])("td",F," : "+Object(c["toDisplayString"])(e.$filters.dateTime(te.data.created_at)),1)]),Object(c["createElementVNode"])("tr",null,[q,Object(c["createElementVNode"])("td",U," : "+Object(c["toDisplayString"])(te.data.mmid),1)]),Object(c["createElementVNode"])("tr",null,[L,Object(c["createElementVNode"])("td",R,[Object(c["createTextVNode"])(" : "),te.data.issued_datetime?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",A,Object(c["toDisplayString"])(e.$filters.dateTime(te.data.issued_datetime)),1)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createTextVNode"])(" - ")],64))])]),Object(c["createElementVNode"])("tr",null,[z,Object(c["createElementVNode"])("td",K,[Object(c["createTextVNode"])(" : "),te.data.issued_datetime?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createTextVNode"])(Object(c["toDisplayString"])(te.data.issued_by?te.data.issued_by.name:te.data.mmid),1)],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createTextVNode"])(" - ")],64))])]),Object(c["createElementVNode"])("tr",null,[I,Object(c["createElementVNode"])("td",H,[Object(c["createTextVNode"])(" : "),te.data.cancel_datetime?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",W,Object(c["toDisplayString"])(e.$filters.dateTime(te.data.cancel_datetime)),1)):Object(c["createCommentVNode"])("",!0),Y])]),Object(c["createElementVNode"])("tr",null,[J,Object(c["createElementVNode"])("td",G,[Object(c["createTextVNode"])(" : "),te.data.cancel_datetime?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createTextVNode"])(Object(c["toDisplayString"])(te.data.cancel_by?te.data.cancel_by.name:te.data.mmid),1)],64)):Object(c["createCommentVNode"])("",!0),Q])]),Object(c["createElementVNode"])("tr",null,[X,Object(c["createElementVNode"])("td",Z," : "+Object(c["toDisplayString"])(te.data.notes||"-"),1)])])]),_:1})]),_:1})]),_:1})]),_:1})],64))])}var te=a("d0de"),ae={components:{StatusbadgeBase:te["default"]},data(){return{id:"",data:{},loading:!1,old:{}}},computed:{},methods:{reset(){},loadData(){this.loading=!0,this.$axios.get("/hotel/"+this.id).then(e=>{let t=Object.assign(e.data,{});this.old=t,this.data=t}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})}},mounted(){this.$route.params.id&&(this.id=this.$route.params.id,this.loadData())}},ce=a("d959"),le=a.n(ce);const oe=le()(ae,[["render",ee]]);t["a"]=oe},acd9:function(e,t,a){"use strict";var c=a("7a23");const l={class:"col-md-12 col-sm-12"},o={class:"x_panel"},n={class:"x_content"},s={class:"table-responsive",style:{"min-height":"75vh"}},r={class:"row"},d={class:"col-sm-12 col-md-6 col-lg-3"},i={class:"input-group"},b={key:0,class:"row"},m={class:"col-sm-12"},j={class:"table-responsive"},O={class:"table table-striped jambo_table bulk_action table-bordered"},p=Object(c["createElementVNode"])("thead",{class:""},[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",{style:{"min-width":"150px"}},[Object(c["createTextVNode"])(" Tgl Transaksi "),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])(" Tgl Pembayaran ")]),Object(c["createElementVNode"])("th",null," ID Transaksi "),Object(c["createElementVNode"])("th",null,"Status"),Object(c["createElementVNode"])("th",null,"Mitra"),Object(c["createElementVNode"])("th",null," Hotel "),Object(c["createElementVNode"])("th",null," Kamar "),Object(c["createElementVNode"])("th",null,[Object(c["createTextVNode"])(" Checkin"),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])(" Checkout ")]),Object(c["createElementVNode"])("th",null," Tamu "),Object(c["createElementVNode"])("th",null," Room Night "),Object(c["createElementVNode"])("th",null," Voucher "),Object(c["createElementVNode"])("th",{class:"text-end"},"Paxpaid"),Object(c["createElementVNode"])("th",{class:"text-end"},"NTA"),Object(c["createElementVNode"])("th",{class:"text-end"},"NRA"),Object(c["createElementVNode"])("th",{class:"text-end"},"Pajak"),Object(c["createElementVNode"])("th",{class:"text-end"},"Pusat"),Object(c["createElementVNode"])("th",{class:"text-end"},"Mitra"),Object(c["createElementVNode"])("th",null," # ")])],-1),u={key:0},V=Object(c["createElementVNode"])("td",{colspan:"20",class:"text-center"}," Data tidak ditemukan ",-1),h=[V],N={scope:"row"},E={class:"text-black-50"},g={style:{"min-width":"200px"}},y={class:"text-success"},x={class:"text-warning"},_={key:0,class:"text-info"},k={key:1,class:"text-danger"},f={style:{"min-width":"100px"}},v={class:"",style:{"min-width":"200px"}},C={class:"",style:{"min-width":"200px"}},w={class:"text-center"},D=Object(c["createElementVNode"])("br",null,null,-1),B={class:"text-center",style:{"min-width":"100px"}},S={key:0},T={key:1},$={key:2},P={class:"text-end"},M={class:"text-end"},F={class:"text-end"},q={class:"text-end"},U={class:"text-end"},L={class:"text-end"};function R(e,t,a,V,R,A){const z=Object(c["resolveComponent"])("routerLink"),K=Object(c["resolveComponent"])("statusbadge-base"),I=Object(c["resolveComponent"])("mitra-link-base"),H=Object(c["resolveComponent"])("NoteTooltipBase"),W=Object(c["resolveComponent"])("b-button"),Y=Object(c["resolveComponent"])("b-overlay"),J=Object(c["resolveComponent"])("paging-base");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",l,[Object(c["createElementVNode"])("div",o,[Object(c["createElementVNode"])("div",n,[Object(c["createElementVNode"])("div",s,[Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("div",d,[Object(c["createElementVNode"])("div",i,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"cari...","onUpdate:modelValue":t[0]||(t[0]=e=>R.search.q=e),onKeyup:t[1]||(t[1]=Object(c["withKeys"])((...e)=>A.searchData&&A.searchData(...e),["enter"]))},null,544),[[c["vModelText"],R.search.q]]),Object(c["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[2]||(t[2]=(...e)=>A.searchData&&A.searchData(...e))}," Cari ")])])]),R.isSubmit?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",b,[Object(c["createElementVNode"])("div",m,[Object(c["createVNode"])(Y,{show:R.loading,rounded:"sm"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",j,[Object(c["createElementVNode"])("table",O,[p,Object(c["createElementVNode"])("tbody",null,[R.data.length<=0&&!R.loading?(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",u,h)):Object(c["createCommentVNode"])("",!0),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(R.data,(t,a)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:a},[Object(c["createElementVNode"])("td",N,[Object(c["createElementVNode"])("div",E,Object(c["toDisplayString"])(e.$filters.dateTime(t.created_at)),1),Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(e.$filters.dateTime(t.issued_at)),1)]),Object(c["createElementVNode"])("td",g,[Object(c["createElementVNode"])("div",y,[Object(c["createVNode"])(z,{target:"_blank ",class:"text-decoration-underline text-success",to:{name:"app.hotel.transaction",params:{id:t.trx_no}}},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.trx_no),1)]),_:2},1032,["to"])]),Object(c["createElementVNode"])("div",x,Object(c["toDisplayString"])(t.trx_no_ext),1),t.trx_no_mitra?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",_,Object(c["toDisplayString"])(t.trx_no_mitra),1)):Object(c["createCommentVNode"])("",!0),["BOOKED"].indexOf(t.status_label)>-1?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",k,Object(c["toDisplayString"])(e.$filters.dateTime(t.expired_at)),1)):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("td",null,[Object(c["createVNode"])(K,{status:t.status_label,label:t.status_label},null,8,["status","label"])]),Object(c["createElementVNode"])("td",f,[Object(c["createVNode"])(I,{mitra:t.mitra},null,8,["mitra"]),t.notes?(Object(c["openBlock"])(),Object(c["createBlock"])(H,{key:0,notes:t.notes},null,8,["notes"])):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("td",v,Object(c["toDisplayString"])(t.hotel_info?t.hotel_info.h_name:"-"),1),Object(c["createElementVNode"])("td",C,Object(c["toDisplayString"])(t.room_info?t.room_info.room:"-"),1),Object(c["createElementVNode"])("td",w,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$filters.date(t.checkin_date)),1),D,Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(e.$filters.date(t.checkout_date)),1)]),Object(c["createElementVNode"])("td",B,[t.adult?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",S,Object(c["toDisplayString"])(t.adult)+" Dewasa ",1)):Object(c["createCommentVNode"])("",!0),t.child?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",T,Object(c["toDisplayString"])(t.child)+" Anak ",1)):Object(c["createCommentVNode"])("",!0),t.infant?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",$,Object(c["toDisplayString"])(t.infant)+" Bayi ",1)):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.night?t.night:"-"),1),Object(c["createElementVNode"])("td",null,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.voucher_no)+" ",1),Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(t.supplier_code_ext),1)]),Object(c["createElementVNode"])("td",P,Object(c["toDisplayString"])(e.$filters.currency(t.paxpaid)),1),Object(c["createElementVNode"])("td",M,Object(c["toDisplayString"])(e.$filters.currency(t.nta)),1),Object(c["createElementVNode"])("td",F,Object(c["toDisplayString"])(e.$filters.currency(t.nra)),1),Object(c["createElementVNode"])("td",q,Object(c["toDisplayString"])(e.$filters.currency(t.tax)),1),Object(c["createElementVNode"])("td",U,Object(c["toDisplayString"])(e.$filters.currency(t.commission_pusat)),1),Object(c["createElementVNode"])("td",L,Object(c["toDisplayString"])(e.$filters.currency(t.commission_client)),1),Object(c["createElementVNode"])("td",null,[2==t.status?(Object(c["openBlock"])(),Object(c["createBlock"])(W,{key:0,size:"sm",variant:"danger",title:"Tiket",onClick:e=>A.downloadEticket(t)},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Download ")]),_:2},1032,["onClick"])):Object(c["createCommentVNode"])("",!0)])]))),128))])])])]),_:1},8,["show"])])])):Object(c["createCommentVNode"])("",!0),R.data.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])(J,{key:1,modelValue:R.options.current_page,"onUpdate:modelValue":t[3]||(t[3]=e=>R.options.current_page=e),options:R.options},null,8,["modelValue","options"])):Object(c["createCommentVNode"])("",!0)])])])])}var A={props:{},data(){return{isSubmit:!1,data:[],options:{current_page:1,total_row:0,per_page:1},search:{q:""},loading:!1}},mounted(){},computed:{moreParams(){return{page:this.options.current_page,q:this.search.q}}},watch:{"options.current_page":{handler:function(){this.loadData()}}},methods:{downloadEticket(e){let t=`https://api.atacorp.id/V1/app/transactions/hotel/eticket/${e.trx_no}?token=${this.$store.getters["auth/accessToken"]}`;window.open(t,"_blank")},searchData(){this.search.q?(this.options.current_page=1,this.loadData()):this.$root.notif("kata pencarian tidak boleh kosong",{type:"error",position:"top"})},loadData(){this.loading=!0,this.$axios.get("/hotel",{params:this.moreParams}).then(e=>{this.loading=!1,this.data=e.data.data,this.options.total_row=e.data.meta.total,this.options.per_page=e.data.meta.per_page}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1,this.isSubmit=!0})}}},z=a("d959"),K=a.n(z);const I=K()(A,[["render",R]]);t["a"]=I}}]);