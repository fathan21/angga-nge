(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-form-bc3706f8"],{"1f95":function(e,t,o){"use strict";o.r(t);var l=o("7a23");const a={class:"col-md-12 col-sm-12"},c={class:"x_panel"},r={class:"x_title"},s={class:"nav navbar-right panel_toolbox"},n=Object(l["createElementVNode"])("i",{class:"fa fa-arrow-left"},null,-1),m=Object(l["createElementVNode"])("div",{class:"clearfix"},null,-1),i={class:"x_content"},d=Object(l["createElementVNode"])("br",null,null,-1),b={class:"item form-group"},p=Object(l["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(l["createTextVNode"])("Role "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),j={class:"col-md-6 col-sm-6"},O=Object(l["createElementVNode"])("option",{value:""},"Pilih Role",-1),u=["value"],V={key:0,class:"p-error"},f={class:"item form-group"},h=Object(l["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(l["createTextVNode"])("Nama "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),N={class:"col-md-6 col-sm-6"},E={key:0,class:"p-error"},g={class:"item form-group"},k=Object(l["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(l["createTextVNode"])("Email "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),v={class:"col-md-6 col-sm-6"},y={key:0,class:"p-error"},w={class:"item form-group"},x=Object(l["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(l["createTextVNode"])("Phone "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),q={class:"col-md-6 col-sm-6"},B={key:0,class:"p-error"},C={class:"item form-group"},$=Object(l["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(l["createTextVNode"])("Password "),Object(l["createElementVNode"])("span",{class:"required"},"*")],-1),_={class:"col-md-6 col-sm-6"},S={key:0,class:"p-error"},D={key:0,class:"item form-group"},T=Object(l["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},"Google2FA Qr ",-1),F=["innerHTML"],U=Object(l["createElementVNode"])("div",{class:"ln_solid"},null,-1),z={class:"item form-group"},R={class:"col-md-6 col-sm-6 offset-md-3"},L=Object(l["createElementVNode"])("button",{type:"submit",class:"btn btn-primary"},"Submit",-1);function P(e,t,o,P,H,J){const M=Object(l["resolveComponent"])("Field"),A=Object(l["resolveComponent"])("Form",!0);return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",a,[Object(l["createElementVNode"])("div",c,[Object(l["createElementVNode"])("div",r,[Object(l["createElementVNode"])("h2",null,Object(l["toDisplayString"])(J.title),1),Object(l["createElementVNode"])("ul",s,[Object(l["createElementVNode"])("li",null,[Object(l["createElementVNode"])("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:t[0]||(t[0]=t=>e.$router.back())},[n,Object(l["createTextVNode"])(" Kembali ")])])]),m]),Object(l["createElementVNode"])("div",i,[d,Object(l["createVNode"])(A,{onSubmit:J.onSubmit,"validation-schema":H.schema,class:"signin-form"},{default:Object(l["withCtx"])(({errors:o})=>[Object(l["createElementVNode"])("div",b,[p,Object(l["createElementVNode"])("div",j,[Object(l["createVNode"])(M,{name:"role",class:Object(l["normalizeClass"])(["form-control",[{"p-error":o.role}]]),modelValue:H.form.role,"onUpdate:modelValue":t[1]||(t[1]=e=>H.form.role=e),as:"select"},{default:Object(l["withCtx"])(()=>[O,(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(H.roles,e=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:e.id,value:e.name},Object(l["toDisplayString"])(e.name),9,u))),128))]),_:2},1032,["modelValue","class"]),o.role?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",V," *"+Object(l["toDisplayString"])(o.role),1)):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",f,[h,Object(l["createElementVNode"])("div",N,[Object(l["createVNode"])(M,{name:"name",class:Object(l["normalizeClass"])(["form-control",[{"p-error":o.name}]]),modelValue:H.form.name,"onUpdate:modelValue":t[2]||(t[2]=e=>H.form.name=e),type:"text"},null,8,["modelValue","class"]),o.name?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",E," *"+Object(l["toDisplayString"])(o.name),1)):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",g,[k,Object(l["createElementVNode"])("div",v,[Object(l["createVNode"])(M,{name:"email",class:Object(l["normalizeClass"])(["form-control",[{"p-error":o.email}]]),modelValue:H.form.email,"onUpdate:modelValue":t[3]||(t[3]=e=>H.form.email=e),type:"text"},null,8,["modelValue","class"]),o.email?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",y," *"+Object(l["toDisplayString"])(o.email),1)):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",w,[x,Object(l["createElementVNode"])("div",q,[Object(l["createVNode"])(M,{name:"phone",class:Object(l["normalizeClass"])(["form-control",[{"p-error":o.phone}]]),modelValue:H.form.phone,"onUpdate:modelValue":t[4]||(t[4]=e=>H.form.phone=e),type:"text"},null,8,["modelValue","class"]),o.phone?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",B," *"+Object(l["toDisplayString"])(o.phone),1)):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("div",C,[$,Object(l["createElementVNode"])("div",_,[Object(l["createVNode"])(M,{name:"password",class:Object(l["normalizeClass"])(["form-control",[{"p-error":o.password}]]),modelValue:H.form.password,"onUpdate:modelValue":t[5]||(t[5]=e=>H.form.password=e),type:"password"},null,8,["modelValue","class"]),o.password?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",S," *"+Object(l["toDisplayString"])(o.password),1)):Object(l["createCommentVNode"])("",!0)])]),H.g_qr?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",D,[T,Object(l["createElementVNode"])("div",{class:"col-md-6 col-sm-6",innerHTML:H.g_qr},null,8,F)])):Object(l["createCommentVNode"])("",!0),U,Object(l["createElementVNode"])("div",z,[Object(l["createElementVNode"])("div",R,[Object(l["createElementVNode"])("button",{class:"btn btn-outline-primary me-2",type:"button",onClick:t[6]||(t[6]=t=>e.$router.back())}," Cancel "),L])])]),_:1},8,["onSubmit","validation-schema"])])])])}o("14d9");var H=o("7bb1"),J=o("506a"),M={components:{Form:H["b"],Field:H["a"]},data(){const e=J["a"]({name:J["b"]().required(),email:J["b"]().required().email(),phone:J["b"]().required(),role:J["b"]().required(),password:this.$route.params.id?J["b"]():J["b"]().required().min(6)});return{id:"",g_qr:"",form:{name:"",email:"",phone:"",password:"",role:""},old:{},schema:e,roles:[]}},computed:{title(){return this.id?"Ubah":"Tambah"}},methods:{reset(){this.form={name:"",email:"",phone:"",password:"",role:""}},loadRoles(){this.$axios.get("/acl").then(e=>{this.roles=Object.assign([],e.data.data).filter(e=>"mitra"!=e.name)}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{})},loadData(){this.$axios.get(`/users/${this.id}?with_q_qr=1`).then(e=>{let t=Object.assign({},e.data);this.old=t,this.form.name=t.name,this.form.email=t.email,this.form.phone=t.phone,this.form.role=t.role,t.g_qr&&(this.g_qr=t.g_qr)}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{})},onSubmit(e){this.$store.dispatch("loading",!0);let t=()=>this.$axios.post("/users",e);this.id&&(t=()=>this.$axios.put("/users/"+this.id,e)),t().then(e=>{this.$router.push({name:"app.users.list"}),this.$root.notif(e.message)}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.$store.dispatch("loading",!1)})}},mounted(){this.loadRoles(),this.$route.params.id&&(this.id=this.$route.params.id,this.loadData())}},A=o("d959"),G=o.n(A);const K=G()(M,[["render",P]]);t["default"]=K}}]);