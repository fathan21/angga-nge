(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ppob-product-parse-47f71844"],{"3f0f":function(e,t,o){"use strict";o.r(t);var a=o("7a23");const l={class:"col-md-12 col-sm-12"},c={class:"x_panel"},r={class:"x_title"},s={class:"nav navbar-right panel_toolbox"},n=Object(a["createElementVNode"])("i",{class:"fa fa-arrow-left"},null,-1),i=Object(a["createElementVNode"])("div",{class:"clearfix"},null,-1),d={class:"x_content"},b=Object(a["createElementVNode"])("br",null,null,-1),p={class:"item form-group"},m=Object(a["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(a["createTextVNode"])("Kode "),Object(a["createElementVNode"])("span",{class:"required"},"*")],-1),u={class:"col-md-6 col-sm-6"},O={key:0,class:"p-error"},j={class:"item form-group"},h=Object(a["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(a["createTextVNode"])("Prioritas "),Object(a["createElementVNode"])("span",{class:"required"},"*")],-1),V={class:"col-md-6 col-sm-6"},g={key:0,class:"p-error"},N={class:"item form-group"},f=Object(a["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(a["createTextVNode"])("Product Ppob "),Object(a["createElementVNode"])("span",{class:"required"},"*")],-1),y={class:"col-md-6 col-sm-6"},E={class:"input-group"},k=["value"],_={key:0,class:"p-error"},v={class:"item form-group"},C=Object(a["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(a["createTextVNode"])("Supplier "),Object(a["createElementVNode"])("span",{class:"required"},"*")],-1),B={class:"col-md-6 col-sm-6"},S=["value"],D={class:"item form-group"},x=Object(a["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(a["createTextVNode"])("Status "),Object(a["createElementVNode"])("span",{class:"required"},"*")],-1),P={class:"col-md-6 col-sm-6"},$=Object(a["createElementVNode"])("option",{value:"1"},"Aktif",-1),w=Object(a["createElementVNode"])("option",{value:"1"},"Tidak Aktif",-1),A={key:0,class:"p-error"},T=Object(a["createElementVNode"])("div",{class:"ln_solid"},null,-1),q={class:"item form-group"},K={class:"col-md-6 col-sm-6 offset-md-3"},U=Object(a["createElementVNode"])("button",{type:"submit",class:"btn btn-primary"},"Submit",-1);function z(e,t,o,z,F,R){const M=Object(a["resolveComponent"])("Field"),Y=Object(a["resolveComponent"])("Form",!0),H=Object(a["resolveComponent"])("Selector"),I=Object(a["resolveComponent"])("modal-base");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l,[Object(a["createElementVNode"])("div",c,[Object(a["createElementVNode"])("div",r,[Object(a["createElementVNode"])("h2",null,Object(a["toDisplayString"])(R.title),1),Object(a["createElementVNode"])("ul",s,[Object(a["createElementVNode"])("li",null,[Object(a["createElementVNode"])("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:t[0]||(t[0]=t=>e.$router.back())},[n,Object(a["createTextVNode"])(" Kembali ")])])]),i]),Object(a["createElementVNode"])("div",d,[b,Object(a["createVNode"])(Y,{onSubmit:R.onSubmit,"validation-schema":F.schema,class:"signin-form"},{default:Object(a["withCtx"])(({errors:o})=>[Object(a["createElementVNode"])("div",p,[m,Object(a["createElementVNode"])("div",u,[Object(a["createVNode"])(M,{name:"code",class:Object(a["normalizeClass"])(["form-control",[{"p-error":o.name}]]),modelValue:F.form.code,"onUpdate:modelValue":t[1]||(t[1]=e=>F.form.code=e),type:"text"},null,8,["modelValue","class"]),o.code?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",O," *"+Object(a["toDisplayString"])(o.code),1)):Object(a["createCommentVNode"])("",!0)])]),Object(a["createElementVNode"])("div",j,[h,Object(a["createElementVNode"])("div",V,[Object(a["createVNode"])(M,{name:"priority",type:"number",class:Object(a["normalizeClass"])(["form-control",[{"p-error":o.priority}]]),modelValue:F.form.priority,"onUpdate:modelValue":t[2]||(t[2]=e=>F.form.priority=e)},null,8,["modelValue","class"]),o.priority?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",g," *"+Object(a["toDisplayString"])(o.priority),1)):Object(a["createCommentVNode"])("",!0)])]),Object(a["createElementVNode"])("div",N,[f,Object(a["createElementVNode"])("div",y,[Object(a["createElementVNode"])("div",E,[Object(a["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"cari...",disabled:"",value:R.productNameSeleceted},null,8,k),Object(a["createElementVNode"])("button",{class:"btn btn-primary",type:"button",onClick:t[3]||(t[3]=(...e)=>R.searchData&&R.searchData(...e))}," Cari ")]),Object(a["createVNode"])(M,{name:"product_ppob_id",class:Object(a["normalizeClass"])(["form-control",[{"p-error":o.product_ppob_id}]]),modelValue:F.form.product_ppob_id,"onUpdate:modelValue":t[4]||(t[4]=e=>F.form.product_ppob_id=e),type:"hidden"},null,8,["modelValue","class"]),o.product_ppob_id?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",_," *"+Object(a["toDisplayString"])(o.product_ppob_id),1)):Object(a["createCommentVNode"])("",!0)])]),Object(a["createElementVNode"])("div",v,[C,Object(a["createElementVNode"])("div",B,[Object(a["createElementVNode"])("input",{disabled:"",class:"form-control",value:R.supplierSelected,type:"text"},null,8,S)])]),Object(a["createElementVNode"])("div",D,[x,Object(a["createElementVNode"])("div",P,[Object(a["createVNode"])(M,{name:"status",class:Object(a["normalizeClass"])(["form-control",[{"p-error":o.status}]]),modelValue:F.form.status,"onUpdate:modelValue":t[5]||(t[5]=e=>F.form.status=e),as:"select"},{default:Object(a["withCtx"])(()=>[$,w]),_:2},1032,["modelValue","class"]),o.status?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",A," *"+Object(a["toDisplayString"])(o.status),1)):Object(a["createCommentVNode"])("",!0)])]),T,Object(a["createElementVNode"])("div",q,[Object(a["createElementVNode"])("div",K,[Object(a["createElementVNode"])("button",{class:"btn btn-outline-primary me-2",type:"button",onClick:t[6]||(t[6]=t=>e.$router.back())}," Cancel "),U])])]),_:1},8,["onSubmit","validation-schema"])])]),Object(a["createVNode"])(I,{modelValue:F.modalSelector,"onUpdate:modelValue":t[8]||(t[8]=e=>F.modalSelector=e),size:"modal-xl"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(H,{onCancel:t[7]||(t[7]=()=>{F.modalSelector=!1}),onSelectProduct:R.onSelectProduct},null,8,["onSelectProduct"])]),_:1},8,["modelValue"])])}var F=o("7bb1"),R=o("506a");const M={class:"x_panel mb-0"},Y={class:"x_header"},H={class:"x_title"},I=Object(a["createElementVNode"])("h2",null,Object(a["toDisplayString"])("Pilih Product"),-1),L={class:"nav navbar-right panel_toolbox"},J=Object(a["createElementVNode"])("i",{class:"fa fa-clsoe"},null,-1),G=Object(a["createElementVNode"])("div",{class:"clearfix"},null,-1),Q={key:0,class:"x_content"},W={class:"table-responsive",style:{"min-height":"75vh"}},X={class:"row"},Z={class:"col-sm-12 col-md-3 col-lg-3 mb-3"},ee=Object(a["createElementVNode"])("option",{value:""},"Pilih Tipe",-1),te=Object(a["createElementVNode"])("option",{value:"prabayar"},"Prabayar",-1),oe=Object(a["createElementVNode"])("option",{value:"pascabayar"},"Pascabayar",-1),ae=[ee,te,oe],le={key:0,class:"col-sm-12 col-md-3 col-lg-3"},ce={key:1,class:"col-sm-12 col-md-3 col-lg-3"},re={class:"col-sm-12 col-md-4 col-lg-3"},se={class:"col-sm-12 col-md-3 col-lg-3"},ne={class:"input-group"},ie={class:"row"},de={class:"col-sm-12"},be={class:"table-responsive"},pe={class:"table table-striped jambo_table bulk_action table-bordered"},me=["onClick"],ue={key:0},Oe=Object(a["createElementVNode"])("td",{colspan:"11",class:"text-center"}," Data tidak ditemukan ",-1),je=[Oe],he={scope:"row"},Ve=["onClick"],ge={key:0},Ne={key:1},fe={key:2},ye={key:3},Ee={key:4},ke=Object(a["createElementVNode"])("br",null,null,-1),_e=Object(a["createElementVNode"])("br",null,null,-1),ve=Object(a["createElementVNode"])("br",null,null,-1),Ce={key:5};function Be(e,t,o,l,c,r){const s=Object(a["resolveComponent"])("select-supplier-mitra-base"),n=Object(a["resolveComponent"])("select-supplier-base"),i=Object(a["resolveComponent"])("select-base"),d=Object(a["resolveComponent"])("b-button"),b=Object(a["resolveComponent"])("b-popover"),p=Object(a["resolveComponent"])("statusbadge-base"),m=Object(a["resolveComponent"])("b-overlay"),u=Object(a["resolveComponent"])("paging-base");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",M,[Object(a["createElementVNode"])("div",Y,[Object(a["createElementVNode"])("div",H,[I,Object(a["createElementVNode"])("ul",L,[Object(a["createElementVNode"])("li",null,[Object(a["createElementVNode"])("button",{class:"btn btn-sm btn-outline-secondary ma-0",type:"button",onClick:t[0]||(t[0]=t=>e.$emit("cancel"))},[J,Object(a["createTextVNode"])(" Batal ")])])]),G])]),e.user&&e.user.email?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Q,[Object(a["createElementVNode"])("div",W,[Object(a["createElementVNode"])("div",X,[Object(a["createElementVNode"])("div",Z,[Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>c.search.type=e),onChange:t[2]||(t[2]=(...e)=>r.searchData&&r.searchData(...e))},ae,544),[[a["vModelSelect"],c.search.type]])]),r.isAdmin?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ce,[Object(a["createVNode"])(n,{product_code:"PPOB",onOnChange:r.setSupplier},null,8,["onOnChange"])])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",le,[Object(a["createVNode"])(s,{product_code:"PPOB",onOnChange:r.setSupplier},null,8,["onOnChange"])])),Object(a["createElementVNode"])("div",re,[Object(a["createVNode"])(i,{options:c.categories,placeholder:"Pilih kategori",onOnChange:r.setCategory},null,8,["options","onOnChange"])]),Object(a["createElementVNode"])("div",se,[Object(a["createElementVNode"])("div",ne,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"cari...","onUpdate:modelValue":t[3]||(t[3]=e=>c.search.q=e),onKeyup:t[4]||(t[4]=Object(a["withKeys"])((...e)=>r.searchData&&r.searchData(...e),["enter"]))},null,544),[[a["vModelText"],c.search.q]]),Object(a["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[5]||(t[5]=(...e)=>r.searchData&&r.searchData(...e))}," Cari ")])])]),Object(a["createElementVNode"])("div",ie,[Object(a["createElementVNode"])("div",de,[Object(a["createVNode"])(m,{show:c.loading,rounded:"sm"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",be,[Object(a["createElementVNode"])("table",pe,[Object(a["createElementVNode"])("thead",null,[Object(a["createElementVNode"])("tr",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(r.headers,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("th",{key:t,class:Object(a["normalizeClass"])([e.sortable?" sortable ":"",e.field==c.options.sort&&"asc"==c.options.order?" asc ":e.field==c.options.sort&&"desc"==c.options.order?" desc ":"both"]),onClick:t=>e.sortable?r.sorter(e.field):null},Object(a["toDisplayString"])(e.label),11,me))),128))])]),Object(a["createElementVNode"])("tbody",null,[c.data.length<=0&&!c.loading?(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",ue,je)):Object(a["createCommentVNode"])("",!0),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(c.data,(t,o)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{key:o},[Object(a["createElementVNode"])("td",he,[Object(a["createElementVNode"])("button",{type:"button",onClick:o=>e.$emit("selectProduct",t),class:"bnt btn-sm btn-success"}," Pilih ",8,Ve)]),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.product_code),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.product_name),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.operator),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.category),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.supplier_code),1),"prabayar"==r.typeProduct?(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",ge,Object(a["toDisplayString"])(t.nominal?e.$filters.currency(t.nominal,0):"-"),1)):Object(a["createCommentVNode"])("",!0),"prabayar"==r.typeProduct?(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",Ne,Object(a["toDisplayString"])(t.price?e.$filters.currency(t.price):"-"),1)):Object(a["createCommentVNode"])("",!0),"prabayar"==r.typeProduct&&r.isAdmin?(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",fe,Object(a["toDisplayString"])(t.harga_modal?e.$filters.currency(t.harga_modal):"-"),1)):Object(a["createCommentVNode"])("",!0),"pascabayar"==r.typeProduct?(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",ye,Object(a["toDisplayString"])(t.admin?e.$filters.currency(t.admin):"-"),1)):Object(a["createCommentVNode"])("",!0),r.isAdmin?(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",Ee,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.komisi_full?e.$filters.currency(t.komisi_full):0)+" ",1),Object(a["createVNode"])(d,{id:"pop"+o,class:"badge"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("detail")]),_:2},1032,["id"]),Object(a["createVNode"])(b,{target:"pop"+o,triggers:"focus"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" full : "+Object(a["toDisplayString"])(t.komisi_full?e.$filters.currency(t.komisi_full):0)+" ",1),ke,Object(a["createTextVNode"])(" core : "+Object(a["toDisplayString"])(t.komisi_core?e.$filters.currency(t.komisi_core):0)+" ",1),_e,Object(a["createTextVNode"])(" broker : "+Object(a["toDisplayString"])(t.komisi_broker?e.$filters.currency(t.komisi_broker):0)+" ",1),ve,Object(a["createTextVNode"])(" mitra : "+Object(a["toDisplayString"])(t.komisi_mitra?e.$filters.currency(t.komisi_mitra):0),1)]),_:2},1032,["target"])])):Object(a["createCommentVNode"])("",!0),"pascabayar"!=r.typeProduct||r.isAdmin?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",Ce,Object(a["toDisplayString"])(t.komisi_mitra?e.$filters.currency(t.komisi_mitra):0),1)),Object(a["createElementVNode"])("td",null,[Object(a["createVNode"])(p,{status:t.status,label:t.status_label},null,8,["status","label"])])]))),128))])])])]),_:1},8,["show"])])]),c.data.length>0?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,modelValue:c.options.current_page,"onUpdate:modelValue":t[6]||(t[6]=e=>c.options.current_page=e),options:c.options},null,8,["modelValue","options"])):Object(a["createCommentVNode"])("",!0)])])):Object(a["createCommentVNode"])("",!0)])}var Se=o("5502"),De={props:{},data(){return{categories:[],types:[{code:"PASCABAYAR",name:"PASCABAYAR"},{code:"PRABAYAR",name:"PRABAYAR"}],loadingCategories:!1,data:[],options:{current_page:1,total_row:0,per_page:50,sort:"code",order:"asc"},search:{q:"",category:"",is_open:"",supplier_code:"",type:"prabayar"},loading:!1}},mounted(){this.loadCategories(),this.loadData()},computed:{...Object(Se["b"])({user:"auth/user"}),typeProduct(){return this.search.type},headers(){return"prabayar"==this.typeProduct?this.isAdmin?[{label:"#",sortable:!1},{label:"Kode",field:"code",sortable:!0},{label:"Nama",field:"name",sortable:!0},{label:"Operator",field:"operator",sortable:!0},{label:"Kategori",field:"product_code",sortable:!0},{label:"Supplier",field:"supplier_code",sortable:!0},{label:"Nominal",field:"nominal",sortable:!0},{label:"Harga",field:"price",sortable:!0},{label:"Harga Modal",field:"harga_modal",sortable:!0},{label:"Markup",field:"komisi_full",sortable:!0},{label:"Action",sortable:!1}]:[{label:"#",sortable:!1},{label:"Kode",field:"code",sortable:!0},{label:"Nama",field:"name",sortable:!0},{label:"Operator",field:"operator",sortable:!0},{label:"Kategori",field:"product_code",sortable:!0},{label:"Supplier",field:"supplier_code",sortable:!0},{label:"Nominal",field:"nominal",sortable:!0},{label:"Harga",field:"price",sortable:!0},{label:"Action",sortable:!1}]:[{label:"#",sortable:!1},{label:"Kode",field:"code",sortable:!0},{label:"Nama",field:"name",sortable:!0},{label:"Operator",field:"operator",sortable:!0},{label:"Kategori",field:"product_code",sortable:!0},{label:"Supplier",field:"supplier_code",sortable:!0},{label:"Admin",field:"admin",sortable:!0},{label:"Komisi",field:"komisi_full",sortable:!0},{label:"Action",sortable:!1}]},moreParams(){return{page:this.options.current_page,per_page:this.options.per_page,q:this.search.q,is_open:this.search.is_open,start_date:this.search.start_date,end_date:this.search.end_date,type:this.search.type,category:this.search.category,operator:this.search.operator,supplier_code:this.search.supplier_code,sort:this.options.sort+"|"+this.options.order,with_id:"id",with_supplier:"supplier"}},categoryOptions(){if(this.search.type){let e=this.categories.filter(e=>e.type==this.search.type);return e}return this.categories},isAdmin(){return!!(this.user&&this.user.role&&this.user.role.indexOf("admin")>-1)}},watch:{"options.current_page":{handler:function(){this.loadData()}}},methods:{sorter(e){this.options.sort==e?this.options.order="asc"==this.options.order?"desc":"asc":(this.options.sort=e,this.options.order="asc"),this.loadData()},searchData(){this.options.current_page=1,this.loadData()},loadCategories(){this.loadingCategories=!0,this.$axios.get("/ppob/product-categories",{params:this.moreParams}).then(e=>{this.categories=e.data}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loadingCategories=!1})},setType(e){this.search.type=e?e.code:""},setCategory(e){this.search.category=e?e.code:""},setSupplier(e){this.search.supplier_code=e?e.code:""},loadData(){this.loading=!0,this.$axios.get("/ppob/product-list",{params:this.moreParams}).then(e=>{this.loading=!1,this.data=e.data.data,this.options.total_row=e.data.meta.total,this.options.per_page=e.data.meta.per_page}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})}}},xe=o("d959"),Pe=o.n(xe);const $e=Pe()(De,[["render",Be]]);var we=$e,Ae={components:{Form:F["b"],Field:F["a"],Selector:we},data(){const e=R["a"]({code:R["b"]().required(),priority:R["b"]().required(),product_ppob_id:R["b"]().required(),status:R["b"]().required()});return{modalSelector:!1,id:"",form:{code:"",status:1,priority:1,product_ppob_id:""},old:{},schema:e,roles:[],selectedProductPpob:{supplier:{}}}},computed:{title(){return this.id?"Ubah":"Tambah"},supplierSelected(){return this.selectedProductPpob&&this.selectedProductPpob.supplier?this.selectedProductPpob.supplier.name:"-"},productNameSeleceted(){let e=this.selectedProductPpob;return e?`${e&&e.product_name?e.product_name:"-"} (${e&&e.product_name?e.product_code:"-"})`:""}},methods:{onSelectProduct(e){this.selectedProductPpob=e,this.form.product_ppob_id=e.id,this.modalSelector=!1},reset(){this.form={code:"",status:1,priority:1,product_ppob_id:""}},searchData(){this.modalSelector=!0},loadData(){this.$axios.get("/ppob/parse/"+this.id).then(e=>{let t=Object.assign({},e.data);this.old=t,this.form.code=t.code,this.form.status=t.status,this.form.priority=t.priority,this.form.product_ppob_id=t.product_ppob_id,this.selectedProductPpob=t.product_ppob}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{})},onSubmit(e){this.$store.dispatch("loading",!0);let t=()=>this.$axios.post("/ppob/parse",e);this.id&&(t=()=>this.$axios.put("/ppob/parse/"+this.id,e)),t().then(e=>{this.$router.back(),this.$root.notif(e.message)}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.$store.dispatch("loading",!1)})}},mounted(){this.$route.params.id&&(this.id=this.$route.params.id,this.loadData())}};const Te=Pe()(Ae,[["render",z]]);t["default"]=Te},b276:function(e,t,o){"use strict";o.r(t);o("14d9");var a=o("7a23");const l={class:"col-md-12 col-sm-12"},c={class:"x_panel"},r={class:"x_title"},s={class:"nav navbar-right panel_toolbox"},n=Object(a["createElementVNode"])("i",{class:"fa fa-plus"},null,-1),i=Object(a["createElementVNode"])("div",{class:"clearfix"},null,-1),d={class:"x_content"},b={class:"table-responsive"},p={class:"row"},m={class:"col-sm-6"},u={class:"item form-group"},O={class:"col-md-6 col-sm-6 ps-0"},j={class:"input-group"},h={class:"row"},V={class:"col-sm-12"},g={class:"table-responsive"},N={class:"table table-striped jambo_table bulk_action table-bordered"},f=["onClick"],y={scope:"row"},E=["onClick"],k=Object(a["createElementVNode"])("i",{class:"fa fa-pencil"},null,-1),_=[k],v=["onClick"],C=Object(a["createElementVNode"])("i",{class:"fa fa-trash"},null,-1),B=[C],S={key:0},D=Object(a["createElementVNode"])("td",{colspan:"8",class:"text-center"}," Data tidak ditemukan ",-1),x=[D];function P(e,t,o,k,C,D){const P=Object(a["resolveComponent"])("b-overlay"),$=Object(a["resolveComponent"])("paging-base");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l,[Object(a["createElementVNode"])("div",c,[Object(a["createElementVNode"])("div",r,[Object(a["createElementVNode"])("ul",s,[Object(a["createElementVNode"])("li",null,[Object(a["createElementVNode"])("button",{class:"btn btn-sm btn-primary",type:"button",onClick:t[0]||(t[0]=t=>e.$router.push({name:"app.ppob.products.parse.form"}))},[n,Object(a["createTextVNode"])(" Tambah ")])])]),i]),Object(a["createElementVNode"])("div",d,[Object(a["createElementVNode"])("div",b,[Object(a["createElementVNode"])("div",p,[Object(a["createElementVNode"])("div",m,[Object(a["createElementVNode"])("div",u,[Object(a["createElementVNode"])("div",O,[Object(a["createElementVNode"])("div",j,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"cari...","onUpdate:modelValue":t[1]||(t[1]=e=>C.search.q=e),onKeyup:t[2]||(t[2]=Object(a["withKeys"])((...e)=>D.searchData&&D.searchData(...e),["enter"]))},null,544),[[a["vModelText"],C.search.q]]),Object(a["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[3]||(t[3]=(...e)=>D.searchData&&D.searchData(...e))}," Cari ")])])])])]),Object(a["createElementVNode"])("div",h,[Object(a["createElementVNode"])("div",V,[Object(a["createVNode"])(P,{show:C.loading,rounded:"sm"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",g,[Object(a["createElementVNode"])("table",N,[Object(a["createElementVNode"])("thead",null,[Object(a["createElementVNode"])("tr",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(D.headers,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("th",{key:t,class:Object(a["normalizeClass"])([e.sortable?" sortable ":"",e.field==C.options.sort&&"asc"==C.options.order?" asc ":e.field==C.options.sort&&"desc"==C.options.order?" desc ":"both"]),onClick:t=>e.sortable?D.sorter(e.field):null},Object(a["toDisplayString"])(e.label),11,f))),128))])]),Object(a["createElementVNode"])("tbody",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(C.data,(t,o)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{key:o},[Object(a["createElementVNode"])("td",y,Object(a["toDisplayString"])((C.options.current_page-1)*C.options.per_page+o+1),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.code),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.product_ppob?t.product_ppob.product_name:"-"),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.product_ppob?t.product_ppob.supplier.name:"-"),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(e.$filters.dateTime(t.created_at)),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.priority),1),Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("span",{class:Object(a["normalizeClass"])(["badge",1==t.status?"bg-primary":"bg-danger"])},Object(a["toDisplayString"])(1==t.status?"Aktif":"Tidak Aktif"),3)]),Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("button",{class:"btn btn-sm btn-primary btn-action-list",type:"button","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Ubah",onClick:e=>D.editItem(t)},_,8,E),Object(a["createElementVNode"])("button",{class:"btn btn-sm btn-danger btn-action-list",type:"button","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"hapus",onClick:e=>D.removeItem(t)},B,8,v)])]))),128)),C.data.length<=0&&!C.loading?(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",S,x)):Object(a["createCommentVNode"])("",!0)])])])]),_:1},8,["show"])])]),C.data.length>0?(Object(a["openBlock"])(),Object(a["createBlock"])($,{key:0,modelValue:C.options.current_page,"onUpdate:modelValue":t[4]||(t[4]=e=>C.options.current_page=e),options:C.options},null,8,["modelValue","options"])):Object(a["createCommentVNode"])("",!0)])])])])}var $={data(){return{data:[],options:{current_page:1,total_row:1e4,per_page:1,sort:"code",order:"asc"},search:{q:""},loading:!1}},mounted(){this.searchData()},computed:{headers(){return[{label:"#",sortable:!1},{label:"Kode Produk Baru",field:"code",sortable:!0},{label:"Produk",field:"product",sortable:!1},{label:"Supplier",field:"supplier_id",sortable:!1},{label:"Created At",field:"created_at",sortable:!0},{label:"Prioritas",field:"priority",sortable:!0},{label:"Status",field:"status",sortable:!0},{label:"Action",sortable:!1}]},moreParams(){return{page:this.options.current_page,q:this.search.q,sort:this.options.sort+"|"+this.options.order}}},watch:{"options.current_page":{handler:function(){this.loadData()}}},methods:{sorter(e){this.options.sort==e?this.options.order="asc"==this.options.order?"desc":"asc":(this.options.sort=e,this.options.order="asc"),this.loadData()},searchData(){this.options.current_page=1,this.loadData()},loadData(){this.loading=!0,this.$axios.get("/ppob/parse",{params:this.moreParams}).then(e=>{this.loading=!1,this.data=e.data.data,this.options.total_row=e.data.meta.total,this.options.per_page=e.data.meta.per_page}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})},removeItem(e){let t="Hapus",o=1==e.status?0:1;this.$swal.fire({width:350,title:"Yakin?",showCancelButton:!0,confirmButtonText:t}).then(t=>{t.isConfirmed&&this._remove(e,o)})},_remove(e){this.$store.dispatch("loading",!0),this.$axios.delete("/ppob/parse/"+e.id).then(e=>{this.$root.notif(e.message),this.loadData()}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.$store.dispatch("loading",!1)})},editItem(e){this.$router.push({name:"app.ppob.products.parse.form",params:{id:e.id}})}}},w=o("d959"),A=o.n(w);const T=A()($,[["render",P]]);t["default"]=T}}]);