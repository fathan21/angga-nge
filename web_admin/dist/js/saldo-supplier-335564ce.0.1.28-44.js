(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["saldo-supplier-335564ce"],{ceb6:function(e,t,a){"use strict";a.r(t);var o=a("7a23");const c={class:"col-md-12 col-sm-12"},l={class:"x_panel"},n={class:"x_content"},r={class:"row"},s={class:"col-sm-12 col-md-6 col-lg-4"},i={class:"input-group"},d={class:"table-responsive",style:{"min-height":"75vh"}},p={class:"row"},b={class:"col-sm-12"},m={class:"table-responsive"},u={class:"table table-striped jambo_table bulk_action table-bordered"},h=Object(o["createElementVNode"])("thead",null,[Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("th",null,"#"),Object(o["createElementVNode"])("th",null,"Action"),Object(o["createElementVNode"])("th",null,"Produk"),Object(o["createElementVNode"])("th",null,"User"),Object(o["createElementVNode"])("th",{class:"text-end"},"Saldo"),Object(o["createElementVNode"])("th",null,"Cek Terakhir")])],-1),j={key:0},O=Object(o["createElementVNode"])("td",{colspan:"11",class:"text-center"}," Data tidak ditemukan ",-1),g=[O],V={scope:"row"},N={class:"px-0"},E={class:"text-end"};function y(e,t,a,O,y,k){const _=Object(o["resolveComponent"])("b-button"),v=Object(o["resolveComponent"])("b-overlay"),w=Object(o["resolveComponent"])("paging-base");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",c,[Object(o["createElementVNode"])("div",l,[Object(o["createElementVNode"])("div",n,[Object(o["createElementVNode"])("div",r,[Object(o["createElementVNode"])("div",s,[Object(o["createElementVNode"])("div",i,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"cari...","onUpdate:modelValue":t[0]||(t[0]=e=>y.search.q=e),onKeyup:t[1]||(t[1]=Object(o["withKeys"])((...e)=>k.searchData&&k.searchData(...e),["enter"]))},null,544),[[o["vModelText"],y.search.q]]),Object(o["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[2]||(t[2]=(...e)=>k.searchData&&k.searchData(...e))},"Cari")])])]),Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("div",p,[Object(o["createElementVNode"])("div",b,[Object(o["createVNode"])(v,{show:y.loading,rounded:"sm"},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",m,[Object(o["createElementVNode"])("table",u,[h,Object(o["createElementVNode"])("tbody",null,[y.data.length<=0&&!y.loading?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",j,g)):Object(o["createCommentVNode"])("",!0),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(y.data,(t,a)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{key:a},[Object(o["createElementVNode"])("td",V,Object(o["toDisplayString"])((y.options.current_page-1)*y.options.per_page+a+1),1),Object(o["createElementVNode"])("td",N,[Object(o["createTextVNode"])(" Â  "),Object(o["createVNode"])(_,{size:"sm",variant:"primary",onClick:e=>k.sync(t)},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(" Cek Saldo ")]),_:2},1032,["onClick"])]),Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(t.supplier&&t.supplier.product?t.supplier.product.product_name:"-")+" "+Object(o["toDisplayString"])(t.supplier&&t.supplier.product&&"PPOB"==t.supplier.product.product_name?t.supplier_code:""),1),Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(t?t.mmco:"-"),1),Object(o["createElementVNode"])("td",E,Object(o["toDisplayString"])(t?e.$filters.currency(t.balance_api):"-"),1),Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(t?e.$filters.dateTime(t.balance_api_updated):"-"),1)]))),128))])])])]),_:1},8,["show"])])]),y.data.length>0?(Object(o["openBlock"])(),Object(o["createBlock"])(w,{key:0,modelValue:y.options.current_page,"onUpdate:modelValue":t[3]||(t[3]=e=>y.options.current_page=e),options:y.options},null,8,["modelValue","options"])):Object(o["createCommentVNode"])("",!0)])])])])}var k={components:{},props:{},data(){return{data:[],users:[],options:{current_page:1,total_row:0,per_page:1},search:{q:""},loading:!1}},mounted(){this.search.type=this.typeProduct,this.searchData()},computed:{moreParams(){return{page:this.options.current_page,q:this.search.q}}},watch:{"options.current_page":{handler:function(){this.loadData()}}},methods:{searchData(){this.options.current_page=1,this.loadData()},sync(e){this.loading=!0,this.$axios.post("/suppliers/balance-api",{ids:[e.id]}).then(()=>{this.loading=!1,this.loadData()}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})},loadData(){this.loading=!0,this.$axios.get("/suppliers/balance-api",{params:this.moreParams}).then(e=>{this.loading=!1,this.data=e.data.data,this.options.total_row=e.data.meta.total,this.options.per_page=e.data.meta.per_page}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})}}},_=a("d959"),v=a.n(_);const w=v()(k,[["render",y]]);t["default"]=w}}]);