(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["statistics-kai-detail-c2bb9640"],{"76e1":function(e,t,a){"use strict";a.r(t);var c=a("7a23");const o={class:"col-md-12 col-sm-12"},n={class:"x_panel"},l={class:"x_content"},s={class:"row"},r={class:"col-sm-12 col-md-4 col-lg-4"},d={class:"col-sm-12 col-md-2 col-lg-2"},i={class:"input-group"},b={class:"table-responsive",style:{"min-height":"75vh"}},m={class:"row"},p={class:"col-sm-12"},j={class:"table-responsive"},O={class:"table table-striped jambo_table bulk_action table-bordered"},u=Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",null,"#"),Object(c["createElementVNode"])("th",null,"Mitra ID"),Object(c["createElementVNode"])("th",null,[Object(c["createTextVNode"])("No Trx"),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])("Waktu Booking")]),Object(c["createElementVNode"])("th",null,"PNR"),Object(c["createElementVNode"])("th",null,"Rute"),Object(c["createElementVNode"])("th",null,[Object(c["createTextVNode"])("Paxpaid"),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])("NTA")]),Object(c["createElementVNode"])("th",null,"NRA"),Object(c["createElementVNode"])("th",null,[Object(c["createTextVNode"])("Pusat"),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])("Mitra")]),Object(c["createElementVNode"])("th",null,"Status")])],-1),h={key:0},N=Object(c["createElementVNode"])("td",{colspan:"11",class:"text-center"}," Data tidak ditemukan ",-1),V=[N],E={scope:"row"},g={style:{"min-width":"100px"}},y={style:{"min-width":"250px"}},_={class:"text-black-50"},k={style:{"min-width":"110px"}},v={class:"",style:{"min-width":"150px"}},x={class:""},D={class:"d-flex"},f=Object(c["createElementVNode"])("div",{class:"px-3"},"-",-1),w={class:""},B=Object(c["createElementVNode"])("br",null,null,-1),S={class:""},T=Object(c["createElementVNode"])("br",null,null,-1);function $(e,t,a,N,$,C){const M=Object(c["resolveComponent"])("input-date-picker-range-base"),q=Object(c["resolveComponent"])("NoteTooltipBase"),P=Object(c["resolveComponent"])("statusbadge-base"),U=Object(c["resolveComponent"])("b-overlay"),F=Object(c["resolveComponent"])("paging-base");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",o,[Object(c["createElementVNode"])("div",n,[Object(c["createElementVNode"])("div",l,[Object(c["createElementVNode"])("div",s,[Object(c["createElementVNode"])("div",r,[Object(c["createVNode"])(M,{start_date:$.search.start_date,"onUpdate:start_date":t[0]||(t[0]=e=>$.search.start_date=e),end_date:$.search.end_date,"onUpdate:end_date":t[1]||(t[1]=e=>$.search.end_date=e)},null,8,["start_date","end_date"])]),Object(c["createElementVNode"])("div",d,[Object(c["createElementVNode"])("div",i,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"cari...","onUpdate:modelValue":t[2]||(t[2]=e=>$.search.q=e),onKeyup:t[3]||(t[3]=Object(c["withKeys"])((...e)=>C.searchData&&C.searchData(...e),["enter"]))},null,544),[[c["vModelText"],$.search.q]]),Object(c["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[4]||(t[4]=(...e)=>C.searchData&&C.searchData(...e))}," Cari ")])])]),Object(c["createElementVNode"])("div",b,[Object(c["createElementVNode"])("div",m,[Object(c["createElementVNode"])("div",p,[Object(c["createVNode"])(U,{show:$.loading,rounded:"sm"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",j,[Object(c["createElementVNode"])("table",O,[u,Object(c["createElementVNode"])("tbody",null,[$.data.length<=0&&!$.loading?(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",h,V)):Object(c["createCommentVNode"])("",!0),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])($.data,(t,a)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:a},[Object(c["createElementVNode"])("td",E,Object(c["toDisplayString"])(($.options.current_page-1)*$.options.per_page+a+1),1),Object(c["createElementVNode"])("td",g,[Object(c["createElementVNode"])("strong",null,Object(c["toDisplayString"])(t.mmid),1),t.notes?(Object(c["openBlock"])(),Object(c["createBlock"])(q,{key:0,notes:t.notes},null,8,["notes"])):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("td",y,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.trx_no?t.trx_no:"")+" ",1),Object(c["createElementVNode"])("div",_,Object(c["toDisplayString"])(e.$filters.dateTime(t.created_at)),1)]),Object(c["createElementVNode"])("td",k,Object(c["toDisplayString"])(t.pnr),1),Object(c["createElementVNode"])("td",v,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(t.details,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"d-flex mb-2 align-items-center justify-content-between",key:t},[Object(c["createElementVNode"])("div",x,Object(c["toDisplayString"])(e.trip),1),Object(c["createElementVNode"])("div",D,[Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(e.train_info?e.train_info.std:""),1),f,Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(e.train_info?e.train_info.sta:""),1)])]))),128))]),Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("span",w,Object(c["toDisplayString"])(e.$filters.currency(t.paxpaid)),1),B,Object(c["createElementVNode"])("span",S,Object(c["toDisplayString"])(e.$filters.currency(t.nta)),1)]),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.$filters.currency(t.nra)),1),Object(c["createElementVNode"])("td",null,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$filters.currency(t.commission_client))+" ",1),T,Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(e.$filters.currency(t.commission_pusat)),1)]),Object(c["createElementVNode"])("td",null,[Object(c["createVNode"])(P,{status:t.status_label,label:t.status_label},null,8,["status","label"])])]))),128))])])])]),_:1},8,["show"])])]),Object(c["createVNode"])(F,{options:$.options},null,8,["options"])])])])])}var C=a("b166"),M={components:{},props:{typeProduct:{type:String,default:"pascabayar"}},data(){return{modalOp:!1,modalData:{},categories:[],airlines:[],status:[{code:1,name:"Booking"},{code:2,name:"Issued"},{code:9,name:"Cancelled"},{code:10,name:"Failed"}],data:[],users:[],options:{current_page:1,total_row:0,per_page:1},search:{q:"",start_date:Object(C["a"])(new Date,"yyyy-MM-dd"),end_date:Object(C["a"])(new Date,"yyyy-MM-dd"),user_id:"",status:"",airline:""},loading:!1}},mounted(){this.search=this.$route.query,this.searchData()},computed:{moreParams(){return{page:this.options.current_page,q:this.search.q,start_date:this.search.start_date,end_date:this.search.end_date,user_id:this.search.user_id,type:this.search.type,status:this.search.status}}},watch:{"options.current_page":{handler:function(){this.loadData()}}},methods:{downloadEticket(e){let t=`https://api.atacorp.id/V1/app/transactions/kai/eticket/${e.trx_no}?token=${this.$store.getters["auth/accessToken"]}`;window.open(t,"_blank")},searchData(){this.options.current_page=1,this.loadData()},setMitra(e){this.search.user_id=e?e.id:""},setStatus(e){this.search.status=e?e.code:""},loadData(){this.loading=!0,this.$axios.get("/kai",{params:this.moreParams}).then(e=>{this.loading=!1,this.data=e.data.data,this.options.total_row=e.data.meta.total,this.options.per_page=e.data.meta.per_page}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})},loadUsers(){this.$axios.get("/users",{params:{role:"operator"}}).then(e=>{this.loading=!1,this.users=e.data.data}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{})}}},q=a("d959"),P=a.n(q);const U=P()(M,[["render",$]]);t["default"]=U},c8d4:function(e,t,a){"use strict";a.r(t);var c=a("7a23");const o={class:"col-md-12 col-sm-12"},n={class:"x_panel"},l={class:"x_content"},s={class:"row"},r={class:"col-sm-12 col-md-4 col-lg-4"},d={class:"col-sm-12 col-md-2 col-lg-2"},i={class:"input-group"},b={class:"table-responsive",style:{"min-height":"75vh"}},m={class:"row"},p={class:"col-sm-12"},j={class:"table-responsive"},O={class:"table table-striped jambo_table bulk_action table-bordered"},u=Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",null,"#"),Object(c["createElementVNode"])("th",null,"Mitra ID"),Object(c["createElementVNode"])("th",null,[Object(c["createTextVNode"])("No Trx"),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])("Waktu Booking")]),Object(c["createElementVNode"])("th",null,"PNR"),Object(c["createElementVNode"])("th",null,"Rute"),Object(c["createElementVNode"])("th",null,[Object(c["createTextVNode"])("Paxpaid"),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])("NTA")]),Object(c["createElementVNode"])("th",null,"NRA"),Object(c["createElementVNode"])("th",null,[Object(c["createTextVNode"])("Pusat"),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])("Mitra")]),Object(c["createElementVNode"])("th",null,"Status")])],-1),h={key:0},N=Object(c["createElementVNode"])("td",{colspan:"11",class:"text-center"}," Data tidak ditemukan ",-1),V=[N],E={scope:"row"},g={style:{"min-width":"100px"}},y={style:{"min-width":"250px"}},_={class:"text-black-50"},k={style:{"min-width":"110px"}},v={class:"",style:{"min-width":"150px"}},x={class:""},D={class:"d-flex"},f=Object(c["createElementVNode"])("div",{class:"px-3"},"-",-1),w={class:""},B=Object(c["createElementVNode"])("br",null,null,-1),S={class:""},T=Object(c["createElementVNode"])("br",null,null,-1);function $(e,t,a,N,$,C){const M=Object(c["resolveComponent"])("input-date-picker-range-base"),q=Object(c["resolveComponent"])("NoteTooltipBase"),P=Object(c["resolveComponent"])("statusbadge-base"),U=Object(c["resolveComponent"])("b-overlay"),F=Object(c["resolveComponent"])("paging-base");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",o,[Object(c["createElementVNode"])("div",n,[Object(c["createElementVNode"])("div",l,[Object(c["createElementVNode"])("div",s,[Object(c["createElementVNode"])("div",r,[Object(c["createVNode"])(M,{start_date:$.search.start_date,"onUpdate:start_date":t[0]||(t[0]=e=>$.search.start_date=e),end_date:$.search.end_date,"onUpdate:end_date":t[1]||(t[1]=e=>$.search.end_date=e)},null,8,["start_date","end_date"])]),Object(c["createElementVNode"])("div",d,[Object(c["createElementVNode"])("div",i,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"cari...","onUpdate:modelValue":t[2]||(t[2]=e=>$.search.q=e),onKeyup:t[3]||(t[3]=Object(c["withKeys"])((...e)=>C.searchData&&C.searchData(...e),["enter"]))},null,544),[[c["vModelText"],$.search.q]]),Object(c["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[4]||(t[4]=(...e)=>C.searchData&&C.searchData(...e))}," Cari ")])])]),Object(c["createElementVNode"])("div",b,[Object(c["createElementVNode"])("div",m,[Object(c["createElementVNode"])("div",p,[Object(c["createVNode"])(U,{show:$.loading,rounded:"sm"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",j,[Object(c["createElementVNode"])("table",O,[u,Object(c["createElementVNode"])("tbody",null,[$.data.length<=0&&!$.loading?(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",h,V)):Object(c["createCommentVNode"])("",!0),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])($.data,(t,a)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:a},[Object(c["createElementVNode"])("td",E,Object(c["toDisplayString"])(($.options.current_page-1)*$.options.per_page+a+1),1),Object(c["createElementVNode"])("td",g,[Object(c["createElementVNode"])("strong",null,Object(c["toDisplayString"])(t.mmid),1),t.notes?(Object(c["openBlock"])(),Object(c["createBlock"])(q,{key:0,notes:t.notes},null,8,["notes"])):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("td",y,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.trx_no?t.trx_no:"")+" ",1),Object(c["createElementVNode"])("div",_,Object(c["toDisplayString"])(e.$filters.dateTime(t.created_at)),1)]),Object(c["createElementVNode"])("td",k,Object(c["toDisplayString"])(t.pnr),1),Object(c["createElementVNode"])("td",v,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(t.details,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"d-flex mb-2 align-items-center justify-content-between",key:t},[Object(c["createElementVNode"])("div",x,Object(c["toDisplayString"])(e.trip),1),Object(c["createElementVNode"])("div",D,[Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(e.train_info?e.train_info.std:""),1),f,Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(e.train_info?e.train_info.sta:""),1)])]))),128))]),Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("span",w,Object(c["toDisplayString"])(e.$filters.currency(t.paxpaid)),1),B,Object(c["createElementVNode"])("span",S,Object(c["toDisplayString"])(e.$filters.currency(t.nta)),1)]),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.$filters.currency(t.nra)),1),Object(c["createElementVNode"])("td",null,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$filters.currency(t.commission_client))+" ",1),T,Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(e.$filters.currency(t.commission_pusat)),1)]),Object(c["createElementVNode"])("td",null,[Object(c["createVNode"])(P,{status:t.status_label,label:t.status_label},null,8,["status","label"])])]))),128))])])])]),_:1},8,["show"])])]),Object(c["createVNode"])(F,{options:$.options},null,8,["options"])])])])])}var C=a("b166"),M={components:{},props:{typeProduct:{type:String,default:"pascabayar"}},data(){return{modalOp:!1,modalData:{},categories:[],airlines:[],status:[{code:1,name:"Booking"},{code:2,name:"Issued"},{code:9,name:"Cancelled"},{code:10,name:"Failed"}],data:[],users:[],options:{current_page:1,total_row:0,per_page:1},search:{q:"",start_date:Object(C["a"])(new Date,"yyyy-MM-dd"),end_date:Object(C["a"])(new Date,"yyyy-MM-dd"),user_id:"",status:"",airline:""},loading:!1}},mounted(){this.search=this.$route.query,this.searchData()},computed:{moreParams(){return{page:this.options.current_page,q:this.search.q,start_date:this.search.start_date,end_date:this.search.end_date,user_id:this.search.user_id,type:this.search.type,status:this.search.status}}},watch:{"options.current_page":{handler:function(){this.loadData()}}},methods:{downloadEticket(e){let t=`https://api.atacorp.id/V1/app/transactions/kai/eticket/${e.trx_no}?token=${this.$store.getters["auth/accessToken"]}`;window.open(t,"_blank")},searchData(){this.options.current_page=1,this.loadData()},setMitra(e){this.search.user_id=e?e.id:""},setStatus(e){this.search.status=e?e.code:""},loadData(){this.loading=!0,this.$axios.get("/salesman/kai",{params:this.moreParams}).then(e=>{this.loading=!1,this.data=e.data.data,this.options.total_row=e.data.meta.total,this.options.per_page=e.data.meta.per_page}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})},loadUsers(){this.$axios.get("/users",{params:{role:"operator"}}).then(e=>{this.loading=!1,this.users=e.data.data}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{})}}},q=a("d959"),P=a.n(q);const U=P()(M,[["render",$]]);t["default"]=U}}]);