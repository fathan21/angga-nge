(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["statistics-hotel-c2bb9640"],{"6b94":function(e,t,c){"use strict";c.r(t);c("13d5");var a=c("7a23");const l={class:"col-md-12 col-sm-12"},o={class:"x_panel"},r={class:"x_content"},n={class:"row"},s={class:"col-sm-12 col-md-2 col-lg-2"},d=Object(a["createElementVNode"])("option",{value:"monthly"},"Bulanan",-1),i=Object(a["createElementVNode"])("option",{value:"yearly"},"Tahunan",-1),b=[d,i],O={key:0,class:"col-sm-12 col-md-2 col-lg-2"},j=["value"],u={class:"col-sm-12 col-md-2 col-lg-2"},m=["value"],h={class:"col-sm-12 col-md-2 col-lg-2"},p={class:"col-sm-12 col-md-2 col-lg-2"};function x(e,t,c,d,i,x){const y=Object(a["resolveComponent"])("select-mitra-base"),N=Object(a["resolveComponent"])("b-skeleton"),V=Object(a["resolveComponent"])("b-card-text"),C=Object(a["resolveComponent"])("b-th"),f=Object(a["resolveComponent"])("b-tr"),w=Object(a["resolveComponent"])("b-thead"),g=Object(a["resolveComponent"])("router-link"),v=Object(a["resolveComponent"])("b-td"),k=Object(a["resolveComponent"])("b-tbody"),_=Object(a["resolveComponent"])("b-tfoot"),B=Object(a["resolveComponent"])("b-table-simple"),D=Object(a["resolveComponent"])("b-card"),S=Object(a["resolveComponent"])("BarChart");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l,[Object(a["createElementVNode"])("div",o,[Object(a["createElementVNode"])("div",r,[Object(a["createElementVNode"])("div",n,[Object(a["createElementVNode"])("div",s,[Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>i.search.type=e)},b,512),[[a["vModelSelect"],i.search.type]])]),"monthly"==i.search.type?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",O,[Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>i.search.month=e)},[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(i.months,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("option",{key:t,value:t+1},Object(a["toDisplayString"])(e),9,j))),128))],512),[[a["vModelSelect"],i.search.month]])])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",u,[Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>i.search.year=e)},[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(i.years,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("option",{key:e,value:e},Object(a["toDisplayString"])(e),9,m))),128))],512),[[a["vModelSelect"],i.search.year]])]),Object(a["createElementVNode"])("div",h,[Object(a["createVNode"])(y,{onOnChange:x.setMitra},null,8,["onOnChange"])]),Object(a["createElementVNode"])("div",p,[Object(a["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[3]||(t[3]=(...e)=>x.searchData&&x.searchData(...e))}," Cari ")])])])]),i.submit?(Object(a["openBlock"])(),Object(a["createBlock"])(D,{key:0,class:"mb-2","header-bg-variant":"dark","header-text-variant":"white"},{default:Object(a["withCtx"])(()=>[i.loading?(Object(a["openBlock"])(),Object(a["createBlock"])(V,{key:0,class:"my-3"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(N,{width:"85%"}),Object(a["createVNode"])(N,{width:"55%"}),Object(a["createVNode"])(N,{width:"70%"}),Object(a["createVNode"])(N,{width:"85%"}),Object(a["createVNode"])(N,{width:"55%"}),Object(a["createVNode"])(N,{width:"70%"})]),_:1})):(Object(a["openBlock"])(),Object(a["createBlock"])(V,{key:1,class:"my-3"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(B,{hover:"",small:"","caption-top":"",responsive:"",bordered:""},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(w,{variant:"light",class:"text-center"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(f,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(C,{class:"text-center"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])("monthly"==i.search.type?"HARI":"BULAN"),1)]),_:1}),Object(a["createVNode"])(C,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("JUM. TRX")]),_:1}),Object(a["createVNode"])(C,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("PAXPAID")]),_:1}),Object(a["createVNode"])(C,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("NTA")]),_:1}),Object(a["createVNode"])(C,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("PUSAT")]),_:1}),Object(a["createVNode"])(C,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("MITRA")]),_:1}),Object(a["createVNode"])(C,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("ATA")]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(k,null,{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(i.data,(t,c)=>(Object(a["openBlock"])(),Object(a["createBlock"])(f,{key:c},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(v,{class:"text-center"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(g,{to:{name:"app.statistics.hotel.detail",query:{start_date:t.start_date,end_date:t.end_date,...x.moreParams}},target:"_blank"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("u",null,Object(a["toDisplayString"])(t.label),1)]),_:2},1032,["to"])]),_:2},1024),Object(a["createVNode"])(v,{class:"text-end",textContent:Object(a["toDisplayString"])(e.$filters.currency(t.count_trx))},null,8,["textContent"]),Object(a["createVNode"])(v,{class:"text-end",textContent:Object(a["toDisplayString"])(e.$filters.currency(t.paxpaid))},null,8,["textContent"]),Object(a["createVNode"])(v,{class:"text-end",textContent:Object(a["toDisplayString"])(e.$filters.currency(t.nta))},null,8,["textContent"]),Object(a["createVNode"])(v,{class:"text-end",textContent:Object(a["toDisplayString"])(e.$filters.currency(t.commission_pusat))},null,8,["textContent"]),Object(a["createVNode"])(v,{class:"text-end",textContent:Object(a["toDisplayString"])(e.$filters.currency(t.commission_mitra))},null,8,["textContent"]),Object(a["createVNode"])(v,{class:"text-end",textContent:Object(a["toDisplayString"])(e.$filters.currency(t.skp))},null,8,["textContent"])]),_:2},1024))),128))]),_:1}),Object(a["createVNode"])(_,{variant:"light"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(f,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(C,{class:"text-end"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("TOTAL")]),_:1}),Object(a["createVNode"])(C,{class:"text-end"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$filters.currency(i.data.filter(e=>e.paxpaid).reduce((e,t)=>e+parseInt(t.count_trx),0))),1)]),_:1}),Object(a["createVNode"])(C,{class:"text-end"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$filters.currency(i.data.filter(e=>e.paxpaid).reduce((e,t)=>e+t.paxpaid,0))),1)]),_:1}),Object(a["createVNode"])(C,{class:"text-end"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$filters.currency(i.data.filter(e=>e.paxpaid).reduce((e,t)=>e+t.nta,0))),1)]),_:1}),Object(a["createVNode"])(C,{class:"text-end"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$filters.currency(i.data.filter(e=>e.paxpaid).reduce((e,t)=>e+t.commission_pusat,0))),1)]),_:1}),Object(a["createVNode"])(C,{class:"text-end"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$filters.currency(i.data.filter(e=>e.paxpaid).reduce((e,t)=>e+t.commission_mitra,0))),1)]),_:1}),Object(a["createVNode"])(C,{class:"text-end"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$filters.currency(i.data.filter(e=>e.paxpaid).reduce((e,t)=>e+t.skp,0))),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))]),_:1})):Object(a["createCommentVNode"])("",!0),i.submit?(Object(a["openBlock"])(),Object(a["createBlock"])(D,{key:1,class:"mb-2","header-bg-variant":"dark","header-text-variant":"white"},{default:Object(a["withCtx"])(()=>[i.loading?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])(V,{key:0,class:"my-3"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(S,{labels:x.labelChart,data:x.dataChart},null,8,["labels","data"])]),_:1}))]),_:1})):Object(a["createCommentVNode"])("",!0)])}c("14d9");var y=c("aade"),N={components:{BarChart:y["a"]},props:{typeProduct:{type:String,default:"pascabayar"}},data(){let e=[];for(let t=2022;t<=(new Date).getFullYear();t++)e.push(t);return{submit:!1,loading:!1,years:e,months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],search:{q:"",month:(new Date).getMonth()+1,year:(new Date).getFullYear(),type:"yearly",user_id:"",airline:""},data:[],airlines:[]}},mounted(){},computed:{moreParams(){let e=Object.assign({},this.search);return e.status=2,e},labelChart(){return this.data.map(e=>e.label)},dataChart(){return this.data.map(e=>e.count_trx||0)}},watch:{search:{deep:!0,handler:function(){this.submit=!1}}},methods:{searchData(){this.submit=!0,this.loading=!0;let e=Object.assign({},this.moreParams),t="monthly";"yearly"==this.search.type&&(e.month="",t="yearly"),this.$axios.get("/salesman/statistics/hotels/"+t,{params:e}).then(e=>{this.loading=!1,this.data=e.data.data}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})},setMitra(e){this.search.user_id=e?e.id:""}}},V=c("d959"),C=c.n(V);const f=C()(N,[["render",x]]);t["default"]=f},bf0c:function(e,t,c){"use strict";c.r(t);c("13d5");var a=c("7a23");const l={class:"col-md-12 col-sm-12"},o={class:"x_panel"},r={class:"x_content"},n={class:"row"},s={class:"col-sm-12 col-md-2 col-lg-2"},d=Object(a["createElementVNode"])("option",{value:"monthly"},"Bulanan",-1),i=Object(a["createElementVNode"])("option",{value:"yearly"},"Tahunan",-1),b=[d,i],O={key:0,class:"col-sm-12 col-md-2 col-lg-2"},j=["value"],u={class:"col-sm-12 col-md-2 col-lg-2"},m=["value"],h={class:"col-sm-12 col-md-2 col-lg-2"},p={class:"col-sm-12 col-md-2 col-lg-2"};function x(e,t,c,d,i,x){const y=Object(a["resolveComponent"])("select-mitra-base"),N=Object(a["resolveComponent"])("b-skeleton"),V=Object(a["resolveComponent"])("b-card-text"),C=Object(a["resolveComponent"])("b-th"),f=Object(a["resolveComponent"])("b-tr"),w=Object(a["resolveComponent"])("b-thead"),g=Object(a["resolveComponent"])("router-link"),v=Object(a["resolveComponent"])("b-td"),k=Object(a["resolveComponent"])("b-tbody"),_=Object(a["resolveComponent"])("b-tfoot"),B=Object(a["resolveComponent"])("b-table-simple"),D=Object(a["resolveComponent"])("b-card"),S=Object(a["resolveComponent"])("BarChart");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l,[Object(a["createElementVNode"])("div",o,[Object(a["createElementVNode"])("div",r,[Object(a["createElementVNode"])("div",n,[Object(a["createElementVNode"])("div",s,[Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>i.search.type=e)},b,512),[[a["vModelSelect"],i.search.type]])]),"monthly"==i.search.type?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",O,[Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>i.search.month=e)},[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(i.months,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("option",{key:t,value:t+1},Object(a["toDisplayString"])(e),9,j))),128))],512),[[a["vModelSelect"],i.search.month]])])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",u,[Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>i.search.year=e)},[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(i.years,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("option",{key:e,value:e},Object(a["toDisplayString"])(e),9,m))),128))],512),[[a["vModelSelect"],i.search.year]])]),Object(a["createElementVNode"])("div",h,[Object(a["createVNode"])(y,{onOnChange:x.setMitra},null,8,["onOnChange"])]),Object(a["createElementVNode"])("div",p,[Object(a["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[3]||(t[3]=(...e)=>x.searchData&&x.searchData(...e))}," Cari ")])])])]),i.submit?(Object(a["openBlock"])(),Object(a["createBlock"])(D,{key:0,class:"mb-2","header-bg-variant":"dark","header-text-variant":"white"},{default:Object(a["withCtx"])(()=>[i.loading?(Object(a["openBlock"])(),Object(a["createBlock"])(V,{key:0,class:"my-3"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(N,{width:"85%"}),Object(a["createVNode"])(N,{width:"55%"}),Object(a["createVNode"])(N,{width:"70%"}),Object(a["createVNode"])(N,{width:"85%"}),Object(a["createVNode"])(N,{width:"55%"}),Object(a["createVNode"])(N,{width:"70%"})]),_:1})):(Object(a["openBlock"])(),Object(a["createBlock"])(V,{key:1,class:"my-3"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(B,{hover:"",small:"","caption-top":"",responsive:"",bordered:""},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(w,{variant:"light",class:"text-center"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(f,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(C,{class:"text-center"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])("monthly"==i.search.type?"HARI":"BULAN"),1)]),_:1}),Object(a["createVNode"])(C,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("JUM. TRX")]),_:1}),Object(a["createVNode"])(C,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("PAXPAID")]),_:1}),Object(a["createVNode"])(C,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("NTA")]),_:1}),Object(a["createVNode"])(C,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("PUSAT")]),_:1}),Object(a["createVNode"])(C,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("MITRA")]),_:1}),Object(a["createVNode"])(C,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("ATA")]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(k,null,{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(i.data,(t,c)=>(Object(a["openBlock"])(),Object(a["createBlock"])(f,{key:c},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(v,{class:"text-center"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(g,{to:{name:"app.statistics.hotel.detail",query:{start_date:t.start_date,end_date:t.end_date,...x.moreParams}},target:"_blank"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("u",null,Object(a["toDisplayString"])(t.label),1)]),_:2},1032,["to"])]),_:2},1024),Object(a["createVNode"])(v,{class:"text-end",textContent:Object(a["toDisplayString"])(e.$filters.currency(t.count_trx))},null,8,["textContent"]),Object(a["createVNode"])(v,{class:"text-end",textContent:Object(a["toDisplayString"])(e.$filters.currency(t.paxpaid))},null,8,["textContent"]),Object(a["createVNode"])(v,{class:"text-end",textContent:Object(a["toDisplayString"])(e.$filters.currency(t.nta))},null,8,["textContent"]),Object(a["createVNode"])(v,{class:"text-end",textContent:Object(a["toDisplayString"])(e.$filters.currency(t.commission_pusat))},null,8,["textContent"]),Object(a["createVNode"])(v,{class:"text-end",textContent:Object(a["toDisplayString"])(e.$filters.currency(t.commission_mitra))},null,8,["textContent"]),Object(a["createVNode"])(v,{class:"text-end",textContent:Object(a["toDisplayString"])(e.$filters.currency(t.skp))},null,8,["textContent"])]),_:2},1024))),128))]),_:1}),Object(a["createVNode"])(_,{variant:"light"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(f,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(C,{class:"text-end"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("TOTAL")]),_:1}),Object(a["createVNode"])(C,{class:"text-end"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$filters.currency(i.data.filter(e=>e.paxpaid).reduce((e,t)=>e+parseInt(t.count_trx),0))),1)]),_:1}),Object(a["createVNode"])(C,{class:"text-end"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$filters.currency(i.data.filter(e=>e.paxpaid).reduce((e,t)=>e+t.paxpaid,0))),1)]),_:1}),Object(a["createVNode"])(C,{class:"text-end"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$filters.currency(i.data.filter(e=>e.paxpaid).reduce((e,t)=>e+t.nta,0))),1)]),_:1}),Object(a["createVNode"])(C,{class:"text-end"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$filters.currency(i.data.filter(e=>e.paxpaid).reduce((e,t)=>e+t.commission_pusat,0))),1)]),_:1}),Object(a["createVNode"])(C,{class:"text-end"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$filters.currency(i.data.filter(e=>e.paxpaid).reduce((e,t)=>e+t.commission_mitra,0))),1)]),_:1}),Object(a["createVNode"])(C,{class:"text-end"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$filters.currency(i.data.filter(e=>e.paxpaid).reduce((e,t)=>e+t.skp,0))),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))]),_:1})):Object(a["createCommentVNode"])("",!0),i.submit?(Object(a["openBlock"])(),Object(a["createBlock"])(D,{key:1,class:"mb-2","header-bg-variant":"dark","header-text-variant":"white"},{default:Object(a["withCtx"])(()=>[i.loading?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])(V,{key:0,class:"my-3"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(S,{labels:x.labelChart,data:x.dataChart},null,8,["labels","data"])]),_:1}))]),_:1})):Object(a["createCommentVNode"])("",!0)])}c("14d9");var y=c("48c0"),N={components:{BarChart:y["a"]},props:{typeProduct:{type:String,default:"pascabayar"}},data(){let e=[];for(let t=2022;t<=(new Date).getFullYear();t++)e.push(t);return{submit:!1,loading:!1,years:e,months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],search:{q:"",month:(new Date).getMonth()+1,year:(new Date).getFullYear(),type:"yearly",user_id:"",airline:""},data:[],airlines:[]}},mounted(){},computed:{moreParams(){let e=Object.assign({},this.search);return e.status=2,e},labelChart(){return this.data.map(e=>e.label)},dataChart(){return this.data.map(e=>e.count_trx||0)}},watch:{search:{deep:!0,handler:function(){this.submit=!1}}},methods:{searchData(){this.submit=!0,this.loading=!0;let e=Object.assign({},this.moreParams),t="monthly";"yearly"==this.search.type&&(e.month="",t="yearly"),this.$axios.get("/statistics/hotels/"+t,{params:e}).then(e=>{this.loading=!1,this.data=e.data.data}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})},setMitra(e){this.search.user_id=e?e.id:""}}},V=c("d959"),C=c.n(V);const f=C()(N,[["render",x]]);t["default"]=f}}]);