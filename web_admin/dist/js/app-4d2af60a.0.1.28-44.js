(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app-4d2af60a"],{"00bc":function(e,t,a){"use strict";var c=a("7a23");const l={class:"col-md-12 col-sm-12"},o={class:"x_panel"},r={class:"x_content"},n={class:"row"},s={class:"col-sm-12 col-md-4 col-lg-4"},d={class:"col-sm-12 col-md-2 col-lg-2"},i={class:"col-sm-12 col-md-3 col-lg-3"},b={class:"col-sm-12 col-md-2 col-lg-2"},m={class:"col-sm-12 col-md-1 col-lg-1"},O={class:"table-responsive",style:{"min-height":"75vh"}},j={class:"row"},u={class:"col-sm-12"},p={class:"table-responsive"},V={class:"table table-striped jambo_table bulk_action table-bordered"},h=Object(c["createElementVNode"])("thead",{class:""},[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",{style:{"min-width":"150px"}},[Object(c["createTextVNode"])(" Tgl Transaksi "),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])(" Tgl Pembayaran ")]),Object(c["createElementVNode"])("th",null," ID Transaksi "),Object(c["createElementVNode"])("th",null,"Status"),Object(c["createElementVNode"])("th",null,"Mitra"),Object(c["createElementVNode"])("th",null,"Maskapai"),Object(c["createElementVNode"])("th",null,[Object(c["createTextVNode"])(" Rute "),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])(" Penerbangan ")]),Object(c["createElementVNode"])("th",null,[Object(c["createTextVNode"])(" Tgl "),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])(" Penerbangan ")]),Object(c["createElementVNode"])("th",null,[Object(c["createTextVNode"])(" Kode "),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])(" Booking ")]),Object(c["createElementVNode"])("th",null," Penumpang "),Object(c["createElementVNode"])("th",{class:"text-end"},"Paxpaid"),Object(c["createElementVNode"])("th",{class:"text-end"},"NTA"),Object(c["createElementVNode"])("th",{class:"text-end"},"NRA"),Object(c["createElementVNode"])("th",{class:"text-end"},"Pajak"),Object(c["createElementVNode"])("th",{class:"text-end"},"Pusat"),Object(c["createElementVNode"])("th",{class:"text-end"},"Mitra"),Object(c["createElementVNode"])("th",{class:"text-end"},"Basic"),Object(c["createElementVNode"])("th",{class:"text-center"},"Segment"),Object(c["createElementVNode"])("th",null," # ")])],-1),N={key:0},E=Object(c["createElementVNode"])("td",{colspan:"18",class:"text-center"}," Data tidak ditemukan ",-1),f=[E],g={scope:"row"},y={class:"text-black-50"},x={style:{"min-width":"150px"}},v={class:"text-success"},_={class:"text-warning"},k={key:0,class:"text-info"},w={style:{"min-width":"100px"}},D={class:"",style:{"min-width":"100px"}},C={class:"d-flex mb-2 align-items-center justify-content-between"},B={class:"d-flex"},S=Object(c["createElementVNode"])("div",{class:"px-3"},"-",-1),T={class:"text-black-50"},$={class:"text-center"},R={class:"text-danger"},M={class:"text-center"},F={key:0},P={key:1},U={key:2},A={class:"text-end"},K={class:"text-end"},L={class:"text-end"},I={class:"text-end"},q={class:"text-end"},z={class:"text-end"},H={class:"text-end"},G={class:"text-center"},J={style:{"min-width":"200px"}};function W(e,t,a,E,W,Y){const Q=Object(c["resolveComponent"])("input-date-picker-range-base"),X=Object(c["resolveComponent"])("select-mitra-base"),Z=Object(c["resolveComponent"])("select-base"),ee=Object(c["resolveComponent"])("routerLink"),te=Object(c["resolveComponent"])("statusbadge-base"),ae=Object(c["resolveComponent"])("mitra-link-base"),ce=Object(c["resolveComponent"])("NoteTooltipBase"),le=Object(c["resolveComponent"])("b-button"),oe=Object(c["resolveComponent"])("b-overlay"),re=Object(c["resolveComponent"])("paging-base");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",l,[Object(c["createElementVNode"])("div",o,[Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("div",n,[Object(c["createElementVNode"])("div",s,[Object(c["createVNode"])(Q,{start_date:W.search.start_date,"onUpdate:start_date":t[0]||(t[0]=e=>W.search.start_date=e),end_date:W.search.end_date,"onUpdate:end_date":t[1]||(t[1]=e=>W.search.end_date=e),"max-date":new Date},null,8,["start_date","end_date","max-date"])]),Object(c["createElementVNode"])("div",d,[Object(c["createVNode"])(X,{onOnChange:Y.setMitra},null,8,["onOnChange"])]),Object(c["createElementVNode"])("div",i,[Object(c["createVNode"])(Z,{options:W.airlines,placeholder:"Pilih maskapai",modelValue:W.search.airline,"onUpdate:modelValue":t[2]||(t[2]=e=>W.search.airline=e)},null,8,["options","modelValue"])]),Object(c["createElementVNode"])("div",b,[Object(c["createVNode"])(Z,{options:W.status,placeholder:"Pilih status",onOnChange:Y.setStatus},null,8,["options","onOnChange"])]),Object(c["createElementVNode"])("div",m,[Object(c["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[3]||(t[3]=(...e)=>Y.searchData&&Y.searchData(...e))}," Cari ")])]),Object(c["createElementVNode"])("div",O,[Object(c["createElementVNode"])("div",j,[Object(c["createElementVNode"])("div",u,[Object(c["createVNode"])(oe,{show:W.loading,rounded:"sm"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",p,[Object(c["createElementVNode"])("table",V,[h,Object(c["createElementVNode"])("tbody",null,[W.data.length<=0&&!W.loading?(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",N,f)):Object(c["createCommentVNode"])("",!0),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(W.data,(t,a)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:a},[Object(c["createElementVNode"])("td",g,[Object(c["createElementVNode"])("div",y,Object(c["toDisplayString"])(e.$filters.dateTime(t.created_at)),1),Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(e.$filters.dateTime(t.issued_at)),1)]),Object(c["createElementVNode"])("td",x,[Object(c["createElementVNode"])("div",v,[Object(c["createVNode"])(ee,{target:"_blank ",class:"text-decoration-underline text-success",to:{name:"app.marketing_page.airlines.transaction",params:{id:t.trx_no}}},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.trx_no),1)]),_:2},1032,["to"])]),Object(c["createElementVNode"])("div",_,Object(c["toDisplayString"])(t.trx_no_ext),1),t.trx_no_mitra?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",k,Object(c["toDisplayString"])(t.trx_no_mitra),1)):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("td",null,[Object(c["createVNode"])(te,{status:t.status_label,label:t.status_label},null,8,["status","label"])]),Object(c["createElementVNode"])("td",w,[Object(c["createVNode"])(ae,{mitra:t.mitra,type:"marketing_page"},null,8,["mitra"]),t.notes?(Object(c["openBlock"])(),Object(c["createBlock"])(ce,{key:0,notes:t.notes},null,8,["notes"])):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.airline_code?t.airline_code:"-"),1),Object(c["createElementVNode"])("td",D,[Object(c["createElementVNode"])("div",C,[Object(c["createElementVNode"])("div",B,[Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(t.origin),1),S,Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(t.destination),1)])]),Object(c["createElementVNode"])("div",T,Object(c["toDisplayString"])(t.flight_type),1)]),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.$filters.date(t.departure_date)),1),Object(c["createElementVNode"])("td",$,[Object(c["createElementVNode"])("div",R,[Object(c["createElementVNode"])("strong",null,Object(c["toDisplayString"])(t.pnr),1)])]),Object(c["createElementVNode"])("td",M,[t.adult?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",F,Object(c["toDisplayString"])(t.adult)+" Dewasa ",1)):Object(c["createCommentVNode"])("",!0),t.child?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",P,Object(c["toDisplayString"])(t.child)+" Anak ",1)):Object(c["createCommentVNode"])("",!0),t.infant?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",U,Object(c["toDisplayString"])(t.infant)+" Bayi ",1)):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("td",A,Object(c["toDisplayString"])(e.$filters.currency(t.paxpaid)),1),Object(c["createElementVNode"])("td",K,Object(c["toDisplayString"])(e.$filters.currency(t.nta)),1),Object(c["createElementVNode"])("td",L,Object(c["toDisplayString"])(e.$filters.currency(t.nra)),1),Object(c["createElementVNode"])("td",I,Object(c["toDisplayString"])(e.$filters.currency(t.tax)),1),Object(c["createElementVNode"])("td",q,Object(c["toDisplayString"])(e.$filters.currency(t.commission_pusat)),1),Object(c["createElementVNode"])("td",z,Object(c["toDisplayString"])(e.$filters.currency(t.commission_client)),1),Object(c["createElementVNode"])("td",H,Object(c["toDisplayString"])(e.$filters.currency(t.basic_fare)),1),Object(c["createElementVNode"])("td",G,Object(c["toDisplayString"])(t.segment_count?t.segment_count:""),1),Object(c["createElementVNode"])("td",J,[2==t.status?(Object(c["openBlock"])(),Object(c["createBlock"])(le,{key:0,size:"sm",variant:"danger",title:"Tiket",onClick:e=>Y.downloadEticket(t)},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Download ")]),_:2},1032,["onClick"])):Object(c["createCommentVNode"])("",!0)])]))),128))])])])]),_:1},8,["show"])])]),W.data.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])(re,{key:0,modelValue:W.options.current_page,"onUpdate:modelValue":t[4]||(t[4]=e=>W.options.current_page=e),options:W.options},null,8,["modelValue","options"])):Object(c["createCommentVNode"])("",!0)])])])])}a("14d9");var Y=a("b166"),Q={components:{},props:{typeProduct:{type:String,default:"pascabayar"}},data(){return{modalOp:!1,modalStatus:!1,modalData:{},categories:[],airlines:[],status:[{code:1,name:"Booking"},{code:2,name:"Issued"},{code:3,name:"Waiting issued"},{code:9,name:"Cancelled"},{code:10,name:"Failed"}],data:[],users:[],options:{current_page:1,total_row:0,per_page:1},search:{q:"",start_date:Object(Y["a"])(new Date,"yyyy-MM-dd"),end_date:Object(Y["a"])(new Date,"yyyy-MM-dd"),user_id:"",status:"",airline:""},loading:!1}},mounted(){this.search.type=this.typeProduct,this.searchData(),this.loadAirlines()},computed:{moreParams(){return{page:this.options.current_page,q:this.search.q,start_date:this.search.start_date,end_date:this.search.end_date,user_id:this.search.user_id,type:this.search.type,status:this.search.status,airline_code:this.search.airline?this.search.airline.code:""}}},watch:{"options.current_page":{handler:function(){this.loadData()}}},methods:{goToIssued(e){this.selectedOp(e),this.$router.push({name:"app.airlines.issued",params:{id:e.id}})},selectedOp(e){let t={operator_id:"self"},a=()=>this.$axios.post(`/airlines/${e.id}/change-operator`,t);this.$store.dispatch("loading",!0),a().then(e=>{this.$root.notif(e.message),this.$emit("save"),this.form={}}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"}),this.getCaptcha()}).finally(()=>{this.$store.dispatch("loading",!1)})},cancel(e){let t="Yes, Cancel";this.$swal.fire({width:350,title:"Yakin?",showCancelButton:!0,confirmButtonText:t}).then(t=>{if(t.isConfirmed){let t={cancel_type:2};this.$axios.post(`/airlines/${e.id}/cancel`,t).then(e=>{this.$root.notif(e.message),this.loadData()}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{})}})},changeOp(e){this.modalData=e,this.modalOp=!0},changeStatus(e){this.modalData=e,this.modalStatus=!0},downloadEticket(e){let t=`https://api.atacorp.id/V1/app/transactions/airlines/eticket/${e.trx_no}?token=${this.$store.getters["auth/accessToken"]}`;window.open(t,"_blank")},searchData(){this.options.current_page=1,this.loadData()},setMitra(e){this.search.user_id=e?e.id:""},setStatus(e){this.search.status=e?e.code:""},loadData(){this.loading=!0,this.$axios.get("/salesman/airlines",{params:this.moreParams}).then(e=>{this.loading=!1,this.data=e.data.data,this.options.total_row=e.data.meta.total,this.options.per_page=e.data.meta.per_page}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})},loadAirlines(){this.$axios.get("/products",{params:{parents:"AIRD,AIRI"}}).then(e=>{this.loading=!1,this.airlines=e.data.data}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{})}}},X=a("d959"),Z=a.n(X);const ee=Z()(Q,[["render",W]]);t["a"]=ee},"17d7":function(e,t,a){"use strict";var c=a("7a23");const l={class:"col-md-12 col-sm-12"},o={class:"x_panel"},r={class:"x_content"},n={class:"table-responsive",style:{"min-height":"75vh"}},s={class:"row"},d={class:"col-sm-12 col-md-4 col-lg-4"},i={class:"col-sm-12 col-md-3 col-lg-3"},b={class:"col-sm-12 col-md-2 col-lg-2"},m=Object(c["createElementVNode"])("option",{value:""},"Grup Deposit",-1),O=["value","textContent"],j={class:"col-sm-12 col-md-3 col-lg-3"},u={class:"input-group"},p={key:0,class:"row"},V={class:"col-sm-12"},h={class:"table-responsive"},N={class:"table table-striped jambo_table bulk_action table-bordered"},E=Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",null,"#"),Object(c["createElementVNode"])("th",null,"Trx No"),Object(c["createElementVNode"])("th",null,"Debit"),Object(c["createElementVNode"])("th",null,"Credit"),Object(c["createElementVNode"])("th",null,"Balance"),Object(c["createElementVNode"])("th",null,"Notes"),Object(c["createElementVNode"])("th",null,"Created At")])],-1),f={key:0},g=Object(c["createElementVNode"])("td",{colspan:"9",class:"text-center"}," Data tidak ditemukan ",-1),y=[g],x={scope:"row"},v={class:"text-end"},_={class:"text-end"},k={class:"text-end"};function w(e,t,a,g,w,D){const C=Object(c["resolveComponent"])("input-date-picker-range-base"),B=Object(c["resolveComponent"])("select-mitra-base"),S=Object(c["resolveComponent"])("b-overlay"),T=Object(c["resolveComponent"])("paging-base"),$=Object(c["resolveComponent"])("form-mutation"),R=Object(c["resolveComponent"])("modal-base");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",l,[Object(c["createElementVNode"])("div",o,[Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("div",n,[Object(c["createElementVNode"])("div",s,[Object(c["createElementVNode"])("div",d,[Object(c["createVNode"])(C,{start_date:w.search.start_date,"onUpdate:start_date":t[0]||(t[0]=e=>w.search.start_date=e),end_date:w.search.end_date,"onUpdate:end_date":t[1]||(t[1]=e=>w.search.end_date=e),"max-date":new Date},null,8,["start_date","end_date","max-date"])]),Object(c["createElementVNode"])("div",i,[Object(c["createVNode"])(B,{onOnChange:D.setMitra,placeholder:"Semua Mitra"},null,8,["onOnChange"])]),Object(c["createElementVNode"])("div",b,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>w.search.deposit_id=e)},[m,(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(w.depositGroup,e=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("option",{key:e.id,value:e.id,textContent:Object(c["toDisplayString"])(e.code)},null,8,O))),128))],512),[[c["vModelSelect"],w.search.deposit_id]])]),Object(c["createElementVNode"])("div",j,[Object(c["createElementVNode"])("div",u,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"cari...","onUpdate:modelValue":t[3]||(t[3]=e=>w.search.q=e),onKeyup:t[4]||(t[4]=Object(c["withKeys"])((...e)=>D.searchData&&D.searchData(...e),["enter"]))},null,544),[[c["vModelText"],w.search.q]]),Object(c["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[5]||(t[5]=(...e)=>D.searchData&&D.searchData(...e))}," Cari ")])])]),w.isSubmit?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",p,[Object(c["createElementVNode"])("div",V,[Object(c["createVNode"])(S,{show:w.loading,rounded:"sm"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",h,[Object(c["createElementVNode"])("table",N,[E,Object(c["createElementVNode"])("tbody",null,[w.data.length<=0&&!w.loading?(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",f,y)):Object(c["createCommentVNode"])("",!0),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(w.data,(t,a)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:a},[Object(c["createElementVNode"])("td",x,Object(c["toDisplayString"])((w.options.current_page-1)*w.options.per_page+a+1),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.transaction?t.transaction.trx_no:""),1),Object(c["createElementVNode"])("td",v,Object(c["toDisplayString"])(t.debit?e.$filters.currency(t.debit):"-"),1),Object(c["createElementVNode"])("td",_,Object(c["toDisplayString"])(t.credit?e.$filters.currency(t.credit):"-"),1),Object(c["createElementVNode"])("td",k,Object(c["toDisplayString"])(e.$filters.currency(t.balance)),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.notes),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.$filters.dateTime(t.created_at)),1)]))),128))])])])]),_:1},8,["show"])])])):Object(c["createCommentVNode"])("",!0),w.data.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])(T,{key:1,modelValue:w.options.current_page,"onUpdate:modelValue":t[6]||(t[6]=e=>w.options.current_page=e),options:w.options},null,8,["modelValue","options"])):Object(c["createCommentVNode"])("",!0)])]),Object(c["createVNode"])(R,{modelValue:w.addMutation,"onUpdate:modelValue":t[8]||(t[8]=e=>w.addMutation=e)},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])($,{show:w.addMutation,onClose:t[7]||(t[7]=()=>{w.addMutation=!1})},null,8,["show"])]),_:1},8,["modelValue"])])])}var D=a("b166");const C={class:"x_panel mb-0"},B={class:"x_title"},S=Object(c["createElementVNode"])("ul",{class:"nav navbar-right panel_toolbox"},[Object(c["createElementVNode"])("li")],-1),T=Object(c["createElementVNode"])("div",{class:"clearfix"},null,-1),$={class:"x_content"},R=Object(c["createElementVNode"])("br",null,null,-1),M={class:"item form-group"},F=Object(c["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(c["createTextVNode"])("Tipe "),Object(c["createElementVNode"])("span",{class:"required"},"*")],-1),P={class:"col-md-9 col-sm-9"},U={class:"form-control"},A={class:"radio-group-core"},K=["value"],L={class:"item form-group"},I=Object(c["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(c["createTextVNode"])("Mitra "),Object(c["createElementVNode"])("span",{class:"required"},"*")],-1),q={class:"col-md-9 col-sm-9"},z={key:0,class:"p-error"},H={class:"item form-group"},G=Object(c["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(c["createTextVNode"])("Deposit "),Object(c["createElementVNode"])("span",{class:"required"},"*")],-1),J={class:"col-md-9 col-sm-9"},W=["onChange","onInput"],Y=["value"],Q={key:0,class:"p-error"},X={class:"item form-group"},Z=Object(c["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(c["createTextVNode"])("Jumlah "),Object(c["createElementVNode"])("span",{class:"required"},"*")],-1),ee={class:"col-md-9 col-sm-9"},te={key:0,class:"p-error"},ae={class:"item form-group"},ce=Object(c["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(c["createTextVNode"])("Catatan "),Object(c["createElementVNode"])("span",{class:"required"},"*")],-1),le={class:"col-md-9 col-sm-9"},oe=["onChange"],re={key:0,class:"p-error"},ne={class:"item form-group"},se=Object(c["createElementVNode"])("label",{class:"col-form-label col-md-3 col-sm-3 label-align",for:"first-name"},[Object(c["createTextVNode"])("Password "),Object(c["createElementVNode"])("span",{class:"required"},"*")],-1),de={class:"col-md-9 col-sm-9"},ie={key:0,class:"p-error"},be=Object(c["createElementVNode"])("div",{class:"ln_solid"},null,-1),me={class:"item form-group"},Oe={class:"col-md-9 col-sm-9 offset-md-3"},je=Object(c["createElementVNode"])("button",{type:"submit",class:"btn btn-primary"},"Submit",-1);function ue(e,t,a,l,o,r){const n=Object(c["resolveComponent"])("select-mitra-base"),s=Object(c["resolveComponent"])("Field"),d=Object(c["resolveComponent"])("input-currency-base"),i=Object(c["resolveComponent"])("Form"),b=Object(c["resolveComponent"])("b-overlay");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",C,[Object(c["createElementVNode"])("div",B,[Object(c["createElementVNode"])("h2",null,Object(c["toDisplayString"])(r.title),1),S,T]),Object(c["createElementVNode"])("div",$,[R,Object(c["createVNode"])(b,{show:e.$store.state.loading,rounded:"sm"},{default:Object(c["withCtx"])(()=>[a.show?(Object(c["openBlock"])(),Object(c["createBlock"])(i,{key:0,onSubmit:r.onSubmit,"validation-schema":o.schema,class:"signin-form"},{default:Object(c["withCtx"])(({errors:a})=>[Object(c["createElementVNode"])("div",M,[F,Object(c["createElementVNode"])("div",P,[Object(c["createElementVNode"])("div",U,[Object(c["createElementVNode"])("div",A,[(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(["debit","credit"],e=>Object(c["createElementVNode"])("label",{key:e},[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"radio",value:e,"onUpdate:modelValue":t[0]||(t[0]=e=>o.form.type=e)},null,8,K),[[c["vModelRadio"],o.form.type]]),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(e),1)])),64))])])])]),Object(c["createElementVNode"])("div",L,[I,Object(c["createElementVNode"])("div",q,[Object(c["createVNode"])(s,{name:"user_id",modelValue:o.form.user_id,"onUpdate:modelValue":t[1]||(t[1]=e=>o.form.user_id=e),type:"user_id"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(n,{onOnChange:r.setMitra,placeholder:"Pilih Mitra"},null,8,["onOnChange"])]),_:1},8,["modelValue"]),a.user_id?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",z," *"+Object(c["toDisplayString"])(a.user_id),1)):Object(c["createCommentVNode"])("",!0)])]),Object(c["createElementVNode"])("div",H,[G,Object(c["createElementVNode"])("div",J,[Object(c["createVNode"])(s,{name:"deposit_id",modelValue:o.form.deposit_id,"onUpdate:modelValue":t[3]||(t[3]=e=>o.form.deposit_id=e)},{default:Object(c["withCtx"])(({handleChange:l})=>[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:Object(c["normalizeClass"])(["form-control",[{"p-error":a.deposit_id}]]),onChange:l,onInput:l,"onUpdate:modelValue":t[2]||(t[2]=e=>o.form.deposit_id=e)},[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(o.deposits,(t,a)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("option",{key:a,value:t.id},Object(c["toDisplayString"])(t.code)+" / "+Object(c["toDisplayString"])(e.$filters.currency(t.amount)),9,Y))),128))],42,W),[[c["vModelSelect"],o.form.deposit_id]])]),_:2},1032,["modelValue"]),a.deposit_id?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",Q," *"+Object(c["toDisplayString"])(a.deposit_id),1)):Object(c["createCommentVNode"])("",!0)])]),Object(c["createElementVNode"])("div",X,[Z,Object(c["createElementVNode"])("div",ee,[Object(c["createVNode"])(s,{name:"amount",modelValue:o.form.amount,"onUpdate:modelValue":t[4]||(t[4]=e=>o.form.amount=e),class:Object(c["normalizeClass"])([{"p-error":a.amount}]),type:"hidden"},null,8,["modelValue","class"]),Object(c["createVNode"])(d,{modelValue:o.form.amount,"onUpdate:modelValue":t[5]||(t[5]=e=>o.form.amount=e),class:Object(c["normalizeClass"])(["form-control",[{"p-error":a.amount}]])},null,8,["modelValue","class"]),a.amount?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",te," *"+Object(c["toDisplayString"])(a.amount),1)):Object(c["createCommentVNode"])("",!0)])]),Object(c["createElementVNode"])("div",ae,[ce,Object(c["createElementVNode"])("div",le,[Object(c["createVNode"])(s,{name:"notes",type:"hidden"},{default:Object(c["withCtx"])(({handleChange:e})=>[Object(c["withDirectives"])(Object(c["createElementVNode"])("textarea",{class:"form-control",onChange:e,"onUpdate:modelValue":t[6]||(t[6]=e=>o.form.notes=e)},null,40,oe),[[c["vModelText"],o.form.notes]])]),_:1}),a.notes?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",re," *"+Object(c["toDisplayString"])(a.notes),1)):Object(c["createCommentVNode"])("",!0)])]),Object(c["createElementVNode"])("div",ne,[se,Object(c["createElementVNode"])("div",de,[Object(c["createVNode"])(s,{name:"password",type:"password",class:"form-control"}),a.password?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",ie," *"+Object(c["toDisplayString"])(a.password),1)):Object(c["createCommentVNode"])("",!0)])]),be,Object(c["createElementVNode"])("div",me,[Object(c["createElementVNode"])("div",Oe,[Object(c["createElementVNode"])("button",{class:"btn btn-outline-primary me-2",type:"button",onClick:t[7]||(t[7]=t=>e.$emit("close"))}," Cancel "),je])])]),_:1},8,["onSubmit","validation-schema"])):Object(c["createCommentVNode"])("",!0)]),_:1},8,["show"])])])}var pe=a("7bb1"),Ve=a("506a"),he={props:{show:Boolean},components:{Form:pe["b"],Field:pe["a"]},data(){const e=Ve["a"]({amount:Ve["b"]().required(),deposit_id:Ve["b"]().required(),notes:Ve["b"]().required(),user_id:Ve["b"]().required(),password:Ve["b"]().required()});return{id:"",imagePrev:"",form:{amount:1e4,notes:"",type:"debit"},old:{},schema:e,deposits:[]}},computed:{title(){return"Tambah Mutasi Mitra"}},watch:{show:function(){this.show&&this.reset()}},methods:{reset(){this.form={amount:1e4,notes:"",type:"debit"}},loadDepositGroup(){this.$axios.get("/deposit/group",{params:{user_id:this.form.user_id}}).then(e=>{this.deposits=e.data.data}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{})},setMitra(e){e?(this.form.user_id=e.id,this.deposits=[],this.form.deposit_id="",this.loadDepositGroup()):(this.form.deposit_id="",this.form.user_id="",this.deposits=[])},onSubmit(e){let t=Object.assign({},e);t={...e,...this.form};let a=()=>this.$axios.put("/deposit/mutations",t);this.$store.dispatch("loading",!0),a().then(e=>{this.$root.notif(e.message),this.$emit("close")}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.$store.dispatch("loading",!1)})}},mounted(){}},Ne=a("d959"),Ee=a.n(Ne);const fe=Ee()(he,[["render",ue]]);var ge=fe,ye={components:{FormMutation:ge},data(){return{data:[],options:{current_page:1,total_row:0,per_page:1},search:{q:"",start_date:Object(D["a"])(new Date,"yyyy-MM-dd"),end_date:Object(D["a"])(new Date,"yyyy-MM-dd"),user_id:"",deposit_id:""},depositGroup:[],addMutation:!1,isSubmit:!1,loading:!1}},mounted(){},computed:{moreParams(){return{page:this.options.current_page,q:this.search.q,start_date:this.search.start_date,end_date:this.search.end_date,user_id:this.search.user_id,deposit_id:this.search.deposit_id}}},watch:{"options.current_page":{handler:function(){this.loadData()}}},methods:{searchData(){this.options.current_page=1,this.loadData()},setMitra(e){e?(this.search.user_id=e.id,this.loadDepositGroup()):(this.search.user_id="",this.depositGroup=[])},loadDepositGroup(){this.$axios.get("/deposit/group",{params:{user_id:this.search.user_id}}).then(e=>{this.depositGroup=e.data.data}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{})},loadData(){this.search.user_id?this.search.deposit_id?(this.isSubmit=!0,this.loading=!0,this.$axios.get("/salesman/deposit/mutations",{params:this.moreParams}).then(e=>{this.loading=!1,this.data=e.data.data,this.options.total_row=e.data.meta.total,this.options.per_page=e.data.meta.per_page}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})):this.$root.notif("harus pilih deposit dahulu",{type:"error",position:"top"}):this.$root.notif("harus pilih mitra dahulu",{type:"error",position:"top"})}}};const xe=Ee()(ye,[["render",w]]);t["a"]=xe},"30df":function(e,t,a){"use strict";var c=a("7a23");const l={class:"card"},o={class:"row"},r={class:"col-3"},n={class:""},s=Object(c["createElementVNode"])("div",{class:"card-header h-4"},"Trx Saat ini",-1),d={class:"card-body"},i={class:"row mb-4"},b=Object(c["createElementVNode"])("div",{class:"col-12"},"Kode Booking",-1),m={class:"col-12"},O={class:"row mb-4"},j=Object(c["createElementVNode"])("div",{class:"col-12"},"Paxpaid",-1),u={class:"col-12"},p={class:"row mb-4"},V=Object(c["createElementVNode"])("div",{class:"col-12"},"Debit",-1),h={class:"col-12"},N={class:"col"},E={class:""},f=Object(c["createElementVNode"])("div",{class:"card-header h-4 text-capitalize"},"Konfirmasi Harga",-1),g={class:"card-body"},y={class:"row mb-4"},x={class:"col-12 text-capitalize"},v={class:"col-12"},_={class:"row mb-4"},k=Object(c["createElementVNode"])("div",{class:"col-12 text-capitalize"},"Fee",-1),w={class:"col-12"},D={class:"row mb-4"},C=Object(c["createElementVNode"])("div",{class:"col-12"},"Admin Fee",-1),B={class:"col-12"},S={key:0,class:"row mb-4"},T={class:"col-12"},$={class:"col-12"},R={class:"row mb-4"},M=Object(c["createElementVNode"])("div",{class:"col-12"},"Timelimit",-1),F={class:"col-12"},P={class:"row"},U={class:"col-12 mb-4"},A={class:"col-6"},K=["value"],L={class:"col-6"},I=["value"],q={class:"col"},z={class:""},H=Object(c["createElementVNode"])("div",{class:"card-header h-4"},"Proses Konfirmasi",-1),G={class:"card-body"},J={class:"row mb-4"},W=Object(c["createElementVNode"])("div",{class:"col-12"},"Status Persetujan",-1),Y={class:"col-12"},Q=Object(c["createElementVNode"])("option",{value:""},"Pilih Salah Satu",-1),X=Object(c["createElementVNode"])("option",null,null,-1),Z=Object(c["createElementVNode"])("option",{value:"1"},"Disetujui",-1),ee=Object(c["createElementVNode"])("option",null,null,-1),te=Object(c["createElementVNode"])("option",{value:"0"},"Dibatalkan",-1),ae=[Q,X,Z,ee,te],ce={class:"row mb-4"},le=Object(c["createElementVNode"])("div",{class:"col-12"},"Staff Note",-1),oe={class:"col-12"},re={key:0,class:"row mb-4"},ne=Object(c["createElementVNode"])("div",{class:"col-12"},"Internal Note",-1),se={class:"col-12"},de={class:"row mb-4"},ie=Object(c["createElementVNode"])("div",{class:"col-12"},"Password",-1),be={class:"col-12"},me={class:"row mb-4"},Oe=Object(c["createElementVNode"])("div",{class:"col-12"},"Kode Akses",-1),je={class:"col-12"},ue=["src"],pe={class:"row mb-4"},Ve={class:"col text-end"};function he(e,t,a,Q,X,Z){const ee=Object(c["resolveComponent"])("b-card-header"),te=Object(c["resolveComponent"])("input-currency-base"),he=Object(c["resolveComponent"])("b-input-group"),Ne=Object(c["resolveComponent"])("b-form-input"),Ee=Object(c["resolveComponent"])("b-button"),fe=Object(c["resolveComponent"])("b-input-group-append"),ge=Object(c["resolveComponent"])("b-card-body");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",l,[Object(c["createVNode"])(ee,{class:"text-cepitalize",style:{"text-transform":"capitalize"}},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("h4",null,"Konfirmasi Harga "+Object(c["toDisplayString"])(a.type),1)]),_:1}),Object(c["createVNode"])(ge,null,{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",o,[Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("div",n,[s,Object(c["createElementVNode"])("div",d,[Object(c["createElementVNode"])("div",i,[b,Object(c["createElementVNode"])("div",m,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>X.formData.pnr=e),type:"text",class:"form-control",disabled:""},null,512),[[c["vModelText"],X.formData.pnr]])])]),Object(c["createElementVNode"])("div",O,[j,Object(c["createElementVNode"])("div",u,[Object(c["createVNode"])(te,{type:"text",class:"form-control",disabled:"",modelValue:X.formData.paxpaid,"onUpdate:modelValue":t[1]||(t[1]=e=>X.formData.paxpaid=e)},null,8,["modelValue"])])]),Object(c["createElementVNode"])("div",p,[V,Object(c["createElementVNode"])("div",h,[Object(c["createVNode"])(te,{type:"text",class:"form-control",disabled:"",modelValue:X.formData.debit,"onUpdate:modelValue":t[2]||(t[2]=e=>X.formData.debit=e)},null,8,["modelValue"])])])])])]),Object(c["createElementVNode"])("div",N,[Object(c["createElementVNode"])("div",E,[f,Object(c["createElementVNode"])("div",g,[Object(c["createElementVNode"])("div",y,[Object(c["createElementVNode"])("div",x,"ID "+Object(c["toDisplayString"])(a.type),1),Object(c["createElementVNode"])("div",v,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>X.formRevisi["id_"+this.type]=e),disabled:""},null,512),[[c["vModelText"],X.formRevisi["id_"+this.type]]])])]),Object(c["createElementVNode"])("div",_,[k,Object(c["createElementVNode"])("div",w,[Object(c["createVNode"])(te,{class:"form-control",modelValue:X.formRevisi.fee,"onUpdate:modelValue":t[4]||(t[4]=e=>X.formRevisi.fee=e)},null,8,["modelValue"])])]),Object(c["createElementVNode"])("div",D,[C,Object(c["createElementVNode"])("div",B,[Object(c["createVNode"])(te,{type:"text",modelValue:X.formRevisi.admin,"onUpdate:modelValue":t[5]||(t[5]=e=>X.formRevisi.admin=e),class:"form-control"},null,8,["modelValue"])])]),"refund"==a.type?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",S,[Object(c["createElementVNode"])("div",T,"Tgl "+Object(c["toDisplayString"])(a.type),1),Object(c["createElementVNode"])("div",$,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-control","onUpdate:modelValue":t[6]||(t[6]=e=>X.formRevisi.tgl_refund=e),type:"date"},null,512),[[c["vModelText"],X.formRevisi.tgl_refund]])])])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",R,[M,Object(c["createElementVNode"])("div",F,[Object(c["createElementVNode"])("div",P,[Object(c["createElementVNode"])("div",U,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-control","onUpdate:modelValue":t[7]||(t[7]=e=>X.formRevisi.timelimit=e),type:"date"},null,512),[[c["vModelText"],X.formRevisi.timelimit]])]),Object(c["createElementVNode"])("div",A,[Object(c["createTextVNode"])(" Jam "),Object(c["createVNode"])(he,null,{default:Object(c["withCtx"])(()=>[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:"form-control","onUpdate:modelValue":t[8]||(t[8]=e=>X.formRevisi.timelimit_hours=e)},[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(X.hours,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("option",{key:t,value:e},Object(c["toDisplayString"])(e),9,K))),128))],512),[[c["vModelSelect"],X.formRevisi.timelimit_hours]])]),_:1})]),Object(c["createElementVNode"])("div",L,[Object(c["createTextVNode"])(" Menit "),Object(c["createVNode"])(he,null,{default:Object(c["withCtx"])(()=>[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:"form-control","onUpdate:modelValue":t[9]||(t[9]=e=>X.formRevisi.timelimit_minutes=e)},[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(X.minutes,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("option",{key:t,value:e},Object(c["toDisplayString"])(e),9,I))),128))],512),[[c["vModelSelect"],X.formRevisi.timelimit_minutes]])]),_:1})])])])])])])]),Object(c["createElementVNode"])("div",q,[Object(c["createElementVNode"])("div",z,[H,Object(c["createElementVNode"])("div",G,[Object(c["createElementVNode"])("div",J,[W,Object(c["createElementVNode"])("div",Y,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:"form-control","onUpdate:modelValue":t[10]||(t[10]=e=>X.formRevisi.status=e)},ae,512),[[c["vModelSelect"],X.formRevisi.status]])])]),Object(c["createElementVNode"])("div",ce,[le,Object(c["createElementVNode"])("div",oe,[Object(c["withDirectives"])(Object(c["createElementVNode"])("textarea",{class:"form-control","onUpdate:modelValue":t[11]||(t[11]=e=>X.formRevisi.staff_note=e)},"\n                  ",512),[[c["vModelText"],X.formRevisi.staff_note]])])]),"refund"==a.type?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",re,[ne,Object(c["createElementVNode"])("div",se,[Object(c["withDirectives"])(Object(c["createElementVNode"])("textarea",{class:"form-control","onUpdate:modelValue":t[12]||(t[12]=e=>X.formRevisi.staff_internal_note=e)},"\n                  ",512),[[c["vModelText"],X.formRevisi.staff_internal_note]])])])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",de,[ie,Object(c["createElementVNode"])("div",be,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"password",class:"form-control","onUpdate:modelValue":t[13]||(t[13]=e=>X.formRevisi.password=e)},null,512),[[c["vModelText"],X.formRevisi.password]])])]),Object(c["createElementVNode"])("div",me,[Oe,Object(c["createElementVNode"])("div",je,[Object(c["createElementVNode"])("img",{src:X.captcha.img,style:{width:"50%"},class:"mb-1 mx-auto"},null,8,ue),Object(c["createVNode"])(he,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Ne,{id:"input-brand",modelValue:X.formRevisi.captcha_api,"onUpdate:modelValue":t[14]||(t[14]=e=>X.formRevisi.captcha_api=e),type:"text",required:""},null,8,["modelValue"]),Object(c["createVNode"])(fe,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Ee,{variant:"outline-success",onClick:Z.getCaptcha},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Refresh ")]),_:1},8,["onClick"])]),_:1})]),_:1})])])])])])]),Object(c["createElementVNode"])("div",pe,[Object(c["createElementVNode"])("div",Ve,[Object(c["createVNode"])(Ee,{type:"button",onClick:Z.resetRevisi,class:"me-5"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Ulangi ")]),_:1},8,["onClick"]),Object(c["createVNode"])(Ee,{type:"button",variant:"primary",onClick:Z.submitRevisi},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Proses ")]),_:1},8,["onClick"])])])]),_:1})])}a("14d9");var Ne=a("b166"),Ee=a("0dae"),fe={components:{},props:{data:{type:Object},transactions:{type:[Object,Array]},type:{type:String,default:"refund"}},data(){let e=Object(Ne["a"])(new Date,"yyyy-MM-dd");return{saving:!1,formRevisi:{fee:0,admin:0,status:"",timelimit:e,timelimit_hours:Object(Ne["a"])(Object(Ee["a"])(new Date,2),"HH"),timelimit_minutes:10,tgl_refund:Object(Ne["a"])(new Date,"yyyy-MM-dd")},user:null,formData:{},meta:{},status:"",message:"",isBusy:!1,captcha:{},hours:[],minutes:[]}},watch:{data:{depp:!0,handler:function(){this.setData()}}},methods:{setData(){this.getCaptcha(),this.data&&(this.user=this.$store.getters["auth/user"],this.formData=Object.assign({},this.data.transaction),this.formRevisi["id_"+this.type]=this.data["id_"+this.type])},getCaptcha(){this.$axios.get("/refresh-captcha").then(e=>{this.captcha.img=e.img,this.captcha.key=e.key})},submitRevisi(){let e=Object.assign({},this.formRevisi);e.form=1,e.captcha_key=this.captcha.key,e.timelimit=this.formRevisi.timelimit+` ${this.formRevisi.timelimit_hours}:${this.formRevisi.timelimit_minutes}:00`,this.$store.dispatch("loading",!0),this.$axios.put(`/airlines/${this.type}/${this.data.id}`,e).then(()=>{this.$root.notif("Berhasil ubah data"),this.$router.back()}).catch(e=>{this.getCaptcha(),this.formRevisi.captcha="",this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.$store.dispatch("loading",!1)})},resetRevisi(){this.formRevisi={fee:0,admin:0,status:"",timelimit:Object(Ne["a"])(new Date,"yyyy-MM-dd"),timelimit_hours:Object(Ne["a"])(Object(Ee["a"])(new Date,2),"HH"),timelimit_minutes:10,tgl_refund:Object(Ne["a"])(new Date,"yyyy-MM-dd")}}},computed:{},created(){this.setData();for(let e=1;e<24;e++){let t=e;t<10&&(t="0"+t),this.hours.push(t)}for(let e=0;e<6;e++){let t=10*e;this.minutes.push(t)}}},ge=a("d959"),ye=a.n(ge);const xe=ye()(fe,[["render",he]]);t["a"]=xe},"36c9":function(e,t,a){"use strict";var c=a("7a23");const l={class:"pb-2"},o=Object(c["createElementVNode"])("h2",null,null,-1),r={class:"nav navbar-right panel_toolbox"},n=Object(c["createElementVNode"])("i",{class:"fa fa-arrow-left"},null,-1),s=["src"],d={class:"text-lg text-blue text-capitalize"},i={class:"text-pnr"},b=Object(c["createElementVNode"])("br",null,null,-1),m={class:"text-order-number"},O=Object(c["createElementVNode"])("hr",null,null,-1),j={class:"text-center mb-3"},u={key:0},p=["src"],V={class:"text-green fw-bold"},h=Object(c["createElementVNode"])("div",null,"PNR",-1),N={class:"text-pnr"},E={class:"text-blue"},f={class:"text-blue"},g={class:"text-primary"},y={class:"text-danger"},x={class:"text-orange"},v=Object(c["createElementVNode"])("h4",null,"Daftar Penumpang",-1),_={class:"table-responsive"},k={class:"table text-center table-striped table-md"},w=Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",null,"Name"),Object(c["createElementVNode"])("th",null,[Object(c["createTextVNode"])(" Document "),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])(" Doc Number ")]),Object(c["createElementVNode"])("th",null,"Phone Number"),Object(c["createElementVNode"])("th",null,"No Ticket")],-1),D=Object(c["createElementVNode"])("br",null,null,-1),C={key:0},B=Object(c["createElementVNode"])("h4",null,"Detail Transaksi",-1),S={class:"table"},T=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"PNR",-1),$={class:"text-bold text-pnr"},R=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Waktu Booking",-1),M={class:"text-bold text-time-booking"},F=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Booking By",-1),P={class:"text-bold"},U=Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Timelimit"),Object(c["createElementVNode"])("td",{class:"text-bold text-time-limit"}," : ")],-1),A=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Waktu Issued",-1),K={class:"text-bold"},L={key:0,class:"text-time-issued px-0"},I=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Issued By",-1),q={class:"text-bold"},z=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Tgl Cancel",-1),H={class:"text-bold"},G={key:0,class:"text-time-cancel px-0"},J=Object(c["createElementVNode"])("template",null,[Object(c["createTextVNode"])(" - ")],-1),W=Object(c["createElementVNode"])("td",null,"Cancel By",-1),Y={class:"text-bold"},Q=Object(c["createElementVNode"])("template",null,[Object(c["createTextVNode"])(" - ")],-1),X=Object(c["createElementVNode"])("td",null,"Catatan:",-1),Z={class:"text-bold"};function ee(e,t,a,ee,te,ae){const ce=Object(c["resolveComponent"])("b-skeleton"),le=Object(c["resolveComponent"])("b-card"),oe=Object(c["resolveComponent"])("b-col"),re=Object(c["resolveComponent"])("b-row"),ne=Object(c["resolveComponent"])("StatusbadgeBase"),se=Object(c["resolveComponent"])("b-card-header"),de=Object(c["resolveComponent"])("b-card-body");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",l,[te.loading?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createVNode"])(le,{class:"mb-2"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ce,{width:"85%"}),Object(c["createVNode"])(ce,{width:"55%"}),Object(c["createVNode"])(ce,{width:"70%"})]),_:1}),Object(c["createVNode"])(le,{class:"mb-2"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ce,{width:"85%"}),Object(c["createVNode"])(ce,{width:"55%"}),Object(c["createVNode"])(ce,{width:"70%"})]),_:1}),Object(c["createVNode"])(le,{class:"mb-2"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ce,{width:"85%"}),Object(c["createVNode"])(ce,{width:"55%"}),Object(c["createVNode"])(ce,{width:"70%"})]),_:1})],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createVNode"])(re,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(oe,null,{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",null,[o,Object(c["createElementVNode"])("ul",r,[Object(c["createElementVNode"])("li",null,[Object(c["createElementVNode"])("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:t[0]||(t[0]=t=>e.$router.back())},[n,Object(c["createTextVNode"])(" Kembali ")])])])])]),_:1})]),_:1}),te.data&&te.data.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])(re,{key:0,class:"mt-2"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(oe,null,{default:Object(c["withCtx"])(()=>[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(te.data,(t,a)=>(Object(c["openBlock"])(),Object(c["createBlock"])(le,{key:a,class:"mb-3"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(se,{class:"py-2"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(re,{class:""},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(oe,{class:"fw-bold d-flex flex-column justify-center"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("img",{src:t.image_url,style:{width:"30px"}},null,8,s),Object(c["createElementVNode"])("span",d,Object(c["toDisplayString"])(t.airline_code),1),Object(c["createElementVNode"])("div",null,[Object(c["createTextVNode"])(" PNR : "),Object(c["createElementVNode"])("b",i,Object(c["toDisplayString"])(t.pnr),1)])]),_:2},1024),Object(c["createVNode"])(oe,{class:"text-center"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Status:"),b,Object(c["createVNode"])(ne,{label:t.status_label,class:"text-sm"},null,8,["label"])]),_:2},1024),Object(c["createVNode"])(oe,{class:"text-end d-flex flex-column justify-center"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" No Transaksi: "),Object(c["createElementVNode"])("strong",m,Object(c["toDisplayString"])(t.trx_no),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),Object(c["createVNode"])(de,{class:"bg-gray py-2"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(re,{class:""},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(oe,{sm:"6",class:"fw-bold"}),Object(c["createVNode"])(oe,{sm:"6",class:"text-end"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Dewasa: "+Object(c["toDisplayString"])(t.adult)+"    Anak: "+Object(c["toDisplayString"])(t.child)+"    Bayi: "+Object(c["toDisplayString"])(t.infant),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),O,Object(c["createVNode"])(de,null,{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",j,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(ae.groupByFlight(t.details),(e,t)=>(Object(c["openBlock"])(),Object(c["createBlock"])(re,{key:t,class:"mb-4"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(oe,{cols:"12",class:"text-start fw-bold mb-3 text-decoration-underline"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])("D"==t?"Keberangkatan":"Kepulangan"),1)]),_:2},1024),Object(c["createVNode"])(oe,{col:"12"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(le,null,{default:Object(c["withCtx"])(()=>[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e,(e,t)=>(Object(c["openBlock"])(),Object(c["createBlock"])(re,{key:e.id,class:"mb-4"},{default:Object(c["withCtx"])(()=>[1==parseInt(e.segment_count)&&0!=t?(Object(c["openBlock"])(),Object(c["createElementBlock"])("hr",u)):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(oe,{md:"3",class:"d-flex justify-between"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",null,[Object(c["createElementVNode"])("img",{src:e.image_url,style:{width:"30px","margin-right":"10px"}},null,8,p),Object(c["createElementVNode"])("b",V,Object(c["toDisplayString"])(e.flight_number),1),Object(c["createElementVNode"])("div",null,"Class: "+Object(c["toDisplayString"])(e.class),1),Object(c["createElementVNode"])("div",null,"Sub Class: "+Object(c["toDisplayString"])(e.sub_class),1)])]),_:2},1024),Object(c["createVNode"])(oe,{md:"3"},{default:Object(c["withCtx"])(()=>[h,Object(c["createElementVNode"])("b",N,Object(c["toDisplayString"])(e.pnr),1)]),_:2},1024),Object(c["createVNode"])(oe,{md:"3"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("b",E,Object(c["toDisplayString"])(e.std),1),Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(e.etd)+" LT",1)]),_:2},1024),Object(c["createVNode"])(oe,{md:"3",class:""},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("b",f,Object(c["toDisplayString"])(e.sta),1),Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(e.eta)+" LT",1)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))])]),_:2},1024),Object(c["createVNode"])(de,{class:"border-top"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(re,{class:"text-center"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(oe,{class:""},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Paxpaid: "),Object(c["createElementVNode"])("b",g,Object(c["toDisplayString"])(e.$filters.currency(t.paxpaid)),1),Object(c["createElementVNode"])("div",null,[Object(c["createTextVNode"])(" NTA: "),Object(c["createElementVNode"])("b",y,Object(c["toDisplayString"])(e.$filters.currency(t.nta)),1)])]),_:2},1024),Object(c["createVNode"])(oe,{class:""},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" NRA: "),Object(c["createElementVNode"])("b",null,Object(c["toDisplayString"])(e.$filters.currency(t.nra)),1)]),_:2},1024),Object(c["createVNode"])(oe,{class:""},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Pajak: "),Object(c["createElementVNode"])("b",x,Object(c["toDisplayString"])(e.$filters.currency(t.tax)),1),Object(c["createElementVNode"])("div",null,[Object(c["createTextVNode"])(" Komisi : "),Object(c["createElementVNode"])("b",null,Object(c["toDisplayString"])(e.$filters.currency(t.commission)),1)])]),_:2},1024),Object(c["createVNode"])(oe,{class:""},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Pusat: "),Object(c["createElementVNode"])("b",null,Object(c["toDisplayString"])(e.$filters.currency(t.commission_pusat)),1),Object(c["createElementVNode"])("div",null,[Object(c["createTextVNode"])(" Mitra : "),Object(c["createElementVNode"])("b",null,Object(c["toDisplayString"])(e.$filters.currency(t.commission_client)),1)])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):Object(c["createCommentVNode"])("",!0),te.data&&te.data.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])(re,{key:1,class:"mt-2"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(oe,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(le,{class:"mb-2"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(se,{class:""},{default:Object(c["withCtx"])(()=>[v]),_:1}),Object(c["createVNode"])(de,null,{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",_,[Object(c["createElementVNode"])("table",k,[w,Object(c["createElementVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(te.data[0].passengers,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:t},[Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.title)+". "+Object(c["toDisplayString"])(e.first_name)+" "+Object(c["toDisplayString"])(e.last_name)+" ("+Object(c["toDisplayString"])(e.passanger_type)+") ",1),Object(c["createElementVNode"])("td",null,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.document?e.document.number:"-")+" ",1),D,Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(e.document?e.document.type:"-"),1)]),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.phone_number),1),Object(c["createElementVNode"])("td",null,[Object(c["createTextVNode"])(" Dep: "+Object(c["toDisplayString"])(e.ticket_number_dep?e.ticket_number_dep:"-")+" ",1),e.ticket_number_ret?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",C," Ret: "+Object(c["toDisplayString"])(e.ticket_number_ret),1)):Object(c["createCommentVNode"])("",!0)])]))),128))])])])]),_:1})]),_:1}),Object(c["createVNode"])(le,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(se,{class:""},{default:Object(c["withCtx"])(()=>[B]),_:1}),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(te.data,(t,a)=>(Object(c["openBlock"])(),Object(c["createBlock"])(de,{key:a},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("b",null,Object(c["toDisplayString"])(0==a?"Keberangkatan":"Kepulangan"),1),Object(c["createElementVNode"])("table",S,[Object(c["createElementVNode"])("tr",null,[T,Object(c["createElementVNode"])("td",$," : "+Object(c["toDisplayString"])(t.pnr),1)]),Object(c["createElementVNode"])("tr",null,[R,Object(c["createElementVNode"])("td",M," :"+Object(c["toDisplayString"])(e.$filters.dateTime(t.created_at)),1)]),Object(c["createElementVNode"])("tr",null,[F,Object(c["createElementVNode"])("td",P," : "+Object(c["toDisplayString"])(t.mmid),1)]),U,Object(c["createElementVNode"])("tr",null,[A,Object(c["createElementVNode"])("td",K,[Object(c["createTextVNode"])(" : "),t.issued_at?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",L,Object(c["toDisplayString"])(e.$filters.dateTime(t.issued_at)),1)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createTextVNode"])(" - ")],64))])]),Object(c["createElementVNode"])("tr",null,[I,Object(c["createElementVNode"])("td",q,[Object(c["createTextVNode"])(" : "),t.issued_at?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.issued_by?t.issued_by.name:t.mmid),1)],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createTextVNode"])(" - ")],64))])]),Object(c["createElementVNode"])("tr",null,[z,Object(c["createElementVNode"])("td",H,[Object(c["createTextVNode"])(" : "),t.cancel_at?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",G,Object(c["toDisplayString"])(e.$filters.dateTime(t.cancel_at)),1)):Object(c["createCommentVNode"])("",!0),J])]),Object(c["createElementVNode"])("tr",null,[W,Object(c["createElementVNode"])("td",Y,[Object(c["createTextVNode"])(" : "),t.cancel_at?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.cancel_by?t.cancel_by.name:t.mmid),1)],64)):Object(c["createCommentVNode"])("",!0),Q])]),Object(c["createElementVNode"])("tr",null,[X,Object(c["createElementVNode"])("td",Z," : "+Object(c["toDisplayString"])(t.notes||"-"),1)])])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):Object(c["createCommentVNode"])("",!0)],64))])}var te=a("6edf"),ae=a.n(te),ce={components:{},data(){return{modalOp:!1,modalData:{},id:"",data:[],loading:!1,old:{}}},computed:{},methods:{groupByFlight(e){return ae()(e,"flight")},reset(){},loadData(){this.loading=!0,this.$axios.get("/salesman/airlines/"+this.id).then(e=>{let t=e.data;this.old=t,this.data=t.data}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})}},mounted(){this.$route.params.id&&(this.id=this.$route.params.id,this.loadData())}},le=a("d959"),oe=a.n(le);const re=oe()(ce,[["render",ee]]);t["a"]=re},6372:function(e,t,a){},6936:function(e,t,a){"use strict";var c=a("7a23");const l={class:"col-md-12 col-sm-12"},o={class:"x_panel"},r={class:"x_content"},n={class:"table-responsive",style:{"min-height":"75vh"}},s={key:0,class:"row"},d={class:"col-sm-12 col-md-4 col-lg-4"},i={class:"col-sm-12 col-md-3 col-lg-3"},b={class:"input-group"},m={key:1,class:"row"},O={class:"col-sm-12"},j={class:"row"},u={class:"col-12 col-md-6"},p={class:"table table-bordered mb-3"},V=Object(c["createElementVNode"])("td",{style:{width:"150px"}},"Nama",-1),h=Object(c["createElementVNode"])("td",null,"Email",-1),N=Object(c["createElementVNode"])("td",null,"Kode",-1),E=Object(c["createElementVNode"])("td",null,"Username",-1),f={class:"col-12 col-md-6"},g={class:"table table-striped jambo_table bulk_action table-bordered mb-3",style:{"max-width":"350px"}},y=Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",null,"TOTAL BALANCE")])],-1),x={scope:"row text-bold"},v={class:"table table-striped jambo_table bulk_action table-bordered"},_=Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",null,"#"),Object(c["createElementVNode"])("th",null,"Kode"),Object(c["createElementVNode"])("th",null,"Deskripsi"),Object(c["createElementVNode"])("th",null,"Balance")])],-1),k={key:0},w=Object(c["createElementVNode"])("td",{colspan:"9",class:"text-center"}," Data tidak ditemukan ",-1),D=[w],C={scope:"row"},B={class:"text-end font-weight-bold"};function S(e,t,a,w,S,T){const $=Object(c["resolveComponent"])("select-mitra-base"),R=Object(c["resolveComponent"])("b-overlay");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",l,[Object(c["createElementVNode"])("div",o,[Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("div",n,[this.$route.query.user_id?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",s,[Object(c["createElementVNode"])("div",d,[Object(c["createVNode"])($,{onOnChange:T.setMitra,placeholder:"Semua Mitra"},null,8,["onOnChange"])]),Object(c["createElementVNode"])("div",i,[Object(c["createElementVNode"])("div",b,[Object(c["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=(...e)=>T.searchData&&T.searchData(...e))}," Cari ")])])])),S.isSubmit?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",m,[Object(c["createElementVNode"])("div",O,[Object(c["createVNode"])(R,{show:S.loading,rounded:"sm"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",j,[Object(c["createElementVNode"])("div",u,[Object(c["createElementVNode"])("table",p,[Object(c["createElementVNode"])("tbody",null,[Object(c["createElementVNode"])("tr",null,[V,Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("strong",null,Object(c["toDisplayString"])(S.mitra.name),1)])]),Object(c["createElementVNode"])("tr",null,[h,Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("strong",null,Object(c["toDisplayString"])(S.mitra.email),1)])]),Object(c["createElementVNode"])("tr",null,[N,Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("strong",null,Object(c["toDisplayString"])(S.mitra.code),1)])]),Object(c["createElementVNode"])("tr",null,[E,Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("strong",null,Object(c["toDisplayString"])(S.mitra.username),1)])])])])]),Object(c["createElementVNode"])("div",f,[Object(c["createElementVNode"])("table",g,[y,Object(c["createElementVNode"])("tbody",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("td",x,[Object(c["createElementVNode"])("strong",null,Object(c["toDisplayString"])(S.saldo?e.$filters.currency(S.saldo):"-"),1)])])])]),Object(c["createElementVNode"])("table",v,[_,Object(c["createElementVNode"])("tbody",null,[S.data.length<=0&&!S.loading?(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",k,D)):Object(c["createCommentVNode"])("",!0),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(S.data,(t,a)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:a},[Object(c["createElementVNode"])("td",C,Object(c["toDisplayString"])((S.options.current_page-1)*S.options.per_page+a+1),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.code),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.descriptions),1),Object(c["createElementVNode"])("td",B,Object(c["toDisplayString"])(t.amount?e.$filters.currency(t.amount):"-"),1)]))),128))])])])])]),_:1},8,["show"])])])):Object(c["createCommentVNode"])("",!0)])])])])}var T=a("b166"),$={components:{},data(){return{data:[],options:{current_page:1,total_row:0,per_page:1},search:{q:"",start_date:Object(T["a"])(new Date,"yyyy-MM-dd"),end_date:Object(T["a"])(new Date,"yyyy-MM-dd"),user_id:"",deposit_id:""},saldo:0,mitra:{},depositGroup:[],addMutation:!1,isSubmit:!1,loading:!1}},mounted(){this.$route.query.user_id&&(this.search.user_id=this.$route.query.user_id,this.searchData())},computed:{moreParams(){return{user_id:this.search.user_id}}},watch:{"options.current_page":{handler:function(){this.loadData()}}},methods:{searchData(){this.options.current_page=1,this.loadData()},setMitra(e){this.search.user_id=e?e.id:""},loadData(){this.search.user_id?(this.isSubmit=!0,this.loading=!0,this.$axios.get("salesman/deposit/"+this.search.user_id+"/balance",{params:{}}).then(e=>{this.loading=!1,this.data=e.data.data,this.saldo=e.data.saldo,this.mitra=e.data.mitra}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})):this.$root.notif("harus pilih mitra dahulu",{type:"error",position:"top"})}}},R=(a("ac4a"),a("d959")),M=a.n(R);const F=M()($,[["render",S]]);t["a"]=F},"6b5b":function(e,t,a){"use strict";var c=a("7a23");const l={class:""},o={class:"row"},r={class:"col-sm-12 col-md-4 col-lg-4"},n={class:"col-sm-12 col-md-2 col-lg-2"},s={class:"col-sm-12 col-md-3 col-lg-3"},d={class:"col-sm-12 col-md-2 col-lg-2"},i={class:"col-sm-12 col-md-1 col-lg-1"},b={class:"table-responsive",style:{"min-height":"75vh"}},m={class:"row"},O={class:"col-sm-12"},j={class:"table-responsive table-responsive-sticky"},u={class:"table table-striped jambo_table bulk_action table-bordered"},p=Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",null,[Object(c["createTextVNode"])(" ID Transaksi "),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])(" ID Refund ")]),Object(c["createElementVNode"])("th",null," Tanggal Pengajuan "),Object(c["createElementVNode"])("th",null," Status Pengajuan "),Object(c["createElementVNode"])("th",null," Tanggal Refund "),Object(c["createElementVNode"])("th",null," Mitra "),Object(c["createElementVNode"])("th",null," Supplier "),Object(c["createElementVNode"])("th",null," Rute "),Object(c["createElementVNode"])("th",null," Total Refund "),Object(c["createElementVNode"])("th",null," Tanggal Expired "),Object(c["createElementVNode"])("th",null," Refund By "),Object(c["createElementVNode"])("th",null," PNR "),Object(c["createElementVNode"])("th",null," # ")])],-1),V={key:0},h=Object(c["createElementVNode"])("td",{colspan:"18",class:"text-center"}," Data tidak ditemukan ",-1),N=[h],E={style:{"min-width":"200px"}},f={class:"text-success"},g={class:"text-warning"},y={style:{"min-width":"150px"}},x={key:0},v={style:{"min-width":"100px"}},_=Object(c["createElementVNode"])("div",{class:""},null,-1),k={class:"d-flex"},w=Object(c["createElementVNode"])("div",{class:"px-3"},"-",-1),D={class:"text-end"},C={style:{"min-width":"140px"}};function B(e,t,a,h,B,S){const T=Object(c["resolveComponent"])("input-date-picker-range-base"),$=Object(c["resolveComponent"])("select-mitra-base"),R=Object(c["resolveComponent"])("select-base"),M=Object(c["resolveComponent"])("routerLink"),F=Object(c["resolveComponent"])("statusbadge-base"),P=Object(c["resolveComponent"])("mitra-link-base"),U=Object(c["resolveComponent"])("b-button"),A=Object(c["resolveComponent"])("b-overlay"),K=Object(c["resolveComponent"])("paging-base");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",l,[Object(c["createElementVNode"])("div",o,[Object(c["createElementVNode"])("div",r,[Object(c["createVNode"])(T,{start_date:B.search.start_date,"onUpdate:start_date":t[0]||(t[0]=e=>B.search.start_date=e),end_date:B.search.end_date,"onUpdate:end_date":t[1]||(t[1]=e=>B.search.end_date=e),"max-date":new Date},null,8,["start_date","end_date","max-date"])]),Object(c["createElementVNode"])("div",n,[Object(c["createVNode"])($,{onOnChange:S.setMitra},null,8,["onOnChange"])]),Object(c["createElementVNode"])("div",s,[Object(c["createVNode"])(R,{options:B.airlines,placeholder:"Pilih maskapai",modelValue:B.search.airline,"onUpdate:modelValue":t[2]||(t[2]=e=>B.search.airline=e)},null,8,["options","modelValue"])]),Object(c["createElementVNode"])("div",d,[Object(c["createVNode"])(R,{options:B.status,placeholder:"Pilih status",onOnChange:S.setStatus},null,8,["options","onOnChange"])]),Object(c["createElementVNode"])("div",i,[Object(c["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[3]||(t[3]=(...e)=>S.searchData&&S.searchData(...e))},"Cari")])]),Object(c["createElementVNode"])("div",b,[Object(c["createElementVNode"])("div",m,[Object(c["createElementVNode"])("div",O,[Object(c["createVNode"])(A,{show:B.loading,rounded:"sm"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",j,[Object(c["createElementVNode"])("table",u,[p,Object(c["createElementVNode"])("tbody",null,[B.data.length<=0&&!B.loading?(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",V,N)):Object(c["createCommentVNode"])("",!0),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(B.data,(t,a)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:a},[Object(c["createElementVNode"])("td",E,[Object(c["createElementVNode"])("div",f,[Object(c["createVNode"])(M,{target:"_blank ",class:"text-decoration-underline text-success",to:{name:"app.airlines.transaction",params:{id:t.transaction.trx_no}}},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.transaction.trx_no),1)]),_:2},1032,["to"])]),Object(c["createElementVNode"])("div",g,[Object(c["createVNode"])(M,{target:"_blank ",class:"text-decoration-underline text-warning",to:{name:"app.airlines.refund-form",params:{id:t.id}}},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.id_refund),1)]),_:2},1032,["to"])])]),Object(c["createElementVNode"])("td",y,Object(c["toDisplayString"])(t.created_at?e.$filters.dateTime(t.created_at):"-"),1),Object(c["createElementVNode"])("td",null,[Object(c["createVNode"])(F,{status:t.status_label,label:t.status_label},null,8,["status","label"]),t.active_operator?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",x," Operator: "+Object(c["toDisplayString"])(t.active_operator?t.active_operator.name:"-"),1)):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("td",v,Object(c["toDisplayString"])(t.tgl_refund?e.$filters.date(t.tgl_refund):"-"),1),Object(c["createElementVNode"])("td",null,[Object(c["createVNode"])(P,{mitra:t.mitra},null,8,["mitra"])]),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.details?t.details[0].supplier_code:"-"),1),Object(c["createElementVNode"])("td",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(t.details,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"mb-2 align-items-center justify-content-between",key:t},[_,Object(c["createElementVNode"])("div",k,[Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(e.org),1),w,Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(e.des),1)])]))),128))]),Object(c["createElementVNode"])("td",D,Object(c["toDisplayString"])(e.$filters.currency(t.fee-t.admin)),1),Object(c["createElementVNode"])("td",C,Object(c["toDisplayString"])(e.$filters.dateTime(t.timelimit)),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.rf_by?t.rf_by:"-"),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.pnrs?t.pnrs:"-"),1),Object(c["createElementVNode"])("td",null,[S.showConfirm(t)?(Object(c["openBlock"])(),Object(c["createBlock"])(U,{key:0,size:"sm",title:"confirm",variant:"success",onClick:e=>S.goToConfirm(t)},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Proses ")]),_:2},1032,["onClick"])):Object(c["createCommentVNode"])("",!0),S.showChangeOp(t)?(Object(c["openBlock"])(),Object(c["createBlock"])(U,{key:1,size:"sm",title:"ganti operator",variant:"warning",onClick:e=>S.changeOp(t)},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Operator ")]),_:2},1032,["onClick"])):Object(c["createCommentVNode"])("",!0)])]))),128))])])])]),_:1},8,["show"])])]),B.data.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])(K,{key:0,modelValue:B.options.current_page,"onUpdate:modelValue":t[4]||(t[4]=e=>B.options.current_page=e),options:B.options},null,8,["modelValue","options"])):Object(c["createCommentVNode"])("",!0)])])}a("14d9");var S=a("b166"),T=a("5502"),$={components:{},props:{typeProduct:{type:String,default:"pascabayar"}},data(){return{modalOp:!1,modalData:{},categories:[],airlines:[],status:[{code:1,name:"Pengajuan"},{code:2,name:"Menunggu Konfirmasi"},{code:3,name:"Konfirmasi"},{code:4,name:"Refund"},{code:9,name:"Cancel"},{code:10,name:"Failed"}],data:[],users:[],options:{current_page:1,total_row:0,per_page:1},search:{q:"",start_date:Object(S["a"])(new Date,"yyyy-MM-01"),end_date:Object(S["a"])(new Date,"yyyy-MM-dd"),user_id:"",status:"",airline:""},loading:!1}},mounted(){this.search.type=this.typeProduct,this.searchData(),this.loadAirlines()},computed:{...Object(T["b"])({user:"auth/user"}),moreParams(){return{page:this.options.current_page,q:this.search.q,start_date:this.search.start_date,end_date:this.search.end_date,user_id:this.search.user_id,status:this.search.status,airline_code:this.search.airline?this.search.airline.code:""}}},watch:{"options.current_page":{handler:function(){this.loadData()}}},methods:{showConfirm(e){let t=1==e.status;if(t&&!e.staff)return!0;if(t&&e.staff){let t=e.staff.phone==this.user.phone;return!!t}if(t=3==e.status,t&&!e.staff_done&&!e.rf_by)return!0;if(t&&e.staff_done&&!e.rf_by){let t=e.staff_done.phone==this.user.phone;if(t)return!0}if(t=4==e.status,t&&!e.staff_done2&&!e.rf_by)return!0;if(t&&e.staff_done2&&!e.rf_by){let t=e.staff_done2.phone==this.user.phone;if(t)return!0}return!1},showChangeOp(e){return!!e.active_operator},async goToConfirm(e){await this.selectedOp(e),this.$router.push({name:"app.airlines.refund-form",params:{id:e.id,action:"confirm"}})},async selectedOp(e){let t={operator_id:"self"},a=()=>this.$axios.post(`/airlines/refund/${e.id}/change-operator`,t);this.$store.dispatch("loading",!0),await a().then(e=>{this.$root.notif(e.message),this.form={}}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.$store.dispatch("loading",!1)})},changeOp(e){this.modalData=e,this.modalOp=!0},changeStatus(e){this.modalData=e,this.modalStatus=!0},searchData(){this.options.current_page=1,this.loadData()},setMitra(e){this.search.user_id=e?e.id:""},setStatus(e){this.search.status=e?e.code:""},loadData(){this.loading=!0,this.$axios.get("/airlines/refund",{params:this.moreParams}).then(e=>{this.loading=!1,this.data=e.data.data,this.options.total_row=e.data.meta.total,this.options.per_page=e.data.meta.per_page}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})},loadUsers(){this.$axios.get("/users",{params:{role:"operator"}}).then(e=>{this.loading=!1,this.users=e.data.data}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{})},loadAirlines(){this.$axios.get("/products",{params:{parents:"AIRD,AIRI"}}).then(e=>{this.loading=!1,this.airlines=e.data.data}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{})}}},R=a("d959"),M=a.n(R);const F=M()($,[["render",B]]);t["a"]=F},"84a1":function(e,t,a){"use strict";var c=a("7a23");const l={class:"pb-2"},o=Object(c["createElementVNode"])("h2",null,null,-1),r={class:"nav navbar-right panel_toolbox"},n=Object(c["createElementVNode"])("i",{class:"fa fa-arrow-left"},null,-1),s={class:"text-lg text-blue text-capitalize"},d={class:"text-pnr"},i=Object(c["createElementVNode"])("br",null,null,-1),b={class:"text-order-number"},m={class:"text-center mb-3"},O=["src"],j={class:"text-green fw-bold"},u=Object(c["createElementVNode"])("div",null,"PNR",-1),p={class:"text-pnr"},V={class:"text-blue"},h={class:"text-blue"},N={class:"text-primary"},E={class:"text-danger"},f={class:"text-orange"},g=Object(c["createElementVNode"])("hr",null,null,-1),y=Object(c["createElementVNode"])("b",null,"Daftar Penumpang",-1),x={class:"table-responsive"},v={class:"table text-center table-striped table-md"},_=Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",null,"Name"),Object(c["createElementVNode"])("th",null,[Object(c["createTextVNode"])(" Document "),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])(" Doc Number ")]),Object(c["createElementVNode"])("th",null,"Phone Number")],-1),k=Object(c["createElementVNode"])("br",null,null,-1),w=Object(c["createElementVNode"])("hr",null,null,-1),D=Object(c["createElementVNode"])("b",null,"Rebook Flight",-1),C={class:"text-center mb-3"},B=["src"],S={class:"text-green fw-bold"},T=Object(c["createElementVNode"])("div",null,"PNR",-1),$={class:"px-2"},R={class:"text-pnr"},M={class:"text-blue"},F={class:"text-blue"},P=Object(c["createElementVNode"])("h4",null,"Detail Rebook",-1),U=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"ID Rebook",-1),A={class:"text-bold text-pnr"},K=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Tgl Pengajuan",-1),L={class:"text-bold text-time-booking"},I=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"MMID",-1),q={class:"text-bold"},z=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Timelimit",-1),H={class:"text-bold text-time-limit"},G=Object(c["createElementVNode"])("td",{style:{width:"140px"},class:"text-capitalize"}," Rebook Fee ",-1),J={class:"text-bold text-warning"},W=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Admin Fee",-1),Y={class:"text-bold text-info"},Q=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Status",-1),X={class:"text-bold"},Z=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Tgl Rebook",-1),ee={class:"text-bold"},te=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Tgl Confirm",-1),ae={class:"text-bold"},ce=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Rf By",-1),le={class:"text-bold"},oe=Object(c["createElementVNode"])("hr",null,null,-1),re=Object(c["createElementVNode"])("h5",null,"Konfirmasi 1",-1),ne=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Staff",-1),se={class:"text-bold"},de=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Note",-1),ie={class:"text-bold"},be=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Note Internal",-1),me={class:"text-bold"},Oe=Object(c["createElementVNode"])("hr",null,null,-1),je=Object(c["createElementVNode"])("h5",null,"Konfirmasi 2",-1),ue=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Staff",-1),pe={class:"text-bold"},Ve=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Note",-1),he={class:"text-bold"},Ne=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Note Internal",-1),Ee={class:"text-bold"},fe=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Tgl",-1),ge={class:"text-bold"},ye=Object(c["createElementVNode"])("hr",null,null,-1),xe={key:4},ve=Object(c["createElementVNode"])("div",{class:"alert h5 alert-warning",role:"alert"}," Akses dilarang ",-1),_e=[ve];function ke(e,t,a,ve,ke,we){const De=Object(c["resolveComponent"])("b-skeleton"),Ce=Object(c["resolveComponent"])("b-card"),Be=Object(c["resolveComponent"])("b-col"),Se=Object(c["resolveComponent"])("b-row"),Te=Object(c["resolveComponent"])("StatusbadgeBase"),$e=Object(c["resolveComponent"])("b-card-header"),Re=Object(c["resolveComponent"])("b-card-body"),Me=Object(c["resolveComponent"])("Form1"),Fe=Object(c["resolveComponent"])("Form2"),Pe=Object(c["resolveComponent"])("Form3");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",l,[ke.loading?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createVNode"])(Ce,{class:"mb-2"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(De,{width:"85%"}),Object(c["createVNode"])(De,{width:"55%"}),Object(c["createVNode"])(De,{width:"70%"})]),_:1}),Object(c["createVNode"])(Ce,{class:"mb-2"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(De,{width:"85%"}),Object(c["createVNode"])(De,{width:"55%"}),Object(c["createVNode"])(De,{width:"70%"})]),_:1}),Object(c["createVNode"])(Ce,{class:"mb-2"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(De,{width:"85%"}),Object(c["createVNode"])(De,{width:"55%"}),Object(c["createVNode"])(De,{width:"70%"})]),_:1})],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createVNode"])(Se,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Be,null,{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",null,[o,Object(c["createElementVNode"])("ul",r,[Object(c["createElementVNode"])("li",null,[Object(c["createElementVNode"])("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:t[0]||(t[0]=t=>e.$router.back())},[n,Object(c["createTextVNode"])(" Kembali ")])])])])]),_:1})]),_:1}),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(we.multiTripJourney,(t,a)=>(Object(c["openBlock"])(),Object(c["createBlock"])(Se,{class:"mt-2 mb-4",key:a},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Be,{col:"12"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Ce,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])($e,{class:"py-2"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Se,{class:""},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Be,{class:"fw-bold d-flex flex-column justify-center"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("span",s," Supplier : "+Object(c["toDisplayString"])(t.trx.supplier_code),1),Object(c["createElementVNode"])("div",null,[Object(c["createTextVNode"])(" PNR : "),Object(c["createElementVNode"])("b",d,Object(c["toDisplayString"])(t.trx.pnr),1)])]),_:2},1024),Object(c["createVNode"])(Be,{class:"text-center"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Status:"),i,Object(c["createVNode"])(Te,{label:t.trx_status,class:"text-sm"},null,8,["label"])]),_:2},1024),Object(c["createVNode"])(Be,{class:"text-end d-flex flex-column justify-center"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" No Transaksi: "),Object(c["createElementVNode"])("strong",b,Object(c["toDisplayString"])(t.trx.trx_no),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),Object(c["createVNode"])(Re,null,{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",m,[Object(c["createVNode"])(Ce,null,{default:Object(c["withCtx"])(()=>[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(t.flights,(e,t)=>(Object(c["openBlock"])(),Object(c["createBlock"])(Se,{key:t,class:"mb-4"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Be,{md:"3",class:"d-flex justify-between"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",null,[Object(c["createElementVNode"])("img",{src:e.image_url,style:{width:"30px","margin-right":"10px"}},null,8,O),Object(c["createElementVNode"])("b",j,Object(c["toDisplayString"])(e.flight_number),1),Object(c["createElementVNode"])("div",null,"Class: "+Object(c["toDisplayString"])(e.class),1),Object(c["createElementVNode"])("div",null,"Sub Class: "+Object(c["toDisplayString"])(e.sub_class),1)])]),_:2},1024),Object(c["createVNode"])(Be,{md:"3"},{default:Object(c["withCtx"])(()=>[u,Object(c["createElementVNode"])("b",p,Object(c["toDisplayString"])(e.pnr),1)]),_:2},1024),Object(c["createVNode"])(Be,{md:"3"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("b",V,Object(c["toDisplayString"])(e.std),1),Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(e.etd)+" LT",1)]),_:2},1024),Object(c["createVNode"])(Be,{md:"3",class:""},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("b",h,Object(c["toDisplayString"])(e.sta),1),Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(e.eta)+" LT",1)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)])]),_:2},1024),Object(c["createVNode"])(Re,{class:"border-top"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Se,{class:"text-center"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Be,{class:""},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Paxpaid: "),Object(c["createElementVNode"])("b",N,Object(c["toDisplayString"])(e.$filters.currency(t.trx.paxpaid)),1),Object(c["createElementVNode"])("div",null,[Object(c["createTextVNode"])(" NTA: "),Object(c["createElementVNode"])("b",E,Object(c["toDisplayString"])(e.$filters.currency(t.trx.nta)),1)])]),_:2},1024),Object(c["createVNode"])(Be,{class:""},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" NRA: "),Object(c["createElementVNode"])("b",null,Object(c["toDisplayString"])(e.$filters.currency(t.trx.nra)),1)]),_:2},1024),Object(c["createVNode"])(Be,{class:""},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Pajak: "),Object(c["createElementVNode"])("b",f,Object(c["toDisplayString"])(e.$filters.currency(t.trx.tax)),1),Object(c["createElementVNode"])("div",null,[Object(c["createTextVNode"])(" Komisi : "),Object(c["createElementVNode"])("b",null,Object(c["toDisplayString"])(e.$filters.currency(t.trx.commission)),1)])]),_:2},1024),Object(c["createVNode"])(Be,{class:""},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Pusat: "),Object(c["createElementVNode"])("b",null,Object(c["toDisplayString"])(e.$filters.currency(t.trx.commission_pusat)),1),Object(c["createElementVNode"])("div",null,[Object(c["createTextVNode"])(" Mitra : "),Object(c["createElementVNode"])("b",null,Object(c["toDisplayString"])(e.$filters.currency(t.trx.commission_client)),1)])]),_:2},1024)]),_:2},1024)]),_:2},1024),g,Object(c["createVNode"])($e,{class:""},{default:Object(c["withCtx"])(()=>[y]),_:1}),Object(c["createVNode"])(Re,null,{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",x,[Object(c["createElementVNode"])("table",v,[_,Object(c["createElementVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(t.passengers_map,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:t},[Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.passenger.title)+". "+Object(c["toDisplayString"])(e.passenger.first_name)+" "+Object(c["toDisplayString"])(e.passenger.last_name)+" ("+Object(c["toDisplayString"])(e.passenger.passanger_type)+") ",1),Object(c["createElementVNode"])("td",null,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.passenger.document?e.passenger.document.number:"-")+" ",1),k,Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(e.passenger.document?e.passenger.document.type:"-"),1)]),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.passenger.phone_number),1)]))),128))])])])]),_:2},1024),w,Object(c["createVNode"])($e,{class:""},{default:Object(c["withCtx"])(()=>[D]),_:1}),Object(c["createVNode"])(Re,null,{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",C,[Object(c["createVNode"])(Ce,null,{default:Object(c["withCtx"])(()=>[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(t.rebook_flights.segments,(e,t)=>(Object(c["openBlock"])(),Object(c["createBlock"])(Se,{key:t,class:"mb-4"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Be,{md:"3",class:"d-flex justify-between"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",null,[Object(c["createElementVNode"])("img",{src:e.image_url,style:{width:"30px","margin-right":"10px"}},null,8,B),Object(c["createElementVNode"])("b",S,Object(c["toDisplayString"])(e.flight_number),1),Object(c["createElementVNode"])("div",null,"Class: "+Object(c["toDisplayString"])(e.class),1),Object(c["createElementVNode"])("div",null,"Sub Class: "+Object(c["toDisplayString"])(e.sub_class),1)])]),_:2},1024),Object(c["createVNode"])(Be,{md:"3"},{default:Object(c["withCtx"])(()=>[T,Object(c["createElementVNode"])("div",$,[Object(c["createElementVNode"])("b",R,Object(c["toDisplayString"])(e.pnr),1)])]),_:2},1024),Object(c["createVNode"])(Be,{md:"3"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("b",M,Object(c["toDisplayString"])(e.std),1),Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(e.etd)+" LT",1)]),_:2},1024),Object(c["createVNode"])(Be,{md:"3",class:""},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("b",F,Object(c["toDisplayString"])(e.sta),1),Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(e.eta)+" LT",1)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),Object(c["createVNode"])(Se,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Be,null,{default:Object(c["withCtx"])(()=>["confirm"!=e.$route.params.action?(Object(c["openBlock"])(),Object(c["createBlock"])(Ce,{key:0},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])($e,{class:""},{default:Object(c["withCtx"])(()=>[P]),_:1}),Object(c["createVNode"])(Re,null,{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("table",null,[Object(c["createElementVNode"])("tr",null,[U,Object(c["createElementVNode"])("td",A," : "+Object(c["toDisplayString"])(ke.data.id_rebook),1)]),Object(c["createElementVNode"])("tr",null,[K,Object(c["createElementVNode"])("td",L," : "+Object(c["toDisplayString"])(e.$filters.dateTime(ke.data.created_at)),1)]),Object(c["createElementVNode"])("tr",null,[I,Object(c["createElementVNode"])("td",q," : "+Object(c["toDisplayString"])(ke.data.mmid),1)]),Object(c["createElementVNode"])("tr",null,[z,Object(c["createElementVNode"])("td",H,[Object(c["createTextVNode"])(" : "),ke.data.timelimit?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$filters.dateTime(ke.data.timelimit)),1)],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createTextVNode"])(" - ")],64))])]),Object(c["createElementVNode"])("tr",null,[G,Object(c["createElementVNode"])("td",J,[Object(c["createTextVNode"])(" : "),Object(c["createElementVNode"])("template",null,[ke.data.fee?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$filters.currency(ke.data.fee)),1)],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createTextVNode"])(" - ")],64))])])]),Object(c["createElementVNode"])("tr",null,[W,Object(c["createElementVNode"])("td",Y,[Object(c["createTextVNode"])(" : "),ke.data.admin?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$filters.currency(ke.data.admin)),1)],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createTextVNode"])(" - ")],64))])]),Object(c["createElementVNode"])("tr",null,[Q,Object(c["createElementVNode"])("td",X," : "+Object(c["toDisplayString"])(ke.data.status_label),1)]),Object(c["createElementVNode"])("tr",null,[Z,Object(c["createElementVNode"])("td",ee,[Object(c["createTextVNode"])(" : "),ke.data.tgl_rebook?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$filters.dateTime(ke.data.tgl_rebook)),1)],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createTextVNode"])(" - ")],64))])]),Object(c["createElementVNode"])("tr",null,[te,Object(c["createElementVNode"])("td",ae,[Object(c["createTextVNode"])(" : "),ke.data.tgl_confirm?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$filters.dateTime(ke.data.tgl_confirm)),1)],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createTextVNode"])(" - ")],64))])]),Object(c["createElementVNode"])("tr",null,[ce,Object(c["createElementVNode"])("td",le,[Object(c["createTextVNode"])(" : "),ke.data.rb_by?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createTextVNode"])(Object(c["toDisplayString"])(ke.data.rb_by),1)],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createTextVNode"])(" - ")],64))])])]),oe,re,Object(c["createElementVNode"])("table",null,[Object(c["createElementVNode"])("tr",null,[ne,Object(c["createElementVNode"])("td",se," : "+Object(c["toDisplayString"])(ke.data.staff?ke.data.staff.name:"-"),1)]),Object(c["createElementVNode"])("tr",null,[de,Object(c["createElementVNode"])("td",ie," : "+Object(c["toDisplayString"])(ke.data.staff_note?ke.data.staff_note:"-"),1)]),Object(c["createElementVNode"])("tr",null,[be,Object(c["createElementVNode"])("td",me," : "+Object(c["toDisplayString"])(ke.data.staff_internal_note?ke.data.staff_internal_note:"-"),1)])]),Oe,je,Object(c["createElementVNode"])("table",null,[Object(c["createElementVNode"])("tr",null,[ue,Object(c["createElementVNode"])("td",pe," : "+Object(c["toDisplayString"])(ke.data.staff_done?ke.data.staff_done.name:"-"),1)]),Object(c["createElementVNode"])("tr",null,[Ve,Object(c["createElementVNode"])("td",he," : "+Object(c["toDisplayString"])(ke.data.note_done?ke.data.note_done:"-"),1)]),Object(c["createElementVNode"])("tr",null,[Ne,Object(c["createElementVNode"])("td",Ee," : "+Object(c["toDisplayString"])(ke.data.staff_internal_note_done?ke.data.staff_internal_note_done:"-"),1)]),Object(c["createElementVNode"])("tr",null,[fe,Object(c["createElementVNode"])("td",ge,[Object(c["createTextVNode"])(" : "),ke.data.tgl_done?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$filters.dateTime(ke.data.tgl_done)),1)],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createTextVNode"])(" - ")],64))])])]),ye]),_:1})]),_:1})):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[we.isShowForm?(Object(c["openBlock"])(),Object(c["createBlock"])(Me,{key:0,data:ke.data,type:"rebook"},null,8,["data"])):we.isShowForm2?(Object(c["openBlock"])(),Object(c["createBlock"])(Fe,{key:1,data:ke.data,type:"rebook"},null,8,["data"])):we.isShowForm3?(Object(c["openBlock"])(),Object(c["createBlock"])(Pe,{key:2,data:ke.data,type:"rebook"},null,8,["data"])):we.isDone?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:3},[],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",xe,_e))],64))]),_:1})]),_:1})],64))])}var we=a("30df"),De=a("fcc8"),Ce=a("8b3b"),Be=a("5502"),Se={components:{Form1:we["a"],Form2:De["a"],Form3:Ce["a"]},data(){return{modalOp:!1,modalData:{},id:"",data:{},loading:!1,old:{}}},computed:{...Object(Be["b"])({user:"auth/user"}),isMultiTrip(){return!0},multiTripJourney(){return this.data.details},isShowForm(){return 1==this.data.status&&this.user.phone==this.data.staff.phone},isShowForm2(){return!(3!=this.data.status||!this.data.staff_done||this.user.phone!=this.data.staff_done.phone||this.data.rb_by)},isShowForm3(){return!(3!=this.data.status||!this.data.staff_done2||this.user.phone!=this.data.staff_done2.phone||!this.data.rb_by)},isDone(){return this.data.status>=4},transaction(){return this.data.transaction?this.data.transaction:{}}},watch:{data:{deep:!0,handler:function(){this.$eventBus.$emit("loadDataPassengerRebook",this.data.details)}}},methods:{reset(){},loadData(){this.loading=!0,this.$axios.get("/airlines/rebook/"+this.id).then(e=>{let t=e.data;this.data=t}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})}},mounted(){this.$route.params.id&&(this.id=this.$route.params.id,this.loadData()),"confirm"==this.$route.params.action?this.$root.setPageTitle("Konfirmasi Rebook Maskapai"):this.$root.setPageTitle("Detail Rebook Maskapai")}},Te=a("d959"),$e=a.n(Te);const Re=$e()(Se,[["render",ke]]);t["a"]=Re},"8b3b":function(e,t,a){"use strict";var c=a("7a23");const l={class:"card"},o={class:"row"},r={class:"col-3"},n={class:""},s=Object(c["createElementVNode"])("div",{class:"card-header h-4"},"Trx Saat ini",-1),d={class:"card-body"},i={class:"row mb-4"},b=Object(c["createElementVNode"])("div",{class:"col-12"},"Kode Booking",-1),m={class:"col-12"},O={class:"row mb-4"},j=Object(c["createElementVNode"])("div",{class:"col-12"},"Paxpaid",-1),u={class:"col-12"},p={class:"row mb-4"},V=Object(c["createElementVNode"])("div",{class:"col-12"},"Debit",-1),h={class:"col-12"},N={class:"col"},E={class:""},f=Object(c["createElementVNode"])("div",{class:"card-header h-4 text-capitalize"},"Konfirmasi Harga",-1),g={class:"card-body"},y={class:"row mb-4"},x={class:"col-12 text-capitalize"},v={class:"col-12"},_={class:"row mb-4"},k=Object(c["createElementVNode"])("div",{class:"col-12 text-capitalize"},"Fee",-1),w={class:"col-12"},D={class:"row mb-4"},C=Object(c["createElementVNode"])("div",{class:"col-12"},"Admin Fee",-1),B={class:"col-12"},S={key:0,class:"row mb-4"},T={class:"col-12"},$={class:"col-12"},R={class:"row mb-4"},M=Object(c["createElementVNode"])("div",{class:"col-12"},"Timelimit",-1),F={class:"col-12"},P={class:"row"},U={class:"col-12 mb-4"},A=["value"],K={class:"col"},L={class:""},I=Object(c["createElementVNode"])("div",{class:"card-header h-4"},"Proses Pendebitan",-1),q={class:"card-body"},z={class:"row mb-4"},H=Object(c["createElementVNode"])("div",{class:"col-12"},"Status Persetujan",-1),G={class:"col-12"},J=Object(c["createElementVNode"])("option",{value:""},"Pilih Status",-1),W=Object(c["createElementVNode"])("option",null,null,-1),Y=Object(c["createElementVNode"])("option",{value:"1"},"Disetujui Refund ke Saldo",-1),Q=Object(c["createElementVNode"])("option",null,null,-1),X=Object(c["createElementVNode"])("option",{value:"2"},"Disetujui Saja Tanpa Refund ke Saldo",-1),Z=[J,W,Y,Q,X],ee={class:"row mb-4"},te=Object(c["createElementVNode"])("div",{class:"col-12"},"Staff Note Done 2",-1),ae={class:"col-12"},ce={class:"row mb-4"},le=Object(c["createElementVNode"])("div",{class:"col-12"},"Password",-1),oe={class:"col-12"},re={class:"row mb-4"},ne=Object(c["createElementVNode"])("div",{class:"col-12"},"Kode Akses",-1),se={class:"col-12"},de=["src"],ie={class:"row mb-4"},be={class:"col text-end"};function me(e,t,a,J,W,Y){const Q=Object(c["resolveComponent"])("b-card-header"),X=Object(c["resolveComponent"])("input-currency-base"),me=Object(c["resolveComponent"])("b-form-input"),Oe=Object(c["resolveComponent"])("b-button"),je=Object(c["resolveComponent"])("b-input-group-append"),ue=Object(c["resolveComponent"])("b-input-group"),pe=Object(c["resolveComponent"])("b-card-body");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",l,[Object(c["createVNode"])(Q,{class:"text-cepitalize"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("h4",null,"Konfirmasi Harga "+Object(c["toDisplayString"])(a.type),1)]),_:1}),Object(c["createVNode"])(pe,null,{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",o,[Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("div",n,[s,Object(c["createElementVNode"])("div",d,[Object(c["createElementVNode"])("div",i,[b,Object(c["createElementVNode"])("div",m,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>W.formData.pnr=e),type:"text",class:"form-control",disabled:""},null,512),[[c["vModelText"],W.formData.pnr]])])]),Object(c["createElementVNode"])("div",O,[j,Object(c["createElementVNode"])("div",u,[Object(c["createVNode"])(X,{type:"text",class:"form-control",disabled:"",modelValue:W.formData.paxpaid,"onUpdate:modelValue":t[1]||(t[1]=e=>W.formData.paxpaid=e)},null,8,["modelValue"])])]),Object(c["createElementVNode"])("div",p,[V,Object(c["createElementVNode"])("div",h,[Object(c["createVNode"])(X,{type:"text",class:"form-control",disabled:"",modelValue:W.formData.debit,"onUpdate:modelValue":t[2]||(t[2]=e=>W.formData.debit=e)},null,8,["modelValue"])])])])])]),Object(c["createElementVNode"])("div",N,[Object(c["createElementVNode"])("div",E,[f,Object(c["createElementVNode"])("div",g,[Object(c["createElementVNode"])("div",y,[Object(c["createElementVNode"])("div",x,"ID "+Object(c["toDisplayString"])(a.type),1),Object(c["createElementVNode"])("div",v,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>W.formRevisi["id_"+this.type]=e),disabled:""},null,512),[[c["vModelText"],W.formRevisi["id_"+this.type]]])])]),Object(c["createElementVNode"])("div",_,[k,Object(c["createElementVNode"])("div",w,[Object(c["createVNode"])(X,{class:"form-control",modelValue:W.formRevisi.fee,"onUpdate:modelValue":t[4]||(t[4]=e=>W.formRevisi.fee=e),disabled:""},null,8,["modelValue"])])]),Object(c["createElementVNode"])("div",D,[C,Object(c["createElementVNode"])("div",B,[Object(c["createVNode"])(X,{type:"text",modelValue:W.formRevisi.admin,"onUpdate:modelValue":t[5]||(t[5]=e=>W.formRevisi.admin=e),class:"form-control",disabled:""},null,8,["modelValue"])])]),"refund"==a.type?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",S,[Object(c["createElementVNode"])("div",T,"Tgl "+Object(c["toDisplayString"])(a.type),1),Object(c["createElementVNode"])("div",$,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-control","onUpdate:modelValue":t[6]||(t[6]=e=>W.formRevisi.tgl_refund=e),type:"date",disabled:""},null,512),[[c["vModelText"],W.formRevisi.tgl_refund]])])])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",R,[M,Object(c["createElementVNode"])("div",F,[Object(c["createElementVNode"])("div",P,[Object(c["createElementVNode"])("div",U,[Object(c["createElementVNode"])("input",{class:"form-control",value:W.formRevisi.timelimit,disabled:""},null,8,A)])])])])])])]),Object(c["createElementVNode"])("div",K,[Object(c["createElementVNode"])("div",L,[I,Object(c["createElementVNode"])("div",q,[Object(c["createElementVNode"])("div",z,[H,Object(c["createElementVNode"])("div",G,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:"form-control","onUpdate:modelValue":t[7]||(t[7]=e=>W.formRevisi.status=e)},Z,512),[[c["vModelSelect"],W.formRevisi.status]])])]),Object(c["createElementVNode"])("div",ee,[te,Object(c["createElementVNode"])("div",ae,[Object(c["withDirectives"])(Object(c["createElementVNode"])("textarea",{class:"form-control","onUpdate:modelValue":t[8]||(t[8]=e=>W.formRevisi.note_done2=e)},"\n                  ",512),[[c["vModelText"],W.formRevisi.note_done2]])])]),Object(c["createElementVNode"])("div",ce,[le,Object(c["createElementVNode"])("div",oe,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"password",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=e=>W.formRevisi.password=e)},null,512),[[c["vModelText"],W.formRevisi.password]])])]),Object(c["createElementVNode"])("div",re,[ne,Object(c["createElementVNode"])("div",se,[Object(c["createElementVNode"])("img",{src:W.captcha.img,style:{width:"50%"},class:"mb-1 mx-auto"},null,8,de),Object(c["createVNode"])(ue,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(me,{id:"input-brand",modelValue:W.formRevisi.captcha_api,"onUpdate:modelValue":t[10]||(t[10]=e=>W.formRevisi.captcha_api=e),type:"text",required:""},null,8,["modelValue"]),Object(c["createVNode"])(je,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Oe,{variant:"outline-success",onClick:Y.getCaptcha},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Refresh ")]),_:1},8,["onClick"])]),_:1})]),_:1})])])])])])]),Object(c["createElementVNode"])("div",ie,[Object(c["createElementVNode"])("div",be,[Object(c["createVNode"])(Oe,{type:"button",onClick:Y.resetRevisi,class:"me-5"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Ulangi ")]),_:1},8,["onClick"]),Object(c["createVNode"])(Oe,{type:"button",variant:"primary",onClick:Y.submitRevisi},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Proses ")]),_:1},8,["onClick"])])])]),_:1})])}a("14d9");var Oe=a("b166"),je=a("0dae"),ue={components:{},props:{data:{type:Object},transactions:{type:[Object,Array]},type:{type:String,default:"refund"}},data(){let e=Object(Oe["a"])(new Date,"yyyy-MM-dd");return{saving:!1,formRevisi:{fee:0,admin:0,status:"",timelimit:e,timelimit_hours:Object(Oe["a"])(Object(je["a"])(new Date,2),"HH"),timelimit_minutes:10,tgl_refund:Object(Oe["a"])(new Date,"yyyy-MM-dd")},user:null,formData:{},meta:{},status:"",message:"",isBusy:!1,captcha:{},hours:[],minutes:[]}},watch:{data:{depp:!0,handler:function(){this.setData()}}},methods:{setData(){this.getCaptcha(),this.data&&(this.user=this.$store.getters["auth/user"],this.formData=Object.assign({},this.data.transaction),this.formRevisi=Object.assign({},this.data),this.formRevisi.status="")},getCaptcha(){this.$axios.get("/refresh-captcha").then(e=>{this.captcha.img=e.img,this.captcha.key=e.key})},submitRevisi(){let e=Object.assign({},this.formRevisi);e.form=3,e.captcha_key=this.captcha.key,"rebook"==this.type&&(e.rb_by=this.formRevisi.rf_by),this.formRevisi.timelimit_hours&&(e.timelimit=this.formRevisi.timelimit+` ${this.formRevisi.timelimit_hours}:${this.formRevisi.timelimit_minutes}:00`),this.$store.dispatch("loading",!0),this.$axios.put(`/airlines/${this.type}/${this.data.id}`,e).then(()=>{this.$root.notif("Berhasil ubah data")}).catch(e=>{this.getCaptcha(),this.formRevisi.captcha="",this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.$store.dispatch("loading",!1)})},resetRevisi(){this.formRevisi={fee:0,admin:0,status:"",timelimit:Object(Oe["a"])(new Date,"yyyy-MM-dd"),timelimit_hours:Object(Oe["a"])(Object(je["a"])(new Date,2),"HH"),timelimit_minutes:10,tgl_refund:Object(Oe["a"])(new Date,"yyyy-MM-dd")}}},computed:{},created(){this.setData();for(let e=1;e<24;e++){let t=e;t<10&&(t="0"+t),this.hours.push(t)}for(let e=0;e<6;e++){let t=10*e;this.minutes.push(t)}}},pe=a("d959"),Ve=a.n(pe);const he=Ve()(ue,[["render",me]]);t["a"]=he},ac4a:function(e,t,a){"use strict";a("6372")},b4b9:function(e,t,a){"use strict";var c=a("7a23");const l={class:"pb-2"},o=Object(c["createElementVNode"])("h2",null,null,-1),r={class:"nav navbar-right panel_toolbox"},n=Object(c["createElementVNode"])("i",{class:"fa fa-arrow-left"},null,-1),s={class:"text-lg text-blue text-capitalize"},d={class:"text-pnr"},i=Object(c["createElementVNode"])("br",null,null,-1),b={class:"text-order-number"},m=Object(c["createElementVNode"])("hr",null,null,-1),O={class:"text-center mb-3"},j=["src"],u={class:"text-green fw-bold"},p=Object(c["createElementVNode"])("div",null,"PNR",-1),V={class:"text-pnr"},h={class:"text-blue"},N={class:"text-blue"},E={class:"text-primary"},f={class:"text-danger"},g={class:"text-orange"},y=Object(c["createElementVNode"])("hr",null,null,-1),x=Object(c["createElementVNode"])("b",null,"Daftar Penumpang",-1),v={class:"table-responsive"},_={class:"table text-center table-striped table-md"},k=Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",null,"Name"),Object(c["createElementVNode"])("th",null,[Object(c["createTextVNode"])(" Document "),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])(" Doc Number ")]),Object(c["createElementVNode"])("th",null,"Phone Number")],-1),w=Object(c["createElementVNode"])("br",null,null,-1),D=Object(c["createElementVNode"])("h4",null,"Detail Refund",-1),C=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"ID Refund",-1),B={class:"text-bold text-pnr"},S=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Tgl Pengajuan",-1),T={class:"text-bold text-time-booking"},$=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"MMID",-1),R={class:"text-bold"},M=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Timelimit",-1),F={class:"text-bold text-time-limit"},P=Object(c["createElementVNode"])("td",{style:{width:"140px"},class:"text-capitalize"}," Refund Fee ",-1),U={class:"text-bold text-warning"},A=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Admin Fee",-1),K={class:"text-bold text-info"},L=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Status",-1),I={class:"text-bold"},q=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Tgl Refund",-1),z={class:"text-bold"},H=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Tgl Confirm",-1),G={class:"text-bold"},J=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Rf By",-1),W={class:"text-bold"},Y=Object(c["createElementVNode"])("hr",null,null,-1),Q=Object(c["createElementVNode"])("h5",null,"Konfirmasi 1",-1),X=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Staff",-1),Z={class:"text-bold"},ee=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Note",-1),te={class:"text-bold"},ae=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Note Internal",-1),ce={class:"text-bold"},le=Object(c["createElementVNode"])("hr",null,null,-1),oe=Object(c["createElementVNode"])("h5",null,"Konfirmasi 2",-1),re=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Staff",-1),ne={class:"text-bold"},se=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Note",-1),de={class:"text-bold"},ie=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Note Internal",-1),be={class:"text-bold"},me=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Tgl",-1),Oe={class:"text-bold"},je=Object(c["createElementVNode"])("hr",null,null,-1),ue=Object(c["createElementVNode"])("h5",null,"Konfirmasi 3",-1),pe=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Staff",-1),Ve={class:"text-bold"},he=Object(c["createElementVNode"])("td",{style:{width:"140px"}},"Note",-1),Ne={class:"text-bold"},Ee={key:4},fe=Object(c["createElementVNode"])("div",{class:"alert h5 alert-warning",role:"alert"}," Akses dilarang ",-1),ge=[fe];function ye(e,t,a,fe,ye,xe){const ve=Object(c["resolveComponent"])("b-skeleton"),_e=Object(c["resolveComponent"])("b-card"),ke=Object(c["resolveComponent"])("b-col"),we=Object(c["resolveComponent"])("b-row"),De=Object(c["resolveComponent"])("StatusbadgeBase"),Ce=Object(c["resolveComponent"])("b-card-header"),Be=Object(c["resolveComponent"])("b-card-body"),Se=Object(c["resolveComponent"])("Form1"),Te=Object(c["resolveComponent"])("Form2"),$e=Object(c["resolveComponent"])("Form3");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",l,[ye.loading?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createVNode"])(_e,{class:"mb-2"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ve,{width:"85%"}),Object(c["createVNode"])(ve,{width:"55%"}),Object(c["createVNode"])(ve,{width:"70%"})]),_:1}),Object(c["createVNode"])(_e,{class:"mb-2"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ve,{width:"85%"}),Object(c["createVNode"])(ve,{width:"55%"}),Object(c["createVNode"])(ve,{width:"70%"})]),_:1}),Object(c["createVNode"])(_e,{class:"mb-2"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ve,{width:"85%"}),Object(c["createVNode"])(ve,{width:"55%"}),Object(c["createVNode"])(ve,{width:"70%"})]),_:1})],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createVNode"])(we,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ke,null,{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",null,[o,Object(c["createElementVNode"])("ul",r,[Object(c["createElementVNode"])("li",null,[Object(c["createElementVNode"])("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:t[0]||(t[0]=t=>e.$router.back())},[n,Object(c["createTextVNode"])(" Kembali ")])])])])]),_:1})]),_:1}),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(xe.multiTripJourney,(t,a)=>(Object(c["openBlock"])(),Object(c["createBlock"])(we,{class:"mt-2",key:a},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ke,{col:"12"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(_e,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Ce,{class:"py-2"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(we,{class:""},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ke,{class:"fw-bold d-flex flex-column justify-center"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("span",s," Supplier : "+Object(c["toDisplayString"])(t.trx.supplier_code),1),Object(c["createElementVNode"])("div",null,[Object(c["createTextVNode"])(" PNR : "),Object(c["createElementVNode"])("b",d,Object(c["toDisplayString"])(t.trx.pnr),1)])]),_:2},1024),Object(c["createVNode"])(ke,{class:"text-center"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Status:"),i,Object(c["createVNode"])(De,{label:t.trx_status,class:"text-sm"},null,8,["label"])]),_:2},1024),Object(c["createVNode"])(ke,{class:"text-end d-flex flex-column justify-center"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" No Transaksi: "),Object(c["createElementVNode"])("strong",b,Object(c["toDisplayString"])(t.trx.trx_no),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),Object(c["createVNode"])(Be,{class:"bg-gray py-2"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(we,{class:""},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ke,{sm:"6",class:"fw-bold"}),Object(c["createVNode"])(ke,{sm:"6",class:"text-end"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Dewasa: "+Object(c["toDisplayString"])(t.trx.adult)+"    Anak: "+Object(c["toDisplayString"])(t.trx.child)+"    Bayi: "+Object(c["toDisplayString"])(t.trx.infant),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),m,Object(c["createVNode"])(Be,null,{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",O,[Object(c["createVNode"])(_e,null,{default:Object(c["withCtx"])(()=>[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(t.flights,(e,t)=>(Object(c["openBlock"])(),Object(c["createBlock"])(we,{key:t,class:"mb-4"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ke,{md:"3",class:"d-flex justify-between"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",null,[Object(c["createElementVNode"])("img",{src:e.image_url,style:{width:"30px","margin-right":"10px"}},null,8,j),Object(c["createElementVNode"])("b",u,Object(c["toDisplayString"])(e.flight_number),1),Object(c["createElementVNode"])("div",null,"Class: "+Object(c["toDisplayString"])(e.class),1),Object(c["createElementVNode"])("div",null,"Sub Class: "+Object(c["toDisplayString"])(e.sub_class),1)])]),_:2},1024),Object(c["createVNode"])(ke,{md:"3"},{default:Object(c["withCtx"])(()=>[p,Object(c["createElementVNode"])("b",V,Object(c["toDisplayString"])(e.pnr),1)]),_:2},1024),Object(c["createVNode"])(ke,{md:"3"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("b",h,Object(c["toDisplayString"])(e.std),1),Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(e.eta)+" LT",1)]),_:2},1024),Object(c["createVNode"])(ke,{md:"3",class:""},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("b",N,Object(c["toDisplayString"])(e.sta),1),Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(e.eta)+" LT",1)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)])]),_:2},1024),Object(c["createVNode"])(Be,{class:"border-top"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(we,{class:"text-center"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ke,{class:""},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Paxpaid: "),Object(c["createElementVNode"])("b",E,Object(c["toDisplayString"])(e.$filters.currency(t.trx.paxpaid)),1),Object(c["createElementVNode"])("div",null,[Object(c["createTextVNode"])(" NTA: "),Object(c["createElementVNode"])("b",f,Object(c["toDisplayString"])(e.$filters.currency(t.trx.nta)),1)])]),_:2},1024),Object(c["createVNode"])(ke,{class:""},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" NRA: "),Object(c["createElementVNode"])("b",null,Object(c["toDisplayString"])(e.$filters.currency(t.trx.nra)),1)]),_:2},1024),Object(c["createVNode"])(ke,{class:""},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Pajak: "),Object(c["createElementVNode"])("b",g,Object(c["toDisplayString"])(e.$filters.currency(t.trx.tax)),1),Object(c["createElementVNode"])("div",null,[Object(c["createTextVNode"])(" Komisi : "),Object(c["createElementVNode"])("b",null,Object(c["toDisplayString"])(e.$filters.currency(t.trx.commission)),1)])]),_:2},1024),Object(c["createVNode"])(ke,{class:""},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Pusat: "),Object(c["createElementVNode"])("b",null,Object(c["toDisplayString"])(e.$filters.currency(t.trx.commission_pusat)),1),Object(c["createElementVNode"])("div",null,[Object(c["createTextVNode"])(" Mitra : "),Object(c["createElementVNode"])("b",null,Object(c["toDisplayString"])(e.$filters.currency(t.trx.commission_client)),1)])]),_:2},1024)]),_:2},1024)]),_:2},1024),y,Object(c["createVNode"])(Ce,{class:""},{default:Object(c["withCtx"])(()=>[x]),_:1}),Object(c["createVNode"])(Be,null,{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",v,[Object(c["createElementVNode"])("table",_,[k,Object(c["createElementVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(t.passengers_map,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:t},[Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.passenger.title)+". "+Object(c["toDisplayString"])(e.passenger.first_name)+" "+Object(c["toDisplayString"])(e.passenger.last_name)+" ("+Object(c["toDisplayString"])(e.passenger.passanger_type)+") ",1),Object(c["createElementVNode"])("td",null,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.passenger.document?e.passenger.document.number:"-")+" ",1),w,Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(e.passenger.document?e.passenger.document.type:"-"),1)]),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.passenger.phone_number),1)]))),128))])])])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),xe.transaction&&xe.transaction.trx_no?(Object(c["openBlock"])(),Object(c["createBlock"])(we,{key:0,class:"mt-2"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ke,null,{default:Object(c["withCtx"])(()=>["confirm"!=e.$route.params.action?(Object(c["openBlock"])(),Object(c["createBlock"])(_e,{key:0},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Ce,{class:""},{default:Object(c["withCtx"])(()=>[D]),_:1}),Object(c["createVNode"])(Be,null,{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("table",null,[Object(c["createElementVNode"])("tr",null,[C,Object(c["createElementVNode"])("td",B," : "+Object(c["toDisplayString"])(ye.data.id_refund),1)]),Object(c["createElementVNode"])("tr",null,[S,Object(c["createElementVNode"])("td",T," : "+Object(c["toDisplayString"])(e.$filters.dateTime(ye.data.created_at)),1)]),Object(c["createElementVNode"])("tr",null,[$,Object(c["createElementVNode"])("td",R," : "+Object(c["toDisplayString"])(ye.data.mmid),1)]),Object(c["createElementVNode"])("tr",null,[M,Object(c["createElementVNode"])("td",F,[Object(c["createTextVNode"])(" : "),ye.data.timelimit?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$filters.dateTime(ye.data.timelimit)),1)],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createTextVNode"])(" - ")],64))])]),Object(c["createElementVNode"])("tr",null,[P,Object(c["createElementVNode"])("td",U,[Object(c["createTextVNode"])(" : "),Object(c["createElementVNode"])("template",null,[ye.data.fee?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$filters.currency(ye.data.fee)),1)],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createTextVNode"])(" - ")],64))])])]),Object(c["createElementVNode"])("tr",null,[A,Object(c["createElementVNode"])("td",K,[Object(c["createTextVNode"])(" : "),ye.data.admin?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$filters.currency(ye.data.admin)),1)],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createTextVNode"])(" - ")],64))])]),Object(c["createElementVNode"])("tr",null,[L,Object(c["createElementVNode"])("td",I," : "+Object(c["toDisplayString"])(ye.data.status_label),1)]),Object(c["createElementVNode"])("tr",null,[q,Object(c["createElementVNode"])("td",z,[Object(c["createTextVNode"])(" : "),ye.data.tgl_refund?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$filters.dateTime(ye.data.tgl_refund)),1)],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createTextVNode"])(" - ")],64))])]),Object(c["createElementVNode"])("tr",null,[H,Object(c["createElementVNode"])("td",G,[Object(c["createTextVNode"])(" : "),ye.data.tgl_confirm?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$filters.dateTime(ye.data.tgl_confirm)),1)],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createTextVNode"])(" - ")],64))])]),Object(c["createElementVNode"])("tr",null,[J,Object(c["createElementVNode"])("td",W,[Object(c["createTextVNode"])(" : "),ye.data.rf_by?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createTextVNode"])(Object(c["toDisplayString"])(ye.data.rf_by),1)],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createTextVNode"])(" - ")],64))])])]),Y,Q,Object(c["createElementVNode"])("table",null,[Object(c["createElementVNode"])("tr",null,[X,Object(c["createElementVNode"])("td",Z," : "+Object(c["toDisplayString"])(ye.data.staff?ye.data.staff.name:"-"),1)]),Object(c["createElementVNode"])("tr",null,[ee,Object(c["createElementVNode"])("td",te," : "+Object(c["toDisplayString"])(ye.data.staff_note?ye.data.staff_note:"-"),1)]),Object(c["createElementVNode"])("tr",null,[ae,Object(c["createElementVNode"])("td",ce," : "+Object(c["toDisplayString"])(ye.data.staff_internal_note?ye.data.staff_internal_note:"-"),1)])]),le,oe,Object(c["createElementVNode"])("table",null,[Object(c["createElementVNode"])("tr",null,[re,Object(c["createElementVNode"])("td",ne," : "+Object(c["toDisplayString"])(ye.data.staff_done?ye.data.staff_done:"-"),1)]),Object(c["createElementVNode"])("tr",null,[se,Object(c["createElementVNode"])("td",de," : "+Object(c["toDisplayString"])(ye.data.note_done?ye.data.note_done:"-"),1)]),Object(c["createElementVNode"])("tr",null,[ie,Object(c["createElementVNode"])("td",be," : "+Object(c["toDisplayString"])(ye.data.staff_internal_note_done?ye.data.staff_internal_note_done:"-"),1)]),Object(c["createElementVNode"])("tr",null,[me,Object(c["createElementVNode"])("td",Oe,[Object(c["createTextVNode"])(" : "),ye.data.tgl_done?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$filters.dateTime(ye.data.tgl_done)),1)],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createTextVNode"])(" - ")],64))])])]),je,ue,Object(c["createElementVNode"])("table",null,[Object(c["createElementVNode"])("tr",null,[pe,Object(c["createElementVNode"])("td",Ve," : "+Object(c["toDisplayString"])(ye.data.staff_done2?ye.data.staff_done2:"-"),1)]),Object(c["createElementVNode"])("tr",null,[he,Object(c["createElementVNode"])("td",Ne," : "+Object(c["toDisplayString"])(ye.data.note_done2?ye.data.note_done2:"-"),1)])])]),_:1})]),_:1})):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[xe.isShowForm?(Object(c["openBlock"])(),Object(c["createBlock"])(Se,{key:0,data:ye.data},null,8,["data"])):xe.isShowForm2?(Object(c["openBlock"])(),Object(c["createBlock"])(Te,{key:1,data:ye.data},null,8,["data"])):xe.isShowForm3?(Object(c["openBlock"])(),Object(c["createBlock"])($e,{key:2,data:ye.data},null,8,["data"])):xe.isDone?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:3},[],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Ee,ge))],64))]),_:1})]),_:1})):Object(c["createCommentVNode"])("",!0)],64))])}var xe=a("30df"),ve=a("fcc8"),_e=a("8b3b"),ke=a("5502"),we=a("6edf"),De=a.n(we),Ce={components:{Form1:xe["a"],Form2:ve["a"],Form3:_e["a"]},data(){return{modalOp:!1,modalData:{},id:"",data:{},loading:!1,old:{}}},computed:{...Object(ke["b"])({user:"auth/user"}),isMultiTrip(){return!0},multiTripJourney(){return this.data.details},isShowForm(){return 1==this.data.status&&this.user.phone==this.data.staff.phone},isShowForm2(){return!(3!=this.data.status||!this.data.staff_done||this.user.phone!=this.data.staff_done.phone||this.data.rf_by)},isShowForm3(){return!(4!=this.data.status||!this.data.staff_done2||this.user.phone!=this.data.staff_done2.phone||this.data.tgl_done2)},isDone(){return this.data.status>4},transaction(){return this.data.transaction?this.data.transaction:{}}},methods:{groupByFlight(e){return De()(e,"flight")},reset(){},loadData(){this.loading=!0,this.$axios.get("/airlines/refund/"+this.id).then(e=>{let t=e.data;this.data=t}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})}},mounted(){this.$route.params.id&&(this.id=this.$route.params.id,this.loadData()),"confirm"==this.$route.params.action?this.$root.setPageTitle("Konfirmasi Refund Maskapai"):this.$root.setPageTitle("Detail Refund Maskapai")}},Be=a("d959"),Se=a.n(Be);const Te=Se()(Ce,[["render",ye]]);t["a"]=Te},deab:function(e,t,a){"use strict";var c=a("7a23");const l={class:"row"},o={class:"col-sm-12 col-md-4 col-lg-4"},r={class:"col-sm-12 col-md-2 col-lg-2"},n={class:"col-sm-12 col-md-3 col-lg-3"},s={class:"col-sm-12 col-md-2 col-lg-2"},d={class:"col-sm-12 col-md-1 col-lg-1"},i={class:"table-responsive",style:{"min-height":"75vh"}},b={class:"row"},m={class:"col-sm-12"},O={class:"table-responsive table-responsive-sticky"},j={class:"table table-striped jambo_table bulk_action table-bordered"},u=Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",null,[Object(c["createTextVNode"])(" ID Transaksi "),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])(" ID Rebook ")]),Object(c["createElementVNode"])("th",null," Tanggal "),Object(c["createElementVNode"])("th",null," Status Pengajuan "),Object(c["createElementVNode"])("th",null," Mitra "),Object(c["createElementVNode"])("th",null," Supplier "),Object(c["createElementVNode"])("th",null," Rute "),Object(c["createElementVNode"])("th",null," Penumpang "),Object(c["createElementVNode"])("th",null," Total Rebook "),Object(c["createElementVNode"])("th",null," Tanggal Expired "),Object(c["createElementVNode"])("th",null," PNR "),Object(c["createElementVNode"])("th",null," # ")])],-1),p={key:0},V=Object(c["createElementVNode"])("td",{colspan:"18",class:"text-center"}," Data tidak ditemukan ",-1),h=[V],N={style:{"min-width":"200px"}},E={class:"text-success"},f={class:"text-warning"},g={style:{"min-width":"150px"}},y={key:0},x=Object(c["createElementVNode"])("div",{class:""},null,-1),v={class:"d-flex"},_=Object(c["createElementVNode"])("div",{class:"px-3"},"-",-1),k={style:{"min-width":"120px"}},w={class:"text-end"},D={style:{"min-width":"140px"}},C=Object(c["createElementVNode"])("td",null,null,-1);function B(e,t,a,V,B,S){const T=Object(c["resolveComponent"])("input-date-picker-range-base"),$=Object(c["resolveComponent"])("select-mitra-base"),R=Object(c["resolveComponent"])("select-base"),M=Object(c["resolveComponent"])("routerLink"),F=Object(c["resolveComponent"])("statusbadge-base"),P=Object(c["resolveComponent"])("mitra-link-base"),U=Object(c["resolveComponent"])("b-overlay"),A=Object(c["resolveComponent"])("paging-base");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[Object(c["createElementVNode"])("div",l,[Object(c["createElementVNode"])("div",o,[Object(c["createVNode"])(T,{start_date:B.search.start_date,"onUpdate:start_date":t[0]||(t[0]=e=>B.search.start_date=e),end_date:B.search.end_date,"onUpdate:end_date":t[1]||(t[1]=e=>B.search.end_date=e),"max-date":new Date},null,8,["start_date","end_date","max-date"])]),Object(c["createElementVNode"])("div",r,[Object(c["createVNode"])($,{onOnChange:S.setMitra},null,8,["onOnChange"])]),Object(c["createElementVNode"])("div",n,[Object(c["createVNode"])(R,{options:B.airlines,placeholder:"Pilih maskapai",modelValue:B.search.airline,"onUpdate:modelValue":t[2]||(t[2]=e=>B.search.airline=e)},null,8,["options","modelValue"])]),Object(c["createElementVNode"])("div",s,[Object(c["createVNode"])(R,{options:B.status,placeholder:"Pilih status",onOnChange:S.setStatus},null,8,["options","onOnChange"])]),Object(c["createElementVNode"])("div",d,[Object(c["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[3]||(t[3]=(...e)=>S.searchData&&S.searchData(...e))},"Cari")])]),Object(c["createElementVNode"])("div",i,[Object(c["createElementVNode"])("div",b,[Object(c["createElementVNode"])("div",m,[Object(c["createVNode"])(U,{show:B.loading,rounded:"sm"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",O,[Object(c["createElementVNode"])("table",j,[u,Object(c["createElementVNode"])("tbody",null,[B.data.length<=0&&!B.loading?(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",p,h)):Object(c["createCommentVNode"])("",!0),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(B.data,(t,a)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:a},[Object(c["createElementVNode"])("td",N,[Object(c["createElementVNode"])("div",E,[Object(c["createVNode"])(M,{target:"_blank ",class:"text-decoration-underline text-success",to:{name:"app.airlines.transaction",params:{id:t.transaction.trx_no}}},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.transaction.trx_no),1)]),_:2},1032,["to"])]),Object(c["createElementVNode"])("div",f,[Object(c["createVNode"])(M,{target:"_blank ",class:"text-decoration-underline text-warning",to:{name:"app.airlines.rebook-form",params:{id:t.id}}},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.id_rebook),1)]),_:2},1032,["to"])])]),Object(c["createElementVNode"])("td",g,Object(c["toDisplayString"])(t.created_at?e.$filters.dateTime(t.created_at):"-"),1),Object(c["createElementVNode"])("td",null,[Object(c["createVNode"])(F,{status:t.status_label,label:t.status_label},null,8,["status","label"]),t.active_operator?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",y," Operator: "+Object(c["toDisplayString"])(t.active_operator?t.active_operator.name:"-"),1)):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("td",null,[Object(c["createVNode"])(P,{mitra:t.mitra},null,8,["mitra"])]),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.details?t.details[0].supplier_code:"-"),1),Object(c["createElementVNode"])("td",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(t.details,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"mb-2 align-items-center justify-content-between",key:t},[x,Object(c["createElementVNode"])("div",v,[Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(e.org),1),_,Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(e.des),1)])]))),128))]),Object(c["createElementVNode"])("td",k,Object(c["toDisplayString"])(t.details?t.details[0].passengers_map.length:"1")+" Penumpang ",1),Object(c["createElementVNode"])("td",w,Object(c["toDisplayString"])(e.$filters.currency(t.fee+t.admin)),1),Object(c["createElementVNode"])("td",D,Object(c["toDisplayString"])(e.$filters.dateTime(t.timelimit)),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.transaction.pnr),1),C]))),128))])])])]),_:1},8,["show"])])]),B.data.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])(A,{key:0,modelValue:B.options.current_page,"onUpdate:modelValue":t[4]||(t[4]=e=>B.options.current_page=e),options:B.options},null,8,["modelValue","options"])):Object(c["createCommentVNode"])("",!0)])])}a("14d9");var S=a("b166"),T=a("5502"),$={components:{},props:{typeProduct:{type:String,default:"pascabayar"}},data(){return{modalOp:!1,modalData:{},categories:[],airlines:[],status:[{code:1,name:"Pengajuan"},{code:2,name:"Menunggu Konfirmasi"},{code:3,name:"Konfirmasi"},{code:4,name:"Rebook"},{code:9,name:"Cancel"},{code:10,name:"Failed"}],data:[],users:[],options:{current_page:1,total_row:0,per_page:1},search:{q:"",start_date:Object(S["a"])(new Date,"yyyy-MM-01"),end_date:Object(S["a"])(new Date,"yyyy-MM-dd"),user_id:"",status:"",airline:""},loading:!1}},mounted(){this.search.type=this.typeProduct,this.searchData(),this.loadAirlines()},computed:{...Object(T["b"])({user:"auth/user"}),moreParams(){return{page:this.options.current_page,q:this.search.q,start_date:this.search.start_date,end_date:this.search.end_date,user_id:this.search.user_id,status:this.search.status,airline_code:this.search.airline?this.search.airline.code:""}}},watch:{"options.current_page":{handler:function(){this.loadData()}}},methods:{showConfirm(e){let t=1==e.status;if(t&&!e.staff)return!0;if(t&&e.staff){let t=e.staff.phone==this.user.phone;return!!t}if(t=3==e.status,t&&!e.staff_done&&!e.rb_by)return!0;if(t&&e.staff_done&&!e.rb_by){let t=e.staff_done.phone==this.user.phone;if(t)return!0}return!1},showChangeOp(e){return!!e.active_operator},async goToConfirm(e){await this.selectedOp(e),this.$router.push({name:"app.airlines.rebook-form",params:{id:e.id,action:"confirm"}})},async selectedOp(e){let t={operator_id:"auth"},a=()=>this.$axios.post(`/airlines/rebook/${e.id}/change-operator`,t);this.$store.dispatch("loading",!0),await a().then(e=>{this.$root.notif(e.message),this.form={}}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.$store.dispatch("loading",!1)})},changeOp(e){this.modalData=e,this.modalOp=!0},changeStatus(e){this.modalData=e,this.modalStatus=!0},searchData(){this.options.current_page=1,this.loadData()},setMitra(e){this.search.user_id=e?e.id:""},setStatus(e){this.search.status=e?e.code:""},loadData(){this.loading=!0,this.$axios.get("/airlines/rebook",{params:this.moreParams}).then(e=>{this.loading=!1,this.data=e.data.data,this.options.total_row=e.data.meta.total,this.options.per_page=e.data.meta.per_page}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.loading=!1})},loadUsers(){this.$axios.get("/users",{params:{role:"operator"}}).then(e=>{this.loading=!1,this.users=e.data.data}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{})},loadAirlines(){this.$axios.get("/products",{params:{parents:"AIRD,AIRI"}}).then(e=>{this.loading=!1,this.airlines=e.data.data}).catch(e=>{this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{})}}},R=a("d959"),M=a.n(R);const F=M()($,[["render",B]]);t["a"]=F},fcc8:function(e,t,a){"use strict";var c=a("7a23");const l={class:"card"},o={class:"row"},r={class:"col-3"},n={class:""},s=Object(c["createElementVNode"])("div",{class:"card-header h-4"},"Trx Saat ini",-1),d={class:"card-body"},i={class:"row mb-4"},b=Object(c["createElementVNode"])("div",{class:"col-12"},"Kode Booking",-1),m={class:"col-12"},O={class:"row mb-4"},j=Object(c["createElementVNode"])("div",{class:"col-12"},"Paxpaid",-1),u={class:"col-12"},p={class:"row mb-4"},V=Object(c["createElementVNode"])("div",{class:"col-12"},"Debit",-1),h={class:"col-12"},N={class:"col"},E={class:""},f=Object(c["createElementVNode"])("div",{class:"card-header h-4 text-capitalize"},"Konfirmasi Harga",-1),g={class:"card-body"},y={class:"row mb-4"},x={class:"col-12 text-capitalize"},v={class:"col-12"},_={class:"row mb-4"},k=Object(c["createElementVNode"])("div",{class:"col-12 text-capitalize"},"Fee",-1),w={class:"col-12"},D={class:"row mb-4"},C=Object(c["createElementVNode"])("div",{class:"col-12"},"Admin Fee",-1),B={class:"col-12"},S={key:0,class:"row mb-4"},T={class:"col-12"},$={class:"col-12"},R={class:"row mb-4"},M=Object(c["createElementVNode"])("div",{class:"col-12"},"Timelimit",-1),F={class:"col-12"},P={class:"row"},U={class:"col-12 mb-4"},A=["value"],K={class:"row mb-4"},L={class:"col-12 text-capitalize"},I={class:"col-12"},q=Object(c["createElementVNode"])("option",null,null,-1),z=Object(c["createElementVNode"])("option",{value:"M"},"Manual",-1),H=Object(c["createElementVNode"])("option",null,null,-1),G={key:0,value:"S"},J={class:"col"},W={class:""},Y=Object(c["createElementVNode"])("div",{class:"card-header h-4"},"Proses Konfirmasi",-1),Q={class:"card-body"},X={class:"row mb-4"},Z=Object(c["createElementVNode"])("div",{class:"col-12"},"Status Persetujan",-1),ee={class:"col-12"},te=Object(c["createElementVNode"])("option",{value:""},"Pilih Salah Satu",-1),ae=Object(c["createElementVNode"])("option",null,null,-1),ce=Object(c["createElementVNode"])("option",{value:"1"},"Disetujui",-1),le=Object(c["createElementVNode"])("option",null,null,-1),oe=Object(c["createElementVNode"])("option",{value:"0"},"Dibatalkan",-1),re=[te,ae,ce,le,oe],ne={class:"row mb-4"},se=Object(c["createElementVNode"])("div",{class:"col-12"},"Staff Note",-1),de={class:"col-12"},ie={key:0,class:"row mb-4"},be=Object(c["createElementVNode"])("div",{class:"col-12"},"Internal Note 2",-1),me={class:"col-12"},Oe={class:"row mb-4"},je=Object(c["createElementVNode"])("div",{class:"col-12"},"Password",-1),ue={class:"col-12"},pe={class:"row mb-4"},Ve=Object(c["createElementVNode"])("div",{class:"col-12"},"Kode Akses",-1),he={class:"col-12"},Ne=["src"],Ee={class:"row mb-4"},fe={class:"col text-end"};function ge(e,t,a,te,ae,ce){const le=Object(c["resolveComponent"])("b-card-header"),oe=Object(c["resolveComponent"])("input-currency-base"),ge=Object(c["resolveComponent"])("b-form-input"),ye=Object(c["resolveComponent"])("b-button"),xe=Object(c["resolveComponent"])("b-input-group-append"),ve=Object(c["resolveComponent"])("b-input-group"),_e=Object(c["resolveComponent"])("b-card-body");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",l,[Object(c["createVNode"])(le,{class:"text-cepitalize",style:{"text-transform":"capitalize"}},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("h4",null,"Konfirmasi Harga "+Object(c["toDisplayString"])(a.type),1)]),_:1}),Object(c["createVNode"])(_e,null,{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",o,[Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("div",n,[s,Object(c["createElementVNode"])("div",d,[Object(c["createElementVNode"])("div",i,[b,Object(c["createElementVNode"])("div",m,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>ae.formData.pnr=e),type:"text",class:"form-control",disabled:""},null,512),[[c["vModelText"],ae.formData.pnr]])])]),Object(c["createElementVNode"])("div",O,[j,Object(c["createElementVNode"])("div",u,[Object(c["createVNode"])(oe,{type:"text",class:"form-control",disabled:"",modelValue:ae.formData.paxpaid,"onUpdate:modelValue":t[1]||(t[1]=e=>ae.formData.paxpaid=e)},null,8,["modelValue"])])]),Object(c["createElementVNode"])("div",p,[V,Object(c["createElementVNode"])("div",h,[Object(c["createVNode"])(oe,{type:"text",class:"form-control",disabled:"",modelValue:ae.formData.debit,"onUpdate:modelValue":t[2]||(t[2]=e=>ae.formData.debit=e)},null,8,["modelValue"])])])])])]),Object(c["createElementVNode"])("div",N,[Object(c["createElementVNode"])("div",E,[f,Object(c["createElementVNode"])("div",g,[Object(c["createElementVNode"])("div",y,[Object(c["createElementVNode"])("div",x,"ID "+Object(c["toDisplayString"])(a.type),1),Object(c["createElementVNode"])("div",v,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>ae.formRevisi["id_"+this.type]=e),disabled:""},null,512),[[c["vModelText"],ae.formRevisi["id_"+this.type]]])])]),Object(c["createElementVNode"])("div",_,[k,Object(c["createElementVNode"])("div",w,[Object(c["createVNode"])(oe,{class:"form-control",modelValue:ae.formRevisi.fee,"onUpdate:modelValue":t[4]||(t[4]=e=>ae.formRevisi.fee=e),disabled:""},null,8,["modelValue"])])]),Object(c["createElementVNode"])("div",D,[C,Object(c["createElementVNode"])("div",B,[Object(c["createVNode"])(oe,{type:"text",modelValue:ae.formRevisi.admin,"onUpdate:modelValue":t[5]||(t[5]=e=>ae.formRevisi.admin=e),class:"form-control",disabled:""},null,8,["modelValue"])])]),"refund"==a.type?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",S,[Object(c["createElementVNode"])("div",T,"Tgl "+Object(c["toDisplayString"])(a.type),1),Object(c["createElementVNode"])("div",$,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-control","onUpdate:modelValue":t[6]||(t[6]=e=>ae.formRevisi.tgl_refund=e),type:"date",disabled:""},null,512),[[c["vModelText"],ae.formRevisi.tgl_refund]])])])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",R,[M,Object(c["createElementVNode"])("div",F,[Object(c["createElementVNode"])("div",P,[Object(c["createElementVNode"])("div",U,[Object(c["createElementVNode"])("input",{class:"form-control",value:ae.formRevisi.timelimit,disabled:""},null,8,A)])])])]),Object(c["createElementVNode"])("div",K,[Object(c["createElementVNode"])("div",L,Object(c["toDisplayString"])("refund"==a.type?"Rf By":"Rb By"),1),Object(c["createElementVNode"])("div",I,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:"form-control","onUpdate:modelValue":t[7]||(t[7]=e=>ae.formRevisi.rf_by=e)},[q,z,H,"refund"==a.type?(Object(c["openBlock"])(),Object(c["createElementBlock"])("option",G,"System")):Object(c["createCommentVNode"])("",!0)],512),[[c["vModelSelect"],ae.formRevisi.rf_by]])])])])])]),Object(c["createElementVNode"])("div",J,[Object(c["createElementVNode"])("div",W,[Y,Object(c["createElementVNode"])("div",Q,[Object(c["createElementVNode"])("div",X,[Z,Object(c["createElementVNode"])("div",ee,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:"form-control","onUpdate:modelValue":t[8]||(t[8]=e=>ae.formRevisi.status=e)},re,512),[[c["vModelSelect"],ae.formRevisi.status]])])]),Object(c["createElementVNode"])("div",ne,[se,Object(c["createElementVNode"])("div",de,[Object(c["withDirectives"])(Object(c["createElementVNode"])("textarea",{class:"form-control","onUpdate:modelValue":t[9]||(t[9]=e=>ae.formRevisi.note_done=e)},"\n                  ",512),[[c["vModelText"],ae.formRevisi.note_done]])])]),"refund"==a.type?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",ie,[be,Object(c["createElementVNode"])("div",me,[Object(c["withDirectives"])(Object(c["createElementVNode"])("textarea",{class:"form-control","onUpdate:modelValue":t[10]||(t[10]=e=>ae.formRevisi.staff_internal_note_done=e)},"\n                  ",512),[[c["vModelText"],ae.formRevisi.staff_internal_note_done]])])])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",Oe,[je,Object(c["createElementVNode"])("div",ue,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"password",class:"form-control","onUpdate:modelValue":t[11]||(t[11]=e=>ae.formRevisi.password=e)},null,512),[[c["vModelText"],ae.formRevisi.password]])])]),Object(c["createElementVNode"])("div",pe,[Ve,Object(c["createElementVNode"])("div",he,[Object(c["createElementVNode"])("img",{src:ae.captcha.img,style:{width:"50%"},class:"mb-1 mx-auto"},null,8,Ne),Object(c["createVNode"])(ve,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ge,{id:"input-brand",modelValue:ae.formRevisi.captcha_api,"onUpdate:modelValue":t[12]||(t[12]=e=>ae.formRevisi.captcha_api=e),type:"text",required:""},null,8,["modelValue"]),Object(c["createVNode"])(xe,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(ye,{variant:"outline-success",onClick:ce.getCaptcha},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Refresh ")]),_:1},8,["onClick"])]),_:1})]),_:1})])])])])])]),Object(c["createElementVNode"])("div",Ee,[Object(c["createElementVNode"])("div",fe,[Object(c["createVNode"])(ye,{type:"button",onClick:ce.resetRevisi,class:"me-5"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Ulangi ")]),_:1},8,["onClick"]),Object(c["createVNode"])(ye,{type:"button",variant:"primary",onClick:ce.submitRevisi},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Proses ")]),_:1},8,["onClick"])])])]),_:1})])}a("14d9");var ye=a("b166"),xe=a("0dae"),ve={components:{},props:{data:{type:Object},transactions:{type:[Object,Array]},type:{type:String,default:"refund"}},data(){let e=Object(ye["a"])(new Date,"yyyy-MM-dd");return{saving:!1,formRevisi:{fee:0,admin:0,status:"",timelimit:e,timelimit_hours:Object(ye["a"])(Object(xe["a"])(new Date,2),"HH"),timelimit_minutes:10,tgl_refund:Object(ye["a"])(new Date,"yyyy-MM-dd")},user:null,formData:{},meta:{},status:"",message:"",isBusy:!1,captcha:{},hours:[],minutes:[],passengerRebook:[]}},watch:{data:{deep:!0,handler:function(){this.setData()}}},methods:{setData(){this.data&&(this.user=this.$store.getters["auth/user"],this.formData=Object.assign({},this.data.transaction),this.formRevisi=Object.assign({},this.data),this.formRevisi.status="",this.formRevisi.rf_by="M")},getCaptcha(){this.$axios.get("/refresh-captcha").then(e=>{this.captcha.img=e.img,this.captcha.key=e.key})},submitRevisi(){let e=Object.assign({},this.formRevisi);if(e.form=2,e.captcha_key=this.captcha.key,this.formRevisi.timelimit_hours&&(e.timelimit=this.formRevisi.timelimit+` ${this.formRevisi.timelimit_hours}:${this.formRevisi.timelimit_minutes}:00`),console.log(this.passengerRebook),e.status){if("rebook"==this.type&&(e.rb_by=this.formRevisi.rf_by,1==e.status)){let t=0;for(let e=0;e<this.passengerRebook.length;e++){const a=this.passengerRebook[e].rebook_flights.segments[0];a.pnr||(t+=1)}if(t>0||this.passengerRebook.length<=0)return void this.$root.notif("pnr tidak boleh kosong",{type:"error",position:"top"});e.paxes=Object.assign([],this.passengerRebook)}this.$store.dispatch("loading",!0),this.$axios.put(`/airlines/${this.type}/${this.data.id}`,e).then(()=>{this.$root.notif("Berhasil ubah data"),this.$router.back()}).catch(e=>{this.getCaptcha(),this.formRevisi.captcha="",this.$root.notif(e.message,{type:"error",position:"top"})}).finally(()=>{this.$store.dispatch("loading",!1)})}else this.$root.notif("status tidak boleh kosong",{type:"error",position:"top"})},resetRevisi(){this.formRevisi={fee:0,admin:0,status:"",timelimit:Object(ye["a"])(new Date,"yyyy-MM-dd"),timelimit_hours:Object(ye["a"])(Object(xe["a"])(new Date,2),"HH"),timelimit_minutes:10,tgl_refund:Object(ye["a"])(new Date,"yyyy-MM-dd")}}},computed:{},mounted(){this.$eventBus.$on("loadDataPassengerRebook",e=>{this.passengerRebook=e})},unmounted(){},created(){this.setData(),this.getCaptcha();for(let e=1;e<24;e++){let t=e;t<10&&(t="0"+t),this.hours.push(t)}for(let e=0;e<6;e++){let t=10*e;this.minutes.push(t)}}},_e=a("d959"),ke=a.n(_e);const we=ke()(ve,[["render",ge]]);t["a"]=we}}]);